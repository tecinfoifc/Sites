/*
Saci v0.3 - Sistema de Aprendizagem 
Ricardo Anido - Instituto de Computação - Universidade Estadual de Campinas
Powered by jQWidgets and Codemirror

--------------------------------------------------

jQWidgets
Copyright (c) 2011-2014 jQWidgets.
License: http://jqwidgets.com/license/

---------------------------------------------------

Codemirror
http://codemirror.net
Copyright (C) 2014 by Marijn Haverbeke <marijnh@gmail.com> and others
Distributed under an MIT license: http://codemirror.net/LICENSE

---------------------------------------------------

sprintf.js
Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
3 clause BSD license

---------------------------------------------------

sscanf.js
discuss at: http://phpjs.org/functions/sscanf/
original by: Brett Zamir (http://brett-zamir.me)

---------------------------------------------------

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function onYouTubeIframeAPIReady(){var e=$("#hiddenvideo").val();""!=e?_player=new YT.Player("player",{height:"192",width:"340",videoId:e,playerVars:{rel:0,theme:"light",showinfo:0,modestbranding:0,origin:"olimpiada.ic.unicamp.br"}}):$("#player").html('<div style="text-align: center;vertical-align: middle;line-height: 192px;">'+_translate("there_is_no_video")+"</div>")}function _ratingSet(e){var t,i;e!==_theRating[_installed_rater]&&($("#exerciseRatingMsg"+_installed_rater.toString()).html(_translate("thanks")),setTimeout(_removeRatingMsg,1e3),_theRating[_installed_rater]=e,t=_installed_rater,0===_installed_rater?(_theRating[_num_exercises]=e,i="#exerciseRatingStars"+(_num_exercises+1).toString(),$(i).jqxRating({value:e}),i="#exerciseRatingMsg"+(_num_exercises+1).toString(),$(i).html("")):_installed_rater===_num_exercises+1&&(_theRating[0]=e,t=0,i="#exerciseRatingStars0",$(i).jqxRating({value:e}),i="#exerciseRatingMsg0",$(i).html("")),_log_actions&&$.post(_log_addr,{thetype:6,theuseremail:_the_user_email,thecourse:$("#hiddencourse").val(),theclass:_utf8_to_b64($("title").html()),theexercise:t,thecode:"",thetotaltests:0,thecorrecttests:e}))}function _removeRatingMsg(){0===_installed_rater||_installed_rater===_num_exercises+1?($("#exerciseRatingMsg0").attr("class","rankFaded"),$("#exerciseRatingMsg0").html(_translate("re_rank_class")),$("#exerciseRatingMsg"+(_num_exercises+1).toString()).attr("class","rankFaded"),$("#exerciseRatingMsg"+(_num_exercises+1).toString()).html(_translate("re_rank_exercise"))):($("#exerciseRatingMsg"+_installed_rater.toString()).attr("class","rankFaded"),$("#exerciseRatingMsg"+_installed_rater.toString()).html(_translate("re_rank_exercise")))}function _do_a_tour(){_log_actions&&$.post(_log_addr,{thetype:5,theuseremail:_the_user_email,thecourse:$("#hiddencourse").val(),theclass:_utf8_to_b64($("title").html()),theexercise:-1,thecode:"",thetotaltests:0,thecorrecttests:0}),$("body").chardinJs("begin")}function _show_history(){return _registeredUser?($.post("http://olimpiada.ic.unicamp.br/saci/cursos_r/py_show_history",{theuseremail:_the_user_email,thecourse:$("#hiddencourse").val()},function(e,t){"success"==t?($("#historyContent").html(e),$("#historyWindow").jqxWindow("open"),$("#historyWindow").jqxWindow("focus")):_myAlert(_translate("error_operation"))}).fail(function(){_myAlert(_translate("error_operation"))}),void(_log_actions&&$.post(_log_addr,{thetype:7,theuseremail:_the_user_email,thecourse:$("#hiddencourse").val(),theclass:_utf8_to_b64($("title").html()),theexercise:-1,thecode:"",thetotaltests:0,thecorrecttests:0}))):void _myAlert(_translate("feature_restricted_to_registered_users"))}function _report_a_problem(){$("#reportWindow").jqxWindow("open"),$("#reportWindow").jqxWindow("focus")}function _do_report_a_problem(){var e="Usuário: "+_the_user_email+"\nCurso: "+_b64_to_utf8($("#hiddencourse").val())+"\nAula: "+$(document).find("title").text()+"\nExercício: "+(1+_installed_exercise).toString()+"\nMensagem: "+$("#report_msg").val();$.post("http://olimpiada.ic.unicamp.br/saci/py_report_a_problem",{thedata:window.btoa(e)},function(e,t){"success"==t?_myAlertWithHeader(_translate("confirm"),_translate("report_received")):_myAlert(_translate("error_operation"))}).fail(function(){_myAlert(_translate("error_operation"))})}function _setCookie(e,t,i){var r;if(i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3),r="; expires="+s.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"}function _getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),r=0;r<i.length;r++){var s=i[r].trim();if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}function _setTextSize(e){var t;t=_getCookie("prefsize");var i=parseInt(t.replace("px",""))+e;t=i.toString()+"px",_deleteCookie("prefsize"),_setCookie("prefsize",t,7),$("#textareaInput").css("font-size",t),$("#textareaOutput").css("font-size",t),_editor.getWrapperElement().style.fontSize=t,_editor.refresh()}function _deleteCookie(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function _defaultSize(){var e;e=_getCookie("prefsize"),e||(e=$("#textareaInput").css("font-size")),_deleteCookie("prefsize"),_setCookie("prefsize",e,7),_setTextSize(0)}function _inputSave(){if(_local_save_and_retrieve)return void _localInputSave();if(!_registeredUser)return void _myAlert(_translate("feature_restricted_to_registered_users"));if(-1===_installed_exercise)return void _myAlert(_translate("select_exercise"));_backup_type=0,$("#modalHeader").html("Salva Entrada");var e=_installed_exercise+1;$("#modalContentDynamic").html($("title").text()+"<br>Exercício "+e.toString()+"<br>"),$("#modalWindow").jqxWindow("open"),$("#modalWindow").jqxWindow("focus")}function _codeSave(){if(_local_save_and_retrieve)return void _localCodeSave();if(!_registeredUser)return void _myAlert(_translate("feature_restricted_to_registered_users"));if(-1===_installed_exercise)return void _myAlert(_translate("select_exercise"));_backup_type=1,$("#modalHeader").html(_translate("save_program"));var e=_installed_exercise+1;$("#modalContentDynamic").html($("title").text()+"<br>"+_translate("exercise")+" "+e.toString()+"<br>"),$("#modalWindow").jqxWindow("open"),$("#modalWindow").jqxWindow("focus")}function _saveSubmit(){var e,t,i=_installed_exercise+1;if(0==_backup_type?(t=$("#textareaInput").val(),e=0):1==_backup_type&&(_editor.save(),t=$("#textareaCode").val(),e=1),t.length>8e3)return _myAlert(_translate("error_program_too_large")),void $("#modalWindow").jqxWindow("close");if(0==t.length)return _myAlert("nothing_to_save"),void $("#modalWindow").jqxWindow("close");var r=$("#modalComment").val();""==r&&(r=" "),$.post("http://olimpiada.ic.unicamp.br/saci/cursos/py_add_a_backup",{theclass:_utf8_to_b64($("title").html()),thecourse:$("#hiddencourse").val(),theexercise:i.toString(),thedata:_utf8_to_b64(t),thecomment:_utf8_to_b64(r),thetype:e},function(e,t){"success"==t?$("#modalWindow").jqxWindow("close"):_myAlert(_translate("error_operation"))})}function _utf8_to_b64(e){return window.btoa(e)}function _b64_to_utf8(e){return window.atob(e)}function _buildSource(){$.post("http://olimpiada.ic.unicamp.br/saci/cursos/py_retrieve_backups",{thetype:_backup_type},function(e,t){if("empty"==e)return void _myAlert(_translate("nothing_saved_yet"));if("success"==t){var i=e.split("|");_source.localdata=[];for(var r=0;r<i.length;r++){var s=i[r].split(";");_source.localdata.push([s[0],_b64_to_utf8(s[1]),_b64_to_utf8(s[2]),s[3],_b64_to_utf8(s[4]),s[5]])}$("#jqxgrid").jqxGrid("updatebounddata","cells"),$("#jqxgrid").jqxGrid("clearselection"),_jqxgrid_selected_index=-1,$("#modalHeader2").html(0==_backup_type?_translate("retrieve_input"):_translate("retrieve_program"));var n=_installed_exercise+1;$("#modalContentDynamic2").html($("title").text()+"<br>"+_translate("exercise")+" "+n.toString()+"<br>"),$("#modalWindow2").jqxWindow("open"),$("#modalWindow2").jqxWindow("focus")}else _myAlert(_translate("error_operation"))})}function _inputRetrieve(){return _local_save_and_retrieve?void _localFileRetrieve(0):_registeredUser?-1===_installed_exercise?void _myAlert(_translate("select_exercise")):(_backup_type=0,void _buildSource()):void _myAlert(_translate("feature_restricted_to_registered_users"))}function _codeRetrieve(){return _local_save_and_retrieve?void _localFileRetrieve(1):_registeredUser?-1===_installed_exercise?void _myAlert(_translate("select_exercise")):(_backup_type=1,void _buildSource()):void _myAlert(_translate("feature_restricted_to_registered_users"))}function _getRegisteredUser(){_the_user_email=$("#headerUser").html(),"naoregistrado@saci"==_the_user_email||"notregistered@saci"==_the_user_email?(_registeredUser=!1,_log_addr="http://olimpiada.ic.unicamp.br/saci/cursos_u/log/py_log_a_event"):(_log_addr="http://olimpiada.ic.unicamp.br/saci/cursos/log/py_log_a_event",_registeredUser=!0)}function _retrieveSubmit(){return-1==_jqxgrid_selected_index?void _myAlert(_translate(0==_backup_type?"select_input_to_retrieve":"select_program_to_retrieve")):void $.post("http://olimpiada.ic.unicamp.br/saci/cursos/py_retrieve_a_backup",{the_backup_id:_source.localdata[_jqxgrid_selected_index][5],the_type:_backup_type},function(e,t){"success"==t?(e=_b64_to_utf8(e),0==_backup_type?$("#textareaInput").val(e):1==_backup_type&&(_editor.setValue(e),_editor.save()),$("#jqxgrid").jqxGrid("clearfilters"),$("#modalWindow2").jqxWindow("close")):_myAlert(_translate("error_operation"))}).fail(function(){_myAlert(_translate("error_operation"))})}function _retrieveRemove(){return-1==_jqxgrid_selected_index?void _myAlert(_translate(0==_backup_type?"select_input_to_remove":"select_program_to_remove")):void $.post("http://olimpiada.ic.unicamp.br/saci/cursos/py_delete_a_backup",{the_backup_id:_source.localdata[_jqxgrid_selected_index][5],the_type:_backup_type},function(e,t){"success"==t?($("#jqxgrid").jqxGrid("clearfilters"),$("#modalWindow2").jqxWindow("close")):_myAlert(_translate("error_operation"))})}function _solveExercise(e){_installExercise(e)}function _myConfirm(e,t){$("#confirmHeader").html(_translate("confirm")),$("#confirmContentDynamic").html(e),_confirmAction=t,$("#confirmWindow").jqxWindow("open"),$("#confirmWindow").jqxWindow("focus")}function outf(e){printf(e)}function outf2(e){_printf_output+=e}function builtinRead(e){if(void 0===Sk.builtinFiles||void 0===Sk.builtinFiles.files[e])throw"File not found: '"+e+"'";return Sk.builtinFiles.files[e]}function _codeExecute(){_send_printf_to="browser",_editor.save();var e=_editor.doc.getValue();if(e.length>8e3)$("#textareaOutput").val(_translate("error_program_too_large"));else if(_current_input_point=0,_current_input=$("#textareaInput").val(),"js"==_prog_language)try{window.eval(e)}catch(t){_print_error(t)}else{var i;i=window.saci_run(),printf(i[0])}$("#textareaOutput").scrollTop($("#textareaOutput")[0].scrollHeight),_log_actions&&$.post(_log_addr,{thetype:3,theuseremail:_the_user_email,thecourse:$("#hiddencourse").val(),theclass:_utf8_to_b64($("title").html()),theexercise:_installed_exercise+1,thecode:_utf8_to_b64(e),thetotaltests:0,thecorrecttests:0})}function _checkCorrectness(){var e,t=_editor.doc.getValue(),i=0,r=0,s=0,n=0;e="\n"+_translate("submission_exercise")+" "+(_installed_exercise+1).toString()+"\n-----------------------\n";for(var o=0;o<_tests[_installed_exercise].length;o++){if(_current_input_point=0,_current_input=_tests[_installed_exercise][o],_send_printf_to="differ",_printf_output="","js"==_prog_language)try{window.eval(t)}catch(a){_print_error(a)}else{$("#run_js").click();var l;l=window.saci_run(),_printf_output=l[0]}var h=_translate("test");e+=sprintf(h,o+1),_diff(_printf_output,_results[_installed_exercise][o])?(i++,e+=_translate("correct")):(e+=_translate("incorrect"),_diff2(_printf_output,_results[_installed_exercise][o])&&r++,_diff3(_printf_output,_results[_installed_exercise][o])&&s++,_diff4(_printf_output,_results[_installed_exercise][o])&&n++)}return e+="-----------------------\n",e+=i==_tests[_installed_exercise].length?_translate("solution_correct")+"\n\n":_translate("solution_incorrect")+"\n\n",{correct_tests:i,correct_tests_nospace:r,correct_tests_lower:s,correct_tests_nospace_lower:n,theresult:e}}function _codeSubmit(){if(-1===_installed_exercise)return void _myAlert(_translate("select_exercise"));if(_tests[_installed_exercise].length!=_results[_installed_exercise].length)return void _myAlert(_translate("error_incorrect_test_specification"));_editor.save();var e=_editor.doc.getValue();if(e.length>8e3)return void _myAlert(_translate("error_program_too_large"));$("#notificationSuccess").jqxNotification("closeAll"),$("#notificationError").jqxNotification("closeAll");var t=_checkCorrectness();if(_send_printf_to="browser",printf(t.theresult),$("#textareaOutput").scrollTop($("#textareaOutput")[0].scrollHeight),t.correct_tests==_tests[_installed_exercise].length){var i;i=0===_page_language?["Terrific!","Perfect!","Very good!","Excellent!","Great!"]:["Muito bem!","Perfeito!","Muito bom!","Excelente!","Ótimo!"];var r=(Math.floor(10*Math.random()+1)%i.length,i[Math.floor(10*Math.random()+1)%i.length]);$("#notificationSuccessMessage").html("&nbsp;&nbsp;"+r),$("#notificationSuccess").jqxNotification("open")}else t.correct_tests_nospace==_tests[_installed_exercise].length?($("#notificationErrorMessage").html(_translate("hmmm")+_translate("error_differences_in_space")),$("#notificationError").jqxNotification("open")):t.correct_tests_lower==_tests[_installed_exercise].length?($("#notificationErrorMessage").html(_translate("hmmm")+_translate("error_differences_in_uppercase")),$("#notificationError").jqxNotification("open")):t.correct_tests_nospace_lower==_tests[_installed_exercise].length?($("#notificationErrorMessage").html(_translate("hmmm")+_translate("error_differences_in_space_uppercase")),$("#notificationError").jqxNotification("open")):""!==_hints[_installed_exercise][0][0]?($("#notificationErrorMessage").html(_translate("hmmm")+_translate("solution_incorrect_try_hint")),$("#notificationError").jqxNotification("open")):($("#notificationErrorMessage").html(_translate("hmmm")+_translate("solution_incorrect_long")),$("#notificationError").jqxNotification("open"));_log_actions&&$.post(_log_addr,{thetype:4,theuseremail:_the_user_email,thecourse:$("#hiddencourse").val(),theclass:_utf8_to_b64($("title").html()),theexercise:_installed_exercise+1,thecode:_utf8_to_b64(e),thetotaltests:_tests[_installed_exercise].length,thecorrecttests:t.correct_tests})}function _diff(e,t){return e!=t?!1:!0}function _diff2(e,t){var i=e.replace(/\s+/g,""),r=t.replace(/\s+/g,"");return i!=r?!1:!0}function _diff3(e,t){var i=e.toLowerCase(),r=t.toLowerCase();return i!=r?!1:!0}function _diff4(e,t){var i=e.replace(/\s+/g,"").toLowerCase(),r=t.replace(/\s+/g,"").toLowerCase();return i!=r?!1:!0}function _outputClear(){$("#textareaOutput").val("")}function _outputExpected(){if(-1===_installed_exercise)return void _myAlert(_translate("select_exercise"));_send_printf_to="browser",printf("\n"+_translate("expected_output")+":\n---------------\n");var e=_solutions[_installed_exercise];_current_input_point=0,_current_input=$("#textareaInput").val();try{window.eval(e)}catch(t){_print_error(t)}printf("---------------\n\n"),$("#textareaOutput").scrollTop($("#textareaOutput")[0].scrollHeight)}function _inputClear(){$("#textareaInput").val("")}function _codeClear(){_myConfirm(_translate("confirm_clear_program_area"),_doClear)}function _doClear(){_editor.setValue(""),_editor.save()}function _codeHintNext(){_hints_shown<_hints_ready.length&&($("#notificationHintMessage").html(_hints_ready[_hints_shown]),_hints_shown++,$("#notificationHintMessageNext").html(_hints_shown<_hints_ready.length?'<a href="#" onclick="_codeHintNext();return false;"><img src="css/images/button_next_hint.png"/></a>':""),$("#notificationHint").jqxNotification("open"))}function _codeHint(){var e,t,i;if($("#notificationHint").jqxNotification("closeAll"),-1===_installed_exercise)return void _myAlert(_translate("select_exercise"));_hints_shown=0,_hints_ready=[],_editor.save();var e=_editor.doc.getValue();if(e.length>8e3)return void _myAlert(_translate("error_program_too_large"));_log_actions&&$.post(_log_addr,{thetype:2,theuseremail:_the_user_email,thecourse:$("#hiddencourse").val(),theclass:_utf8_to_b64($("title").html()),theexercise:_installed_exercise+1,thecode:_utf8_to_b64(e),thetotaltests:0,thecorrecttests:0});var r=_checkCorrectness();if(_send_printf_to="browser",r.correct_tests==_tests[_installed_exercise].length)return _hints_ready[_hints_ready.length]=_translate("i_see_you_do_not_need_help"),void _codeHintNext();if(r.correct_tests_nospace==_tests[_installed_exercise].length)return _hints_ready[_hints_ready.length]=_translate("very_good")+_translate("error_differences_in_space"),_hints_ready[_hints_ready.length]=_translate("very_good")+_translate("error_each_line_in_output_must_end"),void _codeHintNext();if(r.correct_tests_lower==_tests[_installed_exercise].length)return _hints_ready[_hints_ready.length]=_translate("very_good")+_translate("error_differences_in_uppercase"),void _codeHintNext();if(r.correct_tests_nospace_lower==_tests[_installed_exercise].length)return _hints_ready[_hints_ready.length]=_translate("very_good")+_translate("error_differences_in_space_uppercase"),_hints_ready[_hints_ready.length]=_translate("very_good")+_translate("error_each_line_in_output_must_end"),void _codeHintNext();if("js"==_prog_language){t=e.replace(/\/\*.*[\n\r]*.*\*\/|\/\/.*[\n\r]*/g," ").trim();var s=JSHINT(e);s||(_hints_ready[_hints_ready.length]=_translate("your_program_has_a_syntax_error")+JSHINT.errors[0].line.toString()+_translate("to_see_the_error")+JSHINT.errors[0].line.toString()+".");for(var n=0;n<_hints[_installed_exercise].length;n++){if("empty"===_hints[_installed_exercise][n][0]){for(var o=1;o<_hints[_installed_exercise][n].length;o++)_hints_ready[_hints_ready.length]=_hints[_installed_exercise][n][o];break}if(""!==_hints[_installed_exercise][n][0]&&(i=new RegExp(_hints[_installed_exercise][n][0],"m"),i.test(t))){for(var o=1;o<_hints[_installed_exercise][n].length;o++)_hints_ready[_hints_ready.length]=_hints[_installed_exercise][n][o];break}}0==_hints_ready.length&&(_hints_ready[_hints_ready.length]=_translate("no_hint_available"))}_codeHintNext()}function _codeFormat(){_editor.getCursor(!0)===_editor.getCursor(!1)?_myAlert(_translate("select_lines_to_format")):_editor.autoFormatRange(_editor.getCursor(!0),_editor.getCursor(!1))}function _myAlert(e){$("#alertWindow").jqxWindow("setTitle",_translate("alert")),$("#alertWindowImg").attr("src","css/images/mini-alert-icon.png"),$("#alertWindowImg").attr("width","40px"),$("#alertWindowImg").attr("height","25px"),$("#alertContentDynamic").html(e),$("#alertWindow").jqxWindow("open"),$("#alertWindow").jqxWindow("focus")}function _myAlertWithHeader(e,t){$("#alertWindow").jqxWindow("setTitle",e),$("#alertHeader").html(e),$("#alertWindowImg").attr("src","css/images/mini-alert-icon.png"),$("#alertWindowImg").attr("width","40px"),$("#alertWindowImg").attr("height","25px"),$("#alertContentDynamic").html(t),$("#alertWindow").jqxWindow("open"),$("#alertWindow").jqxWindow("focus")}function _myAlertWithHeaderIcon(e,t,i){$("#alertWindow").jqxWindow("setTitle",e),$("#alertWindowImg").attr("width","40px"),$("#alertWindowImg").attr("height","40px"),$("#alertWindowImg").attr("src","css/images/"+i),$("#alertContentDynamic").html(t),$("#alertWindow").jqxWindow("open"),$("#alertWindow").jqxWindow("focus")}function printf(){var e=sprintf.apply(this,Array.prototype.slice.call(arguments,0));"browser"==_send_printf_to?$("#textareaOutput").val(""!=$("#textareaOutput").val()?$("#textareaOutput").val()+e:e):_printf_output+=e}function _splitTests(){var e,t,i;e=atob($("#hiddentests").val()).split("^"),_num_exercises=e.length;for(var r=0;r<e.length;r++)_tests[r]=e[r].split(";");e=atob($("#hiddenresults").val()).split("^");for(var r=0;r<e.length;r++)_results[r]=e[r].split(";");_samples=atob($("#hiddensamples").val()).split("^"),_solutions=atob($("#hiddensolutions").val()).split("^"),e=atob($("#hiddenhints").val()).split("^");for(var r=0;r<e.length;r++){_hints[r]=[],t=e[r].split("@");for(var s=0;s<t.length;s++)i=t[s].trim().split("\n"),_hints[r][s]=i}_installed_exercise=-1,_installed_rater=0,_theRating=[];for(var r=0;_num_exercises+1>=r;r++)_theRating[r]=0}function _installRater(e){_installed_rater=e}function _installExercise(e){_installed_exercise=e,_installed_rater=e+1,$("#textareaInput").val(_samples[_installed_exercise]),$("#textareaOutput").val(""),$("#exercise_title").html(_translate("solving_exercise")+" "+(e+1)),document.getElementById("codehintBTNdiv").style.display=""===_hints[_installed_exercise][0][0]?"none":"inline"}function _translate(e){try{e=_translate_table[e][_page_language]}catch(t){return e}return e}function _translate_error(e){if(0===_page_language)return e;try{e=e.replace("Can't find variable","variável não encontrada"),e=e.replace("Unexpected EOF","final de arquivo inesperado"),e=e.replace("Unexpected end of input","final de arquivo inesperado"),e=e.replace("evaluating","avaliando"),e=e.replace("identifier starts immediately after numeric literal","identificador começaa imediatamente após literal numérico"),e=e.replace("is not an object","não é um objeto"),e=e.replace("is not defined","não foi definido"),e=e.replace("missing name after . operator","falta nome após operador ."),e=e.replace("syntax error","erro de sintaxe"),e=e.replace("undefined","indefinido"),e=e.replace("Error while reading in scanf","erro durante leitura em scanf"),e=e.replace("No match in string in scanf","cadeia formatadora não casa com argumentos em scanf"),e=e.replace("Not enough arguments passed to scanf","número insuficiente de argumentos em scanf"),e=e.replace("Unexpected size specifier in canf()","especificador com erro em cadeia formatadora de scanf"),e=e.replace("Missing character after percent mark in scanf() format argument","falta caractere após símbolo porcentagem na cadeia formatadora de scanf"),e=e.replace("Unrecognized character after percent mark in scanf() format argument","caractere não reconhecido após símbolo porcentagem na cadeia formatadora de scanf")}catch(t){e="programa com erro"}return e}function _translate_error_name(e){if(0===_page_language)return e;try{e=e.replace("EvalError","erro de execução"),e=e.replace("RangeError","erro de intervalo"),e=e.replace("ReferenceError","erro de referência"),e=e.replace("SyntaxError","erro de sintaxe"),e=e.replace("TypeError","erro de tipo"),e=e.replace("URIError","erro de URI")}catch(t){e="erro de execução"}return e}function _print_error(e){var t,i,r;if("firefox"==_response.browser.accessName)try{t=e.stack.split("\n"),r=/saci.js:(\d+)$/,i=1+parseInt(r.exec(t[0])[1])-parseInt(r.exec(t[1])[1]),printf("\n"+_translate("error_in_line")+" %d\n------------------\n",i)}catch(s){printf("\n"+_translate("error")+"\n------------------\n")}else if("chrome"==_response.browser.accessName||"safari"==_response.browser.accessName)try{t=e.stack.split("\n"),r=/<anonymous>:(\d+):/,i=parseInt(r.exec(t[1])[1]),printf("\n"+_translate("error_in_line")+" %d\n------------------\n",i)}catch(s){printf("\n"+_translate("error")+"\n------------------\n")}else printf("\n"+_translate("error")+"\n------------------\n");printf(_translate("type")+": %s\n",_translate_error_name(e.name)),printf(_translate("error_message")+":  %s\n",_translate_error(e.message))}function _resizeEnd(){if(new Date-_rtime<_delta)setTimeout(_resizeEnd,_delta);else{_timeout=!1;var e=($("#inputPanel").height(),$("#inputPanel").parent().height());$("#textareaInput").height(e-100),$("#textareaOutput").height(e-100),$("#textareaCode").height(e-100),_editor.setSize($("#textareaCode").width(),e-91)}}function _showHide(e){document.getElementById(e)&&("none"!=document.getElementById(e+"-show").style.display?(document.getElementById(e+"-show").style.display="none",document.getElementById(e).style.display="block"):(document.getElementById(e+"-show").style.display="inline",document.getElementById(e).style.display="none"))}function _saveTextAsFile(e,t){var i=new Blob([e],{type:"text/plain"}),r=document.createElement("a");r.download=t,r.innerHTML="My Hidden Link",window.URL=window.URL||window.webkitURL,r.href=window.URL.createObjectURL(i),r.onclick=destroyClickedElement,r.style.display="none",document.body.appendChild(r),r.click()}function destroyClickedElement(e){document.body.removeChild(e.target)}function _localCodeSave(){_editor.save();var e=$("#textareaCode").val();-1==_installed_exercise||_installed_exercise>=_num_exercises?_saveTextAsFile(e,"tarefa","script/javascript"):_saveTextAsFile(e,_task_names[_installed_exercise],"script/javascript")}function _localInputSave(){var e=$("#textareaInput").val();_saveTextAsFile(e,"entrada","text/plain")}function _localFileRetrieve(e){_backup_type=e,_readFile("#fileDialog")}function _readFile(e){var t=$(e);t.change(function(e){var t=e.target,i=new FileReader;i.onload=function(){var e=i.result;0==_backup_type?$("#textareaInput").val(e):(_editor.setValue(e),_editor.save())},i.readAsText(t.files[0])}),t.trigger("click")}function _chooseFile(e){var t=$(e);t.change(function(){$.ajax({url:$(this).val(),dataType:"text",success:function(e){_editor.setValue(e),_editor.save(),$("#textareaInput").val(e)}})}),t.trigger("click")}function scanf(e){var t,i=[],r=/\S/,s=arguments,n=_current_input,o=function(t){var r=e.slice(t).match(/%[cdeEufgosxX]/g);if(r)for(var s=r.length;s--;)i.push(null);return a()},a=function(){if(1===s.length)return i;var e,t,r;for(r=0;r<i.length;++r){if("number"==typeof i[r])t=i[r].toString();else{if("string"!=typeof i[r])throw new Error(_translate("scanf_error_while_reading"));t="'"+_formatStr(i[r])+"'"}e=s[r+1]+"="+t,self.eval(e)}return r},l=function(e,r,s){if(c){var o=n.slice(e),a=d?o.substr(0,d):o,l=r.exec(a),h=i[void 0!==t?t:i.length]=l?s?s.apply(null,l):l[0]:null;if(null===h)throw new Error(_translate("scanf_error_no_match"));return e+l[0].length}return e};if(arguments.length<1)throw new Error(_translate("scanf_error_not_enough_args"));for(var h=0;h<e.length;h++){var d=0,c=!0;if("%"===e.charAt(h)){if("%"===e.charAt(h+1)){if("%"===n.charAt(_current_input_point)){++h,++_current_input_point;continue}return o(h+2)}var u=new RegExp("^(?:(\\d+)\\$)?(\\*)?(\\d*)([hlL]?)","g"),p=u.exec(e.slice(h+1)),f=t;if(f&&void 0===p[1])throw new Error(_translate("scanf_error_all_groups_as_numeric"));t=p[1]?parseInt(p[1],10)-1:void 0,c=!p[2],d=parseInt(p[3],10);var m=p[4];if(h+=u.lastIndex,m)switch(m){case"h":case"l":case"L":break;default:throw new Error(_translate("scanf_error_unexpected_size"))}try{switch(e.charAt(h+1)){case"F":break;case"g":break;case"G":break;case"b":break;case"i":_current_input_point=l(_current_input_point,/\s*([+-])?(?:(?:0x([\da-fA-F]+))|(?:0([0-7]+))|(\d+))/,function(e,t,i,r){return i?parseInt(e,16):r?parseInt(e,8):parseInt(e,10)});break;case"n":i[void 0!==t?t:i.length-1]=_current_input_point;break;case"c":_current_input_point=l(_current_input_point,new RegExp("(\\s|\\S){1,"+(d||1)+"}"));break;case"D":case"d":_current_input_point=l(_current_input_point,/\s*([+-])?(?:0*)(\d+)/,function(e,t,i){var r=parseInt((t||"")+i,10);return 0>r?-2147483648>r?-2147483648:r:2147483647>r?r:2147483647});break;case"f":case"E":case"e":_current_input_point=l(_current_input_point,/\s*([+-])?(\d*\.?\d*(?:[eE]?\d+)?)/,function(e,t,i){return"."===i?null:parseFloat((t||"")+i)});break;case"u":_current_input_point=l(_current_input_point,/\s*([+-])?(?:0*)(\d+)/,function(e,t,i){var r=parseInt(i,10);return"-"===t?4294967296-r:4294967295>r?r:4294967295});break;case"o":_current_input_point=l(_current_input_point,/\s*([+-])?(?:0([0-7]+))/,function(e){return parseInt(e,8)});break;case"s":_current_input_point=l(_current_input_point,/\s*(\S+)/,function(e){return e.trim()});break;case"X":case"x":_current_input_point=l(_current_input_point,/\s*([+-])?(?:(?:0x)?([\da-fA-F]+))/,function(e){return parseInt(e,16)});break;case"":throw new Error(_translate("scanf_error_missing_charac_after_percent"));default:throw new Error(_translate("scanf_error_unrecognized_charac_after_percent"))}}catch(g){if("No match in string\n"===g)return o(h+2)}++h}else if(e.charAt(h)!==n.charAt(_current_input_point)){if(r.lastIndex=0,r.test(n.charAt(_current_input_point))||""===n.charAt(_current_input_point))return o(h+1);n=n.slice(0,_current_input_point)+n.slice(_current_input_point+1),h--}else _current_input_point++}return a()}function _formatStr(e){return e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"').replace(/\'/g,"\\'").replace(/\n/g,"\\n")}function fgets(e){var t="",i=_current_input,r=_current_input_point,s=_current_input_point;if(1!==arguments.length)throw new Error(_translate("fgets_error_only_one_argument"));for(;;){if(_current_input_point==i.length)break;if("\n"===i.charAt(_current_input_point)){++_current_input_point;break}++s,++_current_input_point}t=_formatStr(i.slice(r,s));var n=e+"='"+t+"'";return self.eval(n),t}!function(e,t){function i(e){var t=e.length,i=nt.type(e);return nt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=ft[e]={};return nt.each(e.match(at)||[],function(e,i){t[i]=!0}),t}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=nt.expando+Math.random()}function n(e,i,r){var s;if(r===t&&1===e.nodeType)if(s="data-"+i.replace(wt,"-$1").toLowerCase(),r=e.getAttribute(s),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:vt.test(r)?JSON.parse(r):r}catch(n){}mt.set(e,i,r)}else r=t;return r}function o(){return!0}function a(){return!1}function l(){try{return $.activeElement}catch(e){}}function h(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function d(e,t,i){if(nt.isFunction(t))return nt.grep(e,function(e,r){return!!t.call(e,r,e)!==i});if(t.nodeType)return nt.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(It.test(t))return nt.filter(t,e,i);t=nt.filter(t,e)}return nt.grep(e,function(e){return tt.call(t,e)>=0!==i})}function c(e,t){return nt.nodeName(e,"table")&&nt.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function u(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Ot.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function f(e,t){for(var i=e.length,r=0;i>r;r++)gt.set(e[r],"globalEval",!t||gt.get(t[r],"globalEval"))}function m(e,t){var i,r,s,n,o,a,l,h;if(1===t.nodeType){if(gt.hasData(e)&&(n=gt.access(e),o=gt.set(t,n),h=n.events)){delete o.handle,o.events={};for(s in h)for(i=0,r=h[s].length;r>i;i++)nt.event.add(t,s,h[s][i])}mt.hasData(e)&&(a=mt.access(e),l=nt.extend({},a),mt.set(t,l))}}function g(e,i){var r=e.getElementsByTagName?e.getElementsByTagName(i||"*"):e.querySelectorAll?e.querySelectorAll(i||"*"):[];return i===t||i&&nt.nodeName(e,i)?nt.merge([e],r):r}function v(e,t){var i=t.nodeName.toLowerCase();"input"===i&&At.test(e.type)?t.checked=e.checked:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}function w(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=t,s=Qt.length;s--;)if(t=Qt[s]+i,t in e)return t;return r}function x(e,t){return e=t||e,"none"===nt.css(e,"display")||!nt.contains(e.ownerDocument,e)}function b(t){return e.getComputedStyle(t,null)}function _(e,t){for(var i,r,s,n=[],o=0,a=e.length;a>o;o++)r=e[o],r.style&&(n[o]=gt.get(r,"olddisplay"),i=r.style.display,t?(n[o]||"none"!==i||(r.style.display=""),""===r.style.display&&x(r)&&(n[o]=gt.access(r,"olddisplay",q(r.nodeName)))):n[o]||(s=x(r),(i&&"none"!==i||!s)&&gt.set(r,"olddisplay",s?i:nt.css(r,"display"))));for(o=0;a>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?n[o]||"":"none"));return e}function y(e,t,i){var r=Vt.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function j(e,t,i,r,s){for(var n=i===(r?"border":"content")?4:"width"===t?1:0,o=0;4>n;n+=2)"margin"===i&&(o+=nt.css(e,i+Zt[n],!0,s)),r?("content"===i&&(o-=nt.css(e,"padding"+Zt[n],!0,s)),"margin"!==i&&(o-=nt.css(e,"border"+Zt[n]+"Width",!0,s))):(o+=nt.css(e,"padding"+Zt[n],!0,s),"padding"!==i&&(o+=nt.css(e,"border"+Zt[n]+"Width",!0,s)));return o}function C(e,t,i){var r=!0,s="width"===t?e.offsetWidth:e.offsetHeight,n=b(e),o=nt.support.boxSizing&&"border-box"===nt.css(e,"boxSizing",!1,n);if(0>=s||null==s){if(s=Rt(e,t,n),(0>s||null==s)&&(s=e.style[t]),Gt.test(s))return s;r=o&&(nt.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+j(e,t,i||(o?"border":"content"),r,n)+"px"}function q(e){var t=$,i=Yt[e];return i||(i=T(e,t),"none"!==i&&i||(Ft=(Ft||nt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Ft[0].contentWindow||Ft[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=T(e,t),Ft.detach()),Yt[e]=i),i}function T(e,t){var i=nt(t.createElement(e)).appendTo(t.body),r=nt.css(i[0],"display");
return i.remove(),r}function S(e,t,i,r){var s;if(nt.isArray(t))nt.each(t,function(t,s){i||ti.test(e)?r(e,s):S(e+"["+("object"==typeof s?t:"")+"]",s,i,r)});else if(i||"object"!==nt.type(t))r(e,t);else for(s in t)S(e+"["+s+"]",t[s],i,r)}function I(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,s=0,n=t.toLowerCase().match(at)||[];if(nt.isFunction(i))for(;r=n[s++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(i)):(e[r]=e[r]||[]).push(i)}}function k(e,i,r,s){function n(l){var h;return o[l]=!0,nt.each(e[l]||[],function(e,l){var d=l(i,r,s);return"string"!=typeof d||a||o[d]?a?!(h=d):t:(i.dataTypes.unshift(d),n(d),!1)}),h}var o={},a=e===wi;return n(i.dataTypes[0])||!o["*"]&&n("*")}function B(e,i){var r,s,n=nt.ajaxSettings.flatOptions||{};for(r in i)i[r]!==t&&((n[r]?e:s||(s={}))[r]=i[r]);return s&&nt.extend(!0,e,s),e}function H(e,i,r){for(var s,n,o,a,l=e.contents,h=e.dataTypes;"*"===h[0];)h.shift(),s===t&&(s=e.mimeType||i.getResponseHeader("Content-Type"));if(s)for(n in l)if(l[n]&&l[n].test(s)){h.unshift(n);break}if(h[0]in r)o=h[0];else{for(n in r){if(!h[0]||e.converters[n+" "+h[0]]){o=n;break}a||(a=n)}o=o||a}return o?(o!==h[0]&&h.unshift(o),r[o]):t}function z(e,t,i,r){var s,n,o,a,l,h={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)h[o.toLowerCase()]=e.converters[o];for(n=d.shift();n;)if(e.responseFields[n]&&(i[e.responseFields[n]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=n,n=d.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(o=h[l+" "+n]||h["* "+n],!o)for(s in h)if(a=s.split(" "),a[1]===n&&(o=h[l+" "+a[0]]||h["* "+a[0]])){o===!0?o=h[s]:h[s]!==!0&&(n=a[0],d.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+l+" to "+n}}}return{state:"success",data:t}}function L(){return setTimeout(function(){Si=t}),Si=nt.now()}function P(e,t,i){for(var r,s=(Li[t]||[]).concat(Li["*"]),n=0,o=s.length;o>n;n++)if(r=s[n].call(i,t,e))return r}function D(e,t,i){var r,s,n=0,o=zi.length,a=nt.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Si||L(),i=Math.max(0,h.startTime+h.duration-t),r=i/h.duration||0,n=1-r,o=0,l=h.tweens.length;l>o;o++)h.tweens[o].run(n);return a.notifyWith(e,[h,n,i]),1>n&&l?i:(a.resolveWith(e,[h]),!1)},h=a.promise({elem:e,props:nt.extend({},t),opts:nt.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Si||L(),duration:i.duration,tweens:[],createTween:function(t,i){var r=nt.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(r),r},stop:function(t){var i=0,r=t?h.tweens.length:0;if(s)return this;for(s=!0;r>i;i++)h.tweens[i].run(1);return t?a.resolveWith(e,[h,t]):a.rejectWith(e,[h,t]),this}}),d=h.props;for(A(d,h.opts.specialEasing);o>n;n++)if(r=zi[n].call(h,e,d,h.opts))return r;return nt.map(d,P,h),nt.isFunction(h.opts.start)&&h.opts.start.call(e,h),nt.fx.timer(nt.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function A(e,t){var i,r,s,n,o;for(i in e)if(r=nt.camelCase(i),s=t[r],n=e[i],nt.isArray(n)&&(s=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),o=nt.cssHooks[r],o&&"expand"in o){n=o.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=s)}else t[r]=s}function E(e,i,r){var s,n,o,a,l,h,d=this,c={},u=e.style,p=e.nodeType&&x(e),f=gt.get(e,"fxshow");r.queue||(l=nt._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,h=l.empty.fire,l.empty.fire=function(){l.unqueued||h()}),l.unqueued++,d.always(function(){d.always(function(){l.unqueued--,nt.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in i||"width"in i)&&(r.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===nt.css(e,"display")&&"none"===nt.css(e,"float")&&(u.display="inline-block")),r.overflow&&(u.overflow="hidden",d.always(function(){u.overflow=r.overflow[0],u.overflowX=r.overflow[1],u.overflowY=r.overflow[2]}));for(s in i)if(n=i[s],ki.exec(n)){if(delete i[s],o=o||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!f||f[s]===t)continue;p=!0}c[s]=f&&f[s]||nt.style(e,s)}if(!nt.isEmptyObject(c)){f?"hidden"in f&&(p=f.hidden):f=gt.access(e,"fxshow",{}),o&&(f.hidden=!p),p?nt(e).show():d.done(function(){nt(e).hide()}),d.done(function(){var t;gt.remove(e,"fxshow");for(t in c)nt.style(e,t,c[t])});for(s in c)a=P(p?f[s]:0,s,d),s in f||(f[s]=a.start,p&&(a.end=a.start,a.start="width"===s||"height"===s?1:0))}}function M(e,t,i,r,s){return new M.prototype.init(e,t,i,r,s)}function O(e,t){var i,r={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=Zt[s],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function N(e){return nt.isWindow(e)?e:9===e.nodeType&&e.defaultView}var W,R,F=typeof t,U=e.location,$=e.document,V=$.documentElement,G=e.jQuery,X=e.$,Y={},K=[],J="2.0.2",Z=K.concat,Q=K.push,et=K.slice,tt=K.indexOf,it=Y.toString,rt=Y.hasOwnProperty,st=J.trim,nt=function(e,t){return new nt.fn.init(e,t,W)},ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,at=/\S+/g,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^-ms-/,ct=/-([\da-z])/gi,ut=function(e,t){return t.toUpperCase()},pt=function(){$.removeEventListener("DOMContentLoaded",pt,!1),e.removeEventListener("load",pt,!1),nt.ready()};nt.fn=nt.prototype={jquery:J,constructor:nt,init:function(e,i,r){var s,n;if(!e)return this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:lt.exec(e),!s||!s[1]&&i)return!i||i.jquery?(i||r).find(e):this.constructor(i).find(e);if(s[1]){if(i=i instanceof nt?i[0]:i,nt.merge(this,nt.parseHTML(s[1],i&&i.nodeType?i.ownerDocument||i:$,!0)),ht.test(s[1])&&nt.isPlainObject(i))for(s in i)nt.isFunction(this[s])?this[s](i[s]):this.attr(s,i[s]);return this}return n=$.getElementById(s[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=$,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):nt.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),nt.makeArray(e,this))},selector:"",length:0,toArray:function(){return et.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=nt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return nt.each(this,e,t)},ready:function(e){return nt.ready.promise().done(e),this},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(nt.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:[].sort,splice:[].splice},nt.fn.init.prototype=nt.fn,nt.extend=nt.fn.extend=function(){var e,i,r,s,n,o,a=arguments[0]||{},l=1,h=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[1]||{},l=2),"object"==typeof a||nt.isFunction(a)||(a={}),h===l&&(a=this,--l);h>l;l++)if(null!=(e=arguments[l]))for(i in e)r=a[i],s=e[i],a!==s&&(d&&s&&(nt.isPlainObject(s)||(n=nt.isArray(s)))?(n?(n=!1,o=r&&nt.isArray(r)?r:[]):o=r&&nt.isPlainObject(r)?r:{},a[i]=nt.extend(d,o,s)):s!==t&&(a[i]=s));return a},nt.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===nt&&(e.$=X),t&&e.jQuery===nt&&(e.jQuery=G),nt},isReady:!1,readyWait:1,holdReady:function(e){e?nt.readyWait++:nt.ready(!0)},ready:function(e){(e===!0?--nt.readyWait:nt.isReady)||(nt.isReady=!0,e!==!0&&--nt.readyWait>0||(R.resolveWith($,[nt]),nt.fn.trigger&&nt($).trigger("ready").off("ready")))},isFunction:function(e){return"function"===nt.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[it.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==nt.type(e)||e.nodeType||nt.isWindow(e))return!1;try{if(e.constructor&&!rt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||$;var r=ht.exec(e),s=!i&&[];return r?[t.createElement(r[1])]:(r=nt.buildFragment([e],t,s),s&&nt(s).remove(),nt.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var i,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,i=r.parseFromString(e,"text/xml")}catch(s){i=t}return(!i||i.getElementsByTagName("parsererror").length)&&nt.error("Invalid XML: "+e),i},noop:function(){},globalEval:function(e){var t,i=eval;e=nt.trim(e),e&&(1===e.indexOf("use strict")?(t=$.createElement("script"),t.text=e,$.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(dt,"ms-").replace(ct,ut)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var s,n=0,o=e.length,a=i(e);if(r){if(a)for(;o>n&&(s=t.apply(e[n],r),s!==!1);n++);else for(n in e)if(s=t.apply(e[n],r),s===!1)break}else if(a)for(;o>n&&(s=t.call(e[n],n,e[n]),s!==!1);n++);else for(n in e)if(s=t.call(e[n],n,e[n]),s===!1)break;return e},trim:function(e){return null==e?"":st.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(i(Object(e))?nt.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,i){return null==t?-1:tt.call(t,e,i)},merge:function(e,i){var r=i.length,s=e.length,n=0;if("number"==typeof r)for(;r>n;n++)e[s++]=i[n];else for(;i[n]!==t;)e[s++]=i[n++];return e.length=s,e},grep:function(e,t,i){var r,s=[],n=0,o=e.length;for(i=!!i;o>n;n++)r=!!t(e[n],n),i!==r&&s.push(e[n]);return s},map:function(e,t,r){var s,n=0,o=e.length,a=i(e),l=[];if(a)for(;o>n;n++)s=t(e[n],n,r),null!=s&&(l[l.length]=s);else for(n in e)s=t(e[n],n,r),null!=s&&(l[l.length]=s);return Z.apply([],l)},guid:1,proxy:function(e,i){var r,s,n;return"string"==typeof i&&(r=e[i],i=e,e=r),nt.isFunction(e)?(s=et.call(arguments,2),n=function(){return e.apply(i||this,s.concat(et.call(arguments)))},n.guid=e.guid=e.guid||nt.guid++,n):t},access:function(e,i,r,s,n,o,a){var l=0,h=e.length,d=null==r;if("object"===nt.type(r)){n=!0;for(l in r)nt.access(e,i,l,r[l],!0,o,a)}else if(s!==t&&(n=!0,nt.isFunction(s)||(a=!0),d&&(a?(i.call(e,s),i=null):(d=i,i=function(e,t,i){return d.call(nt(e),i)})),i))for(;h>l;l++)i(e[l],r,a?s:s.call(e[l],l,i(e[l],r)));return n?e:d?i.call(e):h?i(e[0],r):o},now:Date.now,swap:function(e,t,i,r){var s,n,o={};for(n in t)o[n]=e.style[n],e.style[n]=t[n];s=i.apply(e,r||[]);for(n in t)e.style[n]=o[n];return s}}),nt.ready.promise=function(t){return R||(R=nt.Deferred(),"complete"===$.readyState?setTimeout(nt.ready):($.addEventListener("DOMContentLoaded",pt,!1),e.addEventListener("load",pt,!1))),R.promise(t)},nt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()}),W=nt($),function(e,t){function i(e,t,i,r){var s,n,o,a,l,h,d,c,u,p;if((t?t.ownerDocument||t:U)!==A&&D(t),t=t||A,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(M&&!r){if(s=jt.exec(e))if(o=s[1]){if(9===a){if(n=t.getElementById(o),!n||!n.parentNode)return i;if(n.id===o)return i.push(n),i}else if(t.ownerDocument&&(n=t.ownerDocument.getElementById(o))&&R(t,n)&&n.id===o)return i.push(n),i}else{if(s[2])return st.apply(i,t.getElementsByTagName(e)),i;if((o=s[3])&&S.getElementsByClassName&&t.getElementsByClassName)return st.apply(i,t.getElementsByClassName(o)),i}if(S.qsa&&(!O||!O.test(e))){if(c=d=F,u=t,p=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(h=m(e),(d=t.getAttribute("id"))?c=d.replace(Tt,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",l=h.length;l--;)h[l]=c+g(h[l]);u=vt.test(e)&&t.parentNode||t,p=h.join(",")}if(p)try{return st.apply(i,u.querySelectorAll(p)),i}catch(f){}finally{d||t.removeAttribute("id")}}}return C(e.replace(ft,"$1"),t,i,r)}function r(e){return yt.test(e+"")}function s(){function e(i,r){return t.push(i+=" ")>k.cacheLength&&delete e[t.shift()],e[i]=r}var t=[];return e}function n(e){return e[F]=!0,e}function o(e){var t=A.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t,i){e=e.split("|");for(var r,s=e.length,n=i?null:t;s--;)(r=k.attrHandle[e[s]])&&r!==t||(k.attrHandle[e[s]]=n)}function l(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:e[t]===!0?t.toLowerCase():null}function h(e,t){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}function d(e){return"input"===e.nodeName.toLowerCase()?e.defaultValue:t}function c(e,t){var i=t&&e,r=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function u(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function p(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function f(e){return n(function(t){return t=+t,n(function(i,r){for(var s,n=e([],i.length,t),o=n.length;o--;)i[s=n[o]]&&(i[s]=!(r[s]=i[s]))})})}function m(e,t){var r,s,n,o,a,l,h,d=X[e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],h=k.preFilter;a;){(!r||(s=mt.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),l.push(n=[])),r=!1,(s=gt.exec(a))&&(r=s.shift(),n.push({value:r,type:s[0].replace(ft," ")}),a=a.slice(r.length));for(o in k.filter)!(s=_t[o].exec(a))||h[o]&&!(s=h[o](s))||(r=s.shift(),n.push({value:r,type:o,matches:s}),a=a.slice(r.length));if(!r)break}return t?a.length:a?i.error(e):X(e,l).slice(0)}function g(e){for(var t=0,i=e.length,r="";i>t;t++)r+=e[t].value;return r}function v(e,t,i){var r=t.dir,s=i&&"parentNode"===r,n=V++;return t.first?function(t,i,n){for(;t=t[r];)if(1===t.nodeType||s)return e(t,i,n)}:function(t,i,o){var a,l,h,d=$+" "+n;if(o){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,i,o))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(h=t[F]||(t[F]={}),(l=h[r])&&l[0]===d){if((a=l[1])===!0||a===I)return a===!0}else if(l=h[r]=[d],l[1]=e(t,i,o)||I,l[1]===!0)return!0}}function w(e){return e.length>1?function(t,i,r){for(var s=e.length;s--;)if(!e[s](t,i,r))return!1;return!0}:e[0]}function x(e,t,i,r,s){for(var n,o=[],a=0,l=e.length,h=null!=t;l>a;a++)(n=e[a])&&(!i||i(n,r,s))&&(o.push(n),h&&t.push(a));return o}function b(e,t,i,r,s,o){return r&&!r[F]&&(r=b(r)),s&&!s[F]&&(s=b(s,o)),n(function(n,o,a,l){var h,d,c,u=[],p=[],f=o.length,m=n||j(t||"*",a.nodeType?[a]:a,[]),g=!e||!n&&t?m:x(m,u,e,a,l),v=i?s||(n?e:f||r)?[]:o:g;if(i&&i(g,v,a,l),r)for(h=x(v,p),r(h,[],a,l),d=h.length;d--;)(c=h[d])&&(v[p[d]]=!(g[p[d]]=c));if(n){if(s||e){if(s){for(h=[],d=v.length;d--;)(c=v[d])&&h.push(g[d]=c);s(null,v=[],h,l)}for(d=v.length;d--;)(c=v[d])&&(h=s?at.call(n,c):u[d])>-1&&(n[h]=!(o[h]=c))}}else v=x(v===o?v.splice(f,v.length):v),s?s(null,o,v,l):st.apply(o,v)})}function _(e){for(var t,i,r,s=e.length,n=k.relative[e[0].type],o=n||k.relative[" "],a=n?1:0,l=v(function(e){return e===t},o,!0),h=v(function(e){return at.call(t,e)>-1},o,!0),d=[function(e,i,r){return!n&&(r||i!==L)||((t=i).nodeType?l(e,i,r):h(e,i,r))}];s>a;a++)if(i=k.relative[e[a].type])d=[v(w(d),i)];else{if(i=k.filter[e[a].type].apply(null,e[a].matches),i[F]){for(r=++a;s>r&&!k.relative[e[r].type];r++);return b(a>1&&w(d),a>1&&g(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ft,"$1"),i,r>a&&_(e.slice(a,r)),s>r&&_(e=e.slice(r)),s>r&&g(e))}d.push(i)}return w(d)}function y(e,t){var r=0,s=t.length>0,o=e.length>0,a=function(n,a,l,h,d){var c,u,p,f=[],m=0,g="0",v=n&&[],w=null!=d,b=L,_=n||o&&k.find.TAG("*",d&&a.parentNode||a),y=$+=null==b?1:Math.random()||.1;for(w&&(L=a!==A&&a,I=r);null!=(c=_[g]);g++){if(o&&c){for(u=0;p=e[u++];)if(p(c,a,l)){h.push(c);break}w&&($=y,I=++r)}s&&((c=!p&&c)&&m--,n&&v.push(c))}if(m+=g,s&&g!==m){for(u=0;p=t[u++];)p(v,f,a,l);if(n){if(m>0)for(;g--;)v[g]||f[g]||(f[g]=it.call(h));f=x(f)}st.apply(h,f),w&&!n&&f.length>0&&m+t.length>1&&i.uniqueSort(h)}return w&&($=y,L=b),v};return s?n(a):a}function j(e,t,r){for(var s=0,n=t.length;n>s;s++)i(e,t[s],r);return r}function C(e,t,i,r){var s,n,o,a,l,h=m(e);if(!r&&1===h.length){if(n=h[0]=h[0].slice(0),n.length>2&&"ID"===(o=n[0]).type&&S.getById&&9===t.nodeType&&M&&k.relative[n[1].type]){if(t=(k.find.ID(o.matches[0].replace(St,It),t)||[])[0],!t)return i;e=e.slice(n.shift().value.length)}for(s=_t.needsContext.test(e)?0:n.length;s--&&(o=n[s],!k.relative[a=o.type]);)if((l=k.find[a])&&(r=l(o.matches[0].replace(St,It),vt.test(n[0].type)&&t.parentNode||t))){if(n.splice(s,1),e=r.length&&g(n),!e)return st.apply(i,r),i;break}}return z(e,h)(r,t,!M,i,vt.test(e)),i}function q(){}var T,S,I,k,B,H,z,L,P,D,A,E,M,O,N,W,R,F="sizzle"+-new Date,U=e.document,$=0,V=0,G=s(),X=s(),Y=s(),K=!1,J=function(){return 0},Z=typeof t,Q=1<<31,et={}.hasOwnProperty,tt=[],it=tt.pop,rt=tt.push,st=tt.push,ot=tt.slice,at=tt.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},lt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ht="[\\x20\\t\\r\\n\\f]",dt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ct=dt.replace("w","w#"),ut="\\["+ht+"*("+dt+")"+ht+"*(?:([*^$|!~]?=)"+ht+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ct+")|)|)"+ht+"*\\]",pt=":("+dt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ut.replace(3,8)+")*)|.*)\\)|)",ft=RegExp("^"+ht+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ht+"+$","g"),mt=RegExp("^"+ht+"*,"+ht+"*"),gt=RegExp("^"+ht+"*([>+~]|"+ht+")"+ht+"*"),vt=RegExp(ht+"*[+~]"),wt=RegExp("="+ht+"*([^\\]'\"]*)"+ht+"*\\]","g"),xt=RegExp(pt),bt=RegExp("^"+ct+"$"),_t={ID:RegExp("^#("+dt+")"),CLASS:RegExp("^\\.("+dt+")"),TAG:RegExp("^("+dt.replace("w","w*")+")"),ATTR:RegExp("^"+ut),PSEUDO:RegExp("^"+pt),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ht+"*(even|odd|(([+-]|)(\\d*)n|)"+ht+"*(?:([+-]|)"+ht+"*(\\d+)|))"+ht+"*\\)|)","i"),bool:RegExp("^(?:"+lt+")$","i"),needsContext:RegExp("^"+ht+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ht+"*((?:-\\d)?\\d*)"+ht+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,jt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ct=/^(?:input|select|textarea|button)$/i,qt=/^h\d$/i,Tt=/'|\\/g,St=RegExp("\\\\([\\da-f]{1,6}"+ht+"?|("+ht+")|.)","ig"),It=function(e,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{st.apply(tt=ot.call(U.childNodes),U.childNodes),tt[U.childNodes.length].nodeType}catch(kt){st={apply:tt.length?function(e,t){rt.apply(e,ot.call(t))}:function(e,t){for(var i=e.length,r=0;e[i++]=t[r++];);e.length=i-1}}}H=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},S=i.support={},D=i.setDocument=function(e){var i=e?e.ownerDocument||e:U,s=i.parentWindow;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,E=i.documentElement,M=!H(i),s&&s.frameElement&&s.attachEvent("onbeforeunload",function(){D()}),S.attributes=o(function(e){return e.innerHTML="<a href='#'></a>",a("type|href|height|width",h,"#"===e.firstChild.getAttribute("href")),a(lt,l,null==e.getAttribute("disabled")),e.className="i",!e.getAttribute("className")}),S.input=o(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}),a("value",d,S.attributes&&S.input),S.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),S.getById=o(function(e){return E.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),S.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==Z&&M){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},k.filter.ID=function(e){var t=e.replace(St,It);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(St,It);return function(e){var i=typeof e.getAttributeNode!==Z&&e.getAttributeNode("id");return i&&i.value===t}}),k.find.TAG=S.getElementsByTagName?function(e,i){return typeof i.getElementsByTagName!==Z?i.getElementsByTagName(e):t}:function(e,t){var i,r=[],s=0,n=t.getElementsByTagName(e);if("*"===e){for(;i=n[s++];)1===i.nodeType&&r.push(i);return r}return n},k.find.CLASS=S.getElementsByClassName&&function(e,i){return typeof i.getElementsByClassName!==Z&&M?i.getElementsByClassName(e):t},N=[],O=[],(S.qsa=r(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||O.push("\\["+ht+"*(?:value|"+lt+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&O.push("[*^$]="+ht+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(S.matchesSelector=r(W=E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&o(function(e){S.disconnectedMatch=W.call(e,"div"),W.call(e,"[s!='']:x"),N.push("!=",pt)}),O=O.length&&RegExp(O.join("|")),N=N.length&&RegExp(N.join("|")),R=r(E.contains)||E.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S.sortDetached=o(function(e){return 1&e.compareDocumentPosition(i.createElement("div"))}),J=E.compareDocumentPosition?function(e,t){if(e===t)return K=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return r?1&r||!S.sortDetached&&t.compareDocumentPosition(e)===r?e===i||R(U,e)?-1:t===i||R(U,t)?1:P?at.call(P,e)-at.call(P,t):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,s=0,n=e.parentNode,o=t.parentNode,a=[e],l=[t];if(e===t)return K=!0,0;if(!n||!o)return e===i?-1:t===i?1:n?-1:o?1:P?at.call(P,e)-at.call(P,t):0;if(n===o)return c(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;a[s]===l[s];)s++;return s?c(a[s],l[s]):a[s]===U?-1:l[s]===U?1:0},i):A},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&D(e),t=t.replace(wt,"='$1']"),!(!S.matchesSelector||!M||N&&N.test(t)||O&&O.test(t)))try{var r=W.call(e,t);if(r||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(s){}return i(t,A,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==A&&D(e),R(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==A&&D(e);var r=k.attrHandle[i.toLowerCase()],s=r&&et.call(k.attrHandle,i.toLowerCase())?r(e,i,!M):t;return s===t?S.attributes||!M?e.getAttribute(i):(s=e.getAttributeNode(i))&&s.specified?s.value:null:s},i.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],r=0,s=0;if(K=!S.detectDuplicates,P=!S.sortStable&&e.slice(0),e.sort(J),K){for(;t=e[s++];)t===e[s]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return e},B=i.getText=function(e){var t,i="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=B(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[r];r++)i+=B(t);return i},k=i.selectors={cacheLength:50,createPseudo:n,match:_t,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(St,It),e[3]=(e[4]||e[5]||"").replace(St,It),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,r=!e[5]&&e[2];return _t.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&xt.test(r)&&(i=m(r,!0))&&(i=r.indexOf(")",r.length-i)-r.length)&&(e[0]=e[0].slice(0,i),e[2]=r.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(St,It).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=G[e+" "];return t||(t=RegExp("(^|"+ht+")"+e+"("+ht+"|$)"))&&G(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Z&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(s){var n=i.attr(s,e);return null==n?"!="===t:t?(n+="","="===t?n===r:"!="===t?n!==r:"^="===t?r&&0===n.indexOf(r):"*="===t?r&&n.indexOf(r)>-1:"$="===t?r&&n.slice(-r.length)===r:"~="===t?(" "+n+" ").indexOf(r)>-1:"|="===t?n===r||n.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,i,r,s){var n="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var h,d,c,u,p,f,m=n!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),w=!l&&!a;if(g){if(n){for(;m;){for(c=t;c=c[m];)if(a?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&w){for(d=g[F]||(g[F]={}),h=d[e]||[],p=h[0]===$&&h[1],u=h[0]===$&&h[2],c=p&&g.childNodes[p];c=++p&&c&&c[m]||(u=p=0)||f.pop();)if(1===c.nodeType&&++u&&c===t){d[e]=[$,p,u];break}}else if(w&&(h=(t[F]||(t[F]={}))[e])&&h[0]===$)u=h[1];else for(;(c=++p&&c&&c[m]||(u=p=0)||f.pop())&&((a?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++u||(w&&((c[F]||(c[F]={}))[e]=[$,u]),c!==t)););return u-=s,u===r||0===u%r&&u/r>=0}}},PSEUDO:function(e,t){var r,s=k.pseudos[e]||k.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return s[F]?s(t):s.length>1?(r=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,i){for(var r,n=s(e,t),o=n.length;o--;)r=at.call(e,n[o]),e[r]=!(i[r]=n[o])}):function(e){return s(e,0,r)}):s}},pseudos:{not:n(function(e){var t=[],i=[],r=z(e.replace(ft,"$1"));return r[F]?n(function(e,t,i,s){for(var n,o=r(e,null,s,[]),a=e.length;a--;)(n=o[a])&&(e[a]=!(t[a]=n))}):function(e,s,n){return t[0]=e,r(t,null,n,i),!i.pop()}}),has:n(function(e){return function(t){return i(e,t).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||B(t)).indexOf(e)>-1}}),lang:n(function(e){return bt.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(St,It).toLowerCase(),function(t){var i;do if(i=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===E},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return qt.test(e.nodeName)},input:function(e){return Ct.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:f(function(){return[0]}),last:f(function(e,t){return[t-1]}),eq:f(function(e,t,i){return[0>i?i+t:i]}),even:f(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:f(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:f(function(e,t,i){for(var r=0>i?i+t:i;--r>=0;)e.push(r);return e}),gt:f(function(e,t,i){for(var r=0>i?i+t:i;t>++r;)e.push(r);return e})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[T]=u(T);for(T in{submit:!0,reset:!0})k.pseudos[T]=p(T);z=i.compile=function(e,t){var i,r=[],s=[],n=Y[e+" "];if(!n){for(t||(t=m(e)),i=t.length;i--;)n=_(t[i]),n[F]?r.push(n):s.push(n);n=Y(e,y(s,r))}return n},k.pseudos.nth=k.pseudos.eq,q.prototype=k.filters=k.pseudos,k.setFilters=new q,S.sortStable=F.split("").sort(J).join("")===F,D(),[0,0].sort(J),S.detectDuplicates=K,nt.find=i,nt.expr=i.selectors,nt.expr[":"]=nt.expr.pseudos,nt.unique=i.uniqueSort,nt.text=i.getText,nt.isXMLDoc=i.isXML,nt.contains=i.contains}(e);var ft={};nt.Callbacks=function(e){e="string"==typeof e?ft[e]||r(e):nt.extend({},e);var i,s,n,o,a,l,h=[],d=!e.once&&[],c=function(t){for(i=e.memory&&t,s=!0,l=o||0,o=0,a=h.length,n=!0;h&&a>l;l++)if(h[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}n=!1,h&&(d?d.length&&c(d.shift()):i?h=[]:u.disable())},u={add:function(){if(h){var t=h.length;!function r(t){nt.each(t,function(t,i){var s=nt.type(i);"function"===s?e.unique&&u.has(i)||h.push(i):i&&i.length&&"string"!==s&&r(i)})}(arguments),n?a=h.length:i&&(o=t,c(i))}return this},remove:function(){return h&&nt.each(arguments,function(e,t){for(var i;(i=nt.inArray(t,h,i))>-1;)h.splice(i,1),n&&(a>=i&&a--,l>=i&&l--)}),this},has:function(e){return e?nt.inArray(e,h)>-1:!(!h||!h.length)},empty:function(){return h=[],a=0,this},disable:function(){return h=d=i=t,this},disabled:function(){return!h},lock:function(){return d=t,i||u.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!h||s&&!d||(n?d.push(t):c(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!s}};return u},nt.extend({Deferred:function(e){var t=[["resolve","done",nt.Callbacks("once memory"),"resolved"],["reject","fail",nt.Callbacks("once memory"),"rejected"],["notify","progress",nt.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return nt.Deferred(function(i){nt.each(t,function(t,n){var o=n[0],a=nt.isFunction(e[t])&&e[t];s[n[1]](function(){var e=a&&a.apply(this,arguments);e&&nt.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===r?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?nt.extend(e,r):r}},s={};return r.pipe=r.then,nt.each(t,function(e,n){var o=n[2],a=n[3];r[n[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[n[0]]=function(){return s[n[0]+"With"](this===s?r:this,arguments),this},s[n[0]+"With"]=o.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,r,s=0,n=et.call(arguments),o=n.length,a=1!==o||e&&nt.isFunction(e.promise)?o:0,l=1===a?e:nt.Deferred(),h=function(e,i,r){return function(s){i[e]=this,r[e]=arguments.length>1?et.call(arguments):s,r===t?l.notifyWith(i,r):--a||l.resolveWith(i,r)}};if(o>1)for(t=Array(o),i=Array(o),r=Array(o);o>s;s++)n[s]&&nt.isFunction(n[s].promise)?n[s].promise().done(h(s,r,n)).fail(l.reject).progress(h(s,i,t)):--a;return a||l.resolveWith(r,n),l.promise()}}),nt.support=function(t){var i=$.createElement("input"),r=$.createDocumentFragment(),s=$.createElement("div"),n=$.createElement("select"),o=n.appendChild($.createElement("option"));return i.type?(i.type="checkbox",t.checkOn=""!==i.value,t.optSelected=o.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,n.disabled=!0,t.optDisabled=!o.disabled,i=$.createElement("input"),i.value="t",i.type="radio",t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),r.appendChild(i),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===s.style.backgroundClip,nt(function(){var i,r,n="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",o=$.getElementsByTagName("body")[0];
o&&(i=$.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(i).appendChild(s),s.innerHTML="",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",nt.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===s.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(s,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(s,null)||{width:"4px"}).width,r=s.appendChild($.createElement("div")),r.style.cssText=s.style.cssText=n,r.style.marginRight=r.style.width="0",s.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),o.removeChild(i))}),t):t}({});var mt,gt,vt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,wt=/([A-Z])/g;s.uid=1,s.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=s.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(r){t[this.expando]=i,nt.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var r,s=this.key(e),n=this.cache[s];if("string"==typeof t)n[t]=i;else if(nt.isEmptyObject(n))nt.extend(this.cache[s],t);else for(r in t)n[r]=t[r];return n},get:function(e,i){var r=this.cache[this.key(e)];return i===t?r:r[i]},access:function(e,i,r){return i===t||i&&"string"==typeof i&&r===t?this.get(e,i):(this.set(e,i,r),r!==t?r:i)},remove:function(e,i){var r,s,n,o=this.key(e),a=this.cache[o];if(i===t)this.cache[o]={};else{nt.isArray(i)?s=i.concat(i.map(nt.camelCase)):(n=nt.camelCase(i),i in a?s=[i,n]:(s=n,s=s in a?[s]:s.match(at)||[])),r=s.length;for(;r--;)delete a[s[r]]}},hasData:function(e){return!nt.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},mt=new s,gt=new s,nt.extend({acceptData:s.accepts,hasData:function(e){return mt.hasData(e)||gt.hasData(e)},data:function(e,t,i){return mt.access(e,t,i)},removeData:function(e,t){mt.remove(e,t)},_data:function(e,t,i){return gt.access(e,t,i)},_removeData:function(e,t){gt.remove(e,t)}}),nt.fn.extend({data:function(e,i){var r,s,o=this[0],a=0,l=null;if(e===t){if(this.length&&(l=mt.get(o),1===o.nodeType&&!gt.get(o,"hasDataAttrs"))){for(r=o.attributes;r.length>a;a++)s=r[a].name,0===s.indexOf("data-")&&(s=nt.camelCase(s.slice(5)),n(o,s,l[s]));gt.set(o,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){mt.set(this,e)}):nt.access(this,function(i){var r,s=nt.camelCase(e);if(o&&i===t){if(r=mt.get(o,e),r!==t)return r;if(r=mt.get(o,s),r!==t)return r;if(r=n(o,s,t),r!==t)return r}else this.each(function(){var r=mt.get(this,s);mt.set(this,s,i),-1!==e.indexOf("-")&&r!==t&&mt.set(this,e,i)})},null,i,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){mt.remove(this,e)})}}),nt.extend({queue:function(e,i,r){var s;return e?(i=(i||"fx")+"queue",s=gt.get(e,i),r&&(!s||nt.isArray(r)?s=gt.access(e,i,nt.makeArray(r)):s.push(r)),s||[]):t},dequeue:function(e,t){t=t||"fx";var i=nt.queue(e,t),r=i.length,s=i.shift(),n=nt._queueHooks(e,t),o=function(){nt.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),r--),s&&("fx"===t&&i.unshift("inprogress"),delete n.stop,s.call(e,o,n)),!r&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return gt.get(e,i)||gt.access(e,i,{empty:nt.Callbacks("once memory").add(function(){gt.remove(e,[t+"queue",i])})})}}),nt.fn.extend({queue:function(e,i){var r=2;return"string"!=typeof e&&(i=e,e="fx",r--),r>arguments.length?nt.queue(this[0],e):i===t?this:this.each(function(){var t=nt.queue(this,e,i);nt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&nt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){nt.dequeue(this,e)})},delay:function(e,t){return e=nt.fx?nt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,e);i.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var r,s=1,n=nt.Deferred(),o=this,a=this.length,l=function(){--s||n.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)r=gt.get(o[a],e+"queueHooks"),r&&r.empty&&(s++,r.empty.add(l));return l(),n.promise(i)}});var xt,bt,_t=/[\t\r\n\f]/g,yt=/\r/g,jt=/^(?:input|select|textarea|button)$/i;nt.fn.extend({attr:function(e,t){return nt.access(this,nt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){nt.removeAttr(this,e)})},prop:function(e,t){return nt.access(this,nt.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[nt.propFix[e]||e]})},addClass:function(e){var t,i,r,s,n,o=0,a=this.length,l="string"==typeof e&&e;if(nt.isFunction(e))return this.each(function(t){nt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(at)||[];a>o;o++)if(i=this[o],r=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(_t," "):" ")){for(n=0;s=t[n++];)0>r.indexOf(" "+s+" ")&&(r+=s+" ");i.className=nt.trim(r)}return this},removeClass:function(e){var t,i,r,s,n,o=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(nt.isFunction(e))return this.each(function(t){nt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(at)||[];a>o;o++)if(i=this[o],r=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(_t," "):"")){for(n=0;s=t[n++];)for(;r.indexOf(" "+s+" ")>=0;)r=r.replace(" "+s+" "," ");i.className=e?nt.trim(r):""}return this},toggleClass:function(e,t){var i=typeof e,r="boolean"==typeof t;return this.each(nt.isFunction(e)?function(i){nt(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var s,n=0,o=nt(this),a=t,l=e.match(at)||[];s=l[n++];)a=r?a:!o.hasClass(s),o[a?"addClass":"removeClass"](s);else(i===F||"boolean"===i)&&(this.className&&gt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":gt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,r=this.length;r>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(_t," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,r,s,n=this[0];return arguments.length?(s=nt.isFunction(e),this.each(function(r){var n;1===this.nodeType&&(n=s?e.call(this,r,nt(this).val()):e,null==n?n="":"number"==typeof n?n+="":nt.isArray(n)&&(n=nt.map(n,function(e){return null==e?"":e+""})),i=nt.valHooks[this.type]||nt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,n,"value")!==t||(this.value=n))})):n?(i=nt.valHooks[n.type]||nt.valHooks[n.nodeName.toLowerCase()],i&&"get"in i&&(r=i.get(n,"value"))!==t?r:(r=n.value,"string"==typeof r?r.replace(yt,""):null==r?"":r)):void 0}}),nt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,r=e.options,s=e.selectedIndex,n="select-one"===e.type||0>s,o=n?null:[],a=n?s+1:r.length,l=0>s?a:n?s:0;a>l;l++)if(i=r[l],!(!i.selected&&l!==s||(nt.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&nt.nodeName(i.parentNode,"optgroup"))){if(t=nt(i).val(),n)return t;o.push(t)}return o},set:function(e,t){for(var i,r,s=e.options,n=nt.makeArray(t),o=s.length;o--;)r=s[o],(r.selected=nt.inArray(nt(r).val(),n)>=0)&&(i=!0);return i||(e.selectedIndex=-1),n}}},attr:function(e,i,r){var s,n,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===F?nt.prop(e,i,r):(1===o&&nt.isXMLDoc(e)||(i=i.toLowerCase(),s=nt.attrHooks[i]||(nt.expr.match.bool.test(i)?bt:xt)),r===t?s&&"get"in s&&null!==(n=s.get(e,i))?n:(n=nt.find.attr(e,i),null==n?t:n):null!==r?s&&"set"in s&&(n=s.set(e,r,i))!==t?n:(e.setAttribute(i,r+""),r):(nt.removeAttr(e,i),t)):void 0},removeAttr:function(e,t){var i,r,s=0,n=t&&t.match(at);if(n&&1===e.nodeType)for(;i=n[s++];)r=nt.propFix[i]||i,nt.expr.match.bool.test(i)&&(e[r]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!nt.support.radioValue&&"radio"===t&&nt.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,r){var s,n,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(o=1!==a||!nt.isXMLDoc(e),o&&(i=nt.propFix[i]||i,n=nt.propHooks[i]),r!==t?n&&"set"in n&&(s=n.set(e,r,i))!==t?s:e[i]=r:n&&"get"in n&&null!==(s=n.get(e,i))?s:e[i]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||jt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),bt={set:function(e,t,i){return t===!1?nt.removeAttr(e,i):e.setAttribute(i,i),i}},nt.each(nt.expr.match.bool.source.match(/\w+/g),function(e,i){var r=nt.expr.attrHandle[i]||nt.find.attr;nt.expr.attrHandle[i]=function(e,i,s){var n=nt.expr.attrHandle[i],o=s?t:(nt.expr.attrHandle[i]=t)!=r(e,i,s)?i.toLowerCase():null;return nt.expr.attrHandle[i]=n,o}}),nt.support.optSelected||(nt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),nt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){nt.propFix[this.toLowerCase()]=this}),nt.each(["radio","checkbox"],function(){nt.valHooks[this]={set:function(e,i){return nt.isArray(i)?e.checked=nt.inArray(nt(e).val(),i)>=0:t}},nt.support.checkOn||(nt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ct=/^key/,qt=/^(?:mouse|contextmenu)|click/,Tt=/^(?:focusinfocus|focusoutblur)$/,St=/^([^.]*)(?:\.(.+)|)$/;nt.event={global:{},add:function(e,i,r,s,n){var o,a,l,h,d,c,u,p,f,m,g,v=gt.get(e);if(v){for(r.handler&&(o=r,r=o.handler,n=o.selector),r.guid||(r.guid=nt.guid++),(h=v.events)||(h=v.events={}),(a=v.handle)||(a=v.handle=function(e){return typeof nt===F||e&&nt.event.triggered===e.type?t:nt.event.dispatch.apply(a.elem,arguments)},a.elem=e),i=(i||"").match(at)||[""],d=i.length;d--;)l=St.exec(i[d])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),f&&(u=nt.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,u=nt.event.special[f]||{},c=nt.extend({type:f,origType:g,data:s,handler:r,guid:r.guid,selector:n,needsContext:n&&nt.expr.match.needsContext.test(n),namespace:m.join(".")},o),(p=h[f])||(p=h[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,s,m,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),n?p.splice(p.delegateCount++,0,c):p.push(c),nt.event.global[f]=!0);e=null}},remove:function(e,t,i,r,s){var n,o,a,l,h,d,c,u,p,f,m,g=gt.hasData(e)&&gt.get(e);if(g&&(l=g.events)){for(t=(t||"").match(at)||[""],h=t.length;h--;)if(a=St.exec(t[h])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(c=nt.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,u=l[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=n=u.length;n--;)d=u[n],!s&&m!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||r&&r!==d.selector&&("**"!==r||!d.selector)||(u.splice(n,1),d.selector&&u.delegateCount--,c.remove&&c.remove.call(e,d));o&&!u.length&&(c.teardown&&c.teardown.call(e,f,g.handle)!==!1||nt.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)nt.event.remove(e,p+t[h],i,r,!0);nt.isEmptyObject(l)&&(delete g.handle,gt.remove(e,"events"))}},trigger:function(i,r,s,n){var o,a,l,h,d,c,u,p=[s||$],f=rt.call(i,"type")?i.type:i,m=rt.call(i,"namespace")?i.namespace.split("."):[];if(a=l=s=s||$,3!==s.nodeType&&8!==s.nodeType&&!Tt.test(f+nt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),d=0>f.indexOf(":")&&"on"+f,i=i[nt.expando]?i:new nt.Event(f,"object"==typeof i&&i),i.isTrigger=n?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=s),r=null==r?[i]:nt.makeArray(r,[i]),u=nt.event.special[f]||{},n||!u.trigger||u.trigger.apply(s,r)!==!1)){if(!n&&!u.noBubble&&!nt.isWindow(s)){for(h=u.delegateType||f,Tt.test(h+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),l=a;l===(s.ownerDocument||$)&&p.push(l.defaultView||l.parentWindow||e)}for(o=0;(a=p[o++])&&!i.isPropagationStopped();)i.type=o>1?h:u.bindType||f,c=(gt.get(a,"events")||{})[i.type]&&gt.get(a,"handle"),c&&c.apply(a,r),c=d&&a[d],c&&nt.acceptData(a)&&c.apply&&c.apply(a,r)===!1&&i.preventDefault();return i.type=f,n||i.isDefaultPrevented()||u._default&&u._default.apply(p.pop(),r)!==!1||!nt.acceptData(s)||d&&nt.isFunction(s[f])&&!nt.isWindow(s)&&(l=s[d],l&&(s[d]=null),nt.event.triggered=f,s[f](),nt.event.triggered=t,l&&(s[d]=l)),i.result}},dispatch:function(e){e=nt.event.fix(e);var i,r,s,n,o,a=[],l=et.call(arguments),h=(gt.get(this,"events")||{})[e.type]||[],d=nt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(a=nt.event.handlers.call(this,e,h),i=0;(n=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,r=0;(o=n.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,s=((nt.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,l),s!==t&&(e.result=s)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,i){var r,s,n,o,a=[],l=i.delegateCount,h=e.target;if(l&&h.nodeType&&(!e.button||"click"!==e.type))for(;h!==this;h=h.parentNode||this)if(h.disabled!==!0||"click"!==e.type){for(s=[],r=0;l>r;r++)o=i[r],n=o.selector+" ",s[n]===t&&(s[n]=o.needsContext?nt(n,this).index(h)>=0:nt.find(n,this,null,[h]).length),s[n]&&s.push(o);s.length&&a.push({elem:h,handlers:s})}return i.length>l&&a.push({elem:this,handlers:i.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var r,s,n,o=i.button;return null==e.pageX&&null!=i.clientX&&(r=e.target.ownerDocument||$,s=r.documentElement,n=r.body,e.pageX=i.clientX+(s&&s.scrollLeft||n&&n.scrollLeft||0)-(s&&s.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(s&&s.scrollTop||n&&n.scrollTop||0)-(s&&s.clientTop||n&&n.clientTop||0)),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[nt.expando])return e;var t,i,r,s=e.type,n=e,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=qt.test(s)?this.mouseHooks:Ct.test(s)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new nt.Event(n),t=r.length;t--;)i=r[t],e[i]=n[i];return e.target||(e.target=$),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,n):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):t},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&nt.nodeName(this,"input")?(this.click(),!1):t},_default:function(e){return nt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,r){var s=nt.extend(new nt.Event,i,{type:e,isSimulated:!0,originalEvent:{}});r?nt.event.trigger(s,null,t):nt.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},nt.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},nt.Event=function(e,i){return this instanceof nt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?o:a):this.type=e,i&&nt.extend(this,i),this.timeStamp=e&&e.timeStamp||nt.now(),this[nt.expando]=!0,t):new nt.Event(e,i)},nt.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=o,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=o,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()}},nt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){nt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,s=e.relatedTarget,n=e.handleObj;return(!s||s!==r&&!nt.contains(r,s))&&(e.type=n.origType,i=n.handler.apply(this,arguments),e.type=t),i}}}),nt.support.focusinBubbles||nt.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,r=function(e){nt.event.simulate(t,e.target,nt.event.fix(e),!0)};nt.event.special[t]={setup:function(){0===i++&&$.addEventListener(e,r,!0)},teardown:function(){0===--i&&$.removeEventListener(e,r,!0)}}}),nt.fn.extend({on:function(e,i,r,s,n){var o,l;if("object"==typeof e){"string"!=typeof i&&(r=r||i,i=t);for(l in e)this.on(l,i,r,e[l],n);return this}if(null==r&&null==s?(s=i,r=i=t):null==s&&("string"==typeof i?(s=r,r=t):(s=r,r=i,i=t)),s===!1)s=a;else if(!s)return this;return 1===n&&(o=s,s=function(e){return nt().off(e),o.apply(this,arguments)},s.guid=o.guid||(o.guid=nt.guid++)),this.each(function(){nt.event.add(this,e,s,r,i)})},one:function(e,t,i,r){return this.on(e,t,i,r,1)},off:function(e,i,r){var s,n;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,nt(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(n in e)this.off(n,i,e[n]);return this}return(i===!1||"function"==typeof i)&&(r=i,i=t),r===!1&&(r=a),this.each(function(){nt.event.remove(this,e,r,i)})},trigger:function(e,t){return this.each(function(){nt.event.trigger(e,t,this)})},triggerHandler:function(e,i){var r=this[0];return r?nt.event.trigger(e,i,r,!0):t}});var It=/^.[^:#\[\.,]*$/,kt=/^(?:parents|prev(?:Until|All))/,Bt=nt.expr.match.needsContext,Ht={children:!0,contents:!0,next:!0,prev:!0};nt.fn.extend({find:function(e){var t,i=[],r=this,s=r.length;if("string"!=typeof e)return this.pushStack(nt(e).filter(function(){for(t=0;s>t;t++)if(nt.contains(r[t],this))return!0}));for(t=0;s>t;t++)nt.find(e,r[t],i);return i=this.pushStack(s>1?nt.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t=nt(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(nt.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(d(this,e||[],!0))},filter:function(e){return this.pushStack(d(this,e||[],!1))},is:function(e){return!!d(this,"string"==typeof e&&Bt.test(e)?nt(e):e||[],!1).length},closest:function(e,t){for(var i,r=0,s=this.length,n=[],o=Bt.test(e)||"string"!=typeof e?nt(e,t||this.context):0;s>r;r++)for(i=this[r];i&&i!==t;i=i.parentNode)if(11>i.nodeType&&(o?o.index(i)>-1:1===i.nodeType&&nt.find.matchesSelector(i,e))){i=n.push(i);break}return this.pushStack(n.length>1?nt.unique(n):n)},index:function(e){return e?"string"==typeof e?tt.call(nt(e),this[0]):tt.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?nt(e,t):nt.makeArray(e&&e.nodeType?[e]:e),r=nt.merge(this.get(),i);return this.pushStack(nt.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),nt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return nt.dir(e,"parentNode")},parentsUntil:function(e,t,i){return nt.dir(e,"parentNode",i)},next:function(e){return h(e,"nextSibling")},prev:function(e){return h(e,"previousSibling")},nextAll:function(e){return nt.dir(e,"nextSibling")},prevAll:function(e){return nt.dir(e,"previousSibling")},nextUntil:function(e,t,i){return nt.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return nt.dir(e,"previousSibling",i)},siblings:function(e){return nt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return nt.sibling(e.firstChild)},contents:function(e){return e.contentDocument||nt.merge([],e.childNodes)}},function(e,t){nt.fn[e]=function(i,r){var s=nt.map(this,t,i);return"Until"!==e.slice(-5)&&(r=i),r&&"string"==typeof r&&(s=nt.filter(r,s)),this.length>1&&(Ht[e]||nt.unique(s),kt.test(e)&&s.reverse()),this.pushStack(s)}}),nt.extend({filter:function(e,t,i){var r=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?nt.find.matchesSelector(r,e)?[r]:[]:nt.find.matches(e,nt.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,r){for(var s=[],n=r!==t;(e=e[i])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&nt(e).is(r))break;s.push(e)}return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,Pt=/<|&#?\w+;/,Dt=/<(?:script|style|link)/i,At=/^(?:checkbox|radio)$/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^$|\/(?:java|ecma)script/i,Ot=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Wt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Wt.optgroup=Wt.option,Wt.tbody=Wt.tfoot=Wt.colgroup=Wt.caption=Wt.thead,Wt.th=Wt.td,nt.fn.extend({text:function(e){return nt.access(this,function(e){return e===t?nt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||$).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=c(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=c(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,r=e?nt.filter(e,this):this,s=0;null!=(i=r[s]);s++)t||1!==i.nodeType||nt.cleanData(g(i)),i.parentNode&&(t&&nt.contains(i.ownerDocument,i)&&f(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(nt.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return nt.clone(this,e,t)})},html:function(e){return nt.access(this,function(e){var i=this[0]||{},r=0,s=this.length;if(e===t&&1===i.nodeType)return i.innerHTML;if("string"==typeof e&&!Dt.test(e)&&!Wt[(Lt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(zt,"<$1></$2>");try{for(;s>r;r++)i=this[r]||{},1===i.nodeType&&(nt.cleanData(g(i,!1)),i.innerHTML=e);i=0}catch(n){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=nt.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var r=e[t++],s=e[t++];s&&(r&&r.parentNode!==s&&(r=this.nextSibling),nt(this).remove(),s.insertBefore(i,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=Z.apply([],e);var r,s,n,o,a,l,h=0,d=this.length,c=this,f=d-1,m=e[0],v=nt.isFunction(m);if(v||!(1>=d||"string"!=typeof m||nt.support.checkClone)&&Et.test(m))return this.each(function(r){var s=c.eq(r);v&&(e[0]=m.call(this,r,s.html())),s.domManip(e,t,i)});if(d&&(r=nt.buildFragment(e,this[0].ownerDocument,!1,!i&&this),s=r.firstChild,1===r.childNodes.length&&(r=s),s)){for(n=nt.map(g(r,"script"),u),o=n.length;d>h;h++)a=r,h!==f&&(a=nt.clone(a,!0,!0),o&&nt.merge(n,g(a,"script"))),t.call(this[h],a,h);if(o)for(l=n[n.length-1].ownerDocument,nt.map(n,p),h=0;o>h;h++)a=n[h],Mt.test(a.type||"")&&!gt.access(a,"globalEval")&&nt.contains(l,a)&&(a.src?nt._evalUrl(a.src):nt.globalEval(a.textContent.replace(Nt,"")))}return this}}),nt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){nt.fn[e]=function(e){for(var i,r=[],s=nt(e),n=s.length-1,o=0;n>=o;o++)i=o===n?this:this.clone(!0),nt(s[o])[t](i),Q.apply(r,i.get());return this.pushStack(r)}}),nt.extend({clone:function(e,t,i){var r,s,n,o,a=e.cloneNode(!0),l=nt.contains(e.ownerDocument,e);if(!(nt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||nt.isXMLDoc(e)))for(o=g(a),n=g(e),r=0,s=n.length;s>r;r++)v(n[r],o[r]);if(t)if(i)for(n=n||g(e),o=o||g(a),r=0,s=n.length;s>r;r++)m(n[r],o[r]);else m(e,a);return o=g(a,"script"),o.length>0&&f(o,!l&&g(e,"script")),a},buildFragment:function(e,t,i,r){for(var s,n,o,a,l,h,d=0,c=e.length,u=t.createDocumentFragment(),p=[];c>d;d++)if(s=e[d],s||0===s)if("object"===nt.type(s))nt.merge(p,s.nodeType?[s]:s);else if(Pt.test(s)){for(n=n||u.appendChild(t.createElement("div")),o=(Lt.exec(s)||["",""])[1].toLowerCase(),a=Wt[o]||Wt._default,n.innerHTML=a[1]+s.replace(zt,"<$1></$2>")+a[2],h=a[0];h--;)n=n.firstChild;nt.merge(p,n.childNodes),n=u.firstChild,n.textContent=""}else p.push(t.createTextNode(s));for(u.textContent="",d=0;s=p[d++];)if((!r||-1===nt.inArray(s,r))&&(l=nt.contains(s.ownerDocument,s),n=g(u.appendChild(s),"script"),l&&f(n),i))for(h=0;s=n[h++];)Mt.test(s.type||"")&&i.push(s);return u},cleanData:function(e){for(var i,r,n,o,a,l,h=nt.event.special,d=0;(r=e[d])!==t;d++){if(s.accepts(r)&&(a=r[gt.expando],a&&(i=gt.cache[a]))){if(n=Object.keys(i.events||{}),n.length)for(l=0;(o=n[l])!==t;l++)h[o]?nt.event.remove(r,o):nt.removeEvent(r,o,i.handle);gt.cache[a]&&delete gt.cache[a]}delete mt.cache[r[mt.expando]]}},_evalUrl:function(e){return nt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),nt.fn.extend({wrapAll:function(e){var t;return nt.isFunction(e)?this.each(function(t){nt(this).wrapAll(e.call(this,t))}):(this[0]&&(t=nt(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(nt.isFunction(e)?function(t){nt(this).wrapInner(e.call(this,t))}:function(){var t=nt(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=nt.isFunction(e);return this.each(function(i){nt(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){nt.nodeName(this,"body")||nt(this).replaceWith(this.childNodes)}).end()}});var Rt,Ft,Ut=/^(none|table(?!-c[ea]).+)/,$t=/^margin/,Vt=RegExp("^("+ot+")(.*)$","i"),Gt=RegExp("^("+ot+")(?!px)[a-z%]+$","i"),Xt=RegExp("^([+-])=("+ot+")","i"),Yt={BODY:"block"},Kt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],Qt=["Webkit","O","Moz","ms"];nt.fn.extend({css:function(e,i){return nt.access(this,function(e,i,r){var s,n,o={},a=0;if(nt.isArray(i)){for(s=b(e),n=i.length;n>a;a++)o[i[a]]=nt.css(e,i[a],!1,s);return o}return r!==t?nt.style(e,i,r):nt.css(e,i)},e,i,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?nt(this).show():nt(this).hide()})}}),nt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Rt(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,i,r,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,a,l=nt.camelCase(i),h=e.style;return i=nt.cssProps[l]||(nt.cssProps[l]=w(h,l)),a=nt.cssHooks[i]||nt.cssHooks[l],r===t?a&&"get"in a&&(n=a.get(e,!1,s))!==t?n:h[i]:(o=typeof r,"string"===o&&(n=Xt.exec(r))&&(r=(n[1]+1)*n[2]+parseFloat(nt.css(e,i)),o="number"),null==r||"number"===o&&isNaN(r)||("number"!==o||nt.cssNumber[l]||(r+="px"),nt.support.clearCloneStyle||""!==r||0!==i.indexOf("background")||(h[i]="inherit"),a&&"set"in a&&(r=a.set(e,r,s))===t||(h[i]=r)),t)}},css:function(e,i,r,s){var n,o,a,l=nt.camelCase(i);return i=nt.cssProps[l]||(nt.cssProps[l]=w(e.style,l)),a=nt.cssHooks[i]||nt.cssHooks[l],a&&"get"in a&&(n=a.get(e,!0,r)),n===t&&(n=Rt(e,i,s)),"normal"===n&&i in Jt&&(n=Jt[i]),""===r||r?(o=parseFloat(n),r===!0||nt.isNumeric(o)?o||0:n):n}}),Rt=function(e,i,r){var s,n,o,a=r||b(e),l=a?a.getPropertyValue(i)||a[i]:t,h=e.style;return a&&(""!==l||nt.contains(e.ownerDocument,e)||(l=nt.style(e,i)),Gt.test(l)&&$t.test(i)&&(s=h.width,n=h.minWidth,o=h.maxWidth,h.minWidth=h.maxWidth=h.width=l,l=a.width,h.width=s,h.minWidth=n,h.maxWidth=o)),l},nt.each(["height","width"],function(e,i){nt.cssHooks[i]={get:function(e,r,s){return r?0===e.offsetWidth&&Ut.test(nt.css(e,"display"))?nt.swap(e,Kt,function(){return C(e,i,s)}):C(e,i,s):t},set:function(e,t,r){var s=r&&b(e);return y(e,t,r?j(e,i,r,nt.support.boxSizing&&"border-box"===nt.css(e,"boxSizing",!1,s),s):0)}}}),nt(function(){nt.support.reliableMarginRight||(nt.cssHooks.marginRight={get:function(e,i){return i?nt.swap(e,{display:"inline-block"},Rt,[e,"marginRight"]):t}}),!nt.support.pixelPosition&&nt.fn.position&&nt.each(["top","left"],function(e,i){nt.cssHooks[i]={get:function(e,r){return r?(r=Rt(e,i),Gt.test(r)?nt(e).position()[i]+"px":r):t}}})}),nt.expr&&nt.expr.filters&&(nt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},nt.expr.filters.visible=function(e){return!nt.expr.filters.hidden(e)}),nt.each({margin:"",padding:"",border:"Width"},function(e,t){nt.cssHooks[e+t]={expand:function(i){for(var r=0,s={},n="string"==typeof i?i.split(" "):[i];4>r;r++)s[e+Zt[r]+t]=n[r]||n[r-2]||n[0];return s}},$t.test(e)||(nt.cssHooks[e+t].set=y)});var ei=/%20/g,ti=/\[\]$/,ii=/\r?\n/g,ri=/^(?:submit|button|image|reset|file)$/i,si=/^(?:input|select|textarea|keygen)/i;nt.fn.extend({serialize:function(){return nt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=nt.prop(this,"elements");return e?nt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!nt(this).is(":disabled")&&si.test(this.nodeName)&&!ri.test(e)&&(this.checked||!At.test(e))}).map(function(e,t){var i=nt(this).val();return null==i?null:nt.isArray(i)?nt.map(i,function(e){return{name:t.name,value:e.replace(ii,"\r\n")}}):{name:t.name,value:i.replace(ii,"\r\n")}}).get()}}),nt.param=function(e,i){var r,s=[],n=function(e,t){t=nt.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=nt.ajaxSettings&&nt.ajaxSettings.traditional),nt.isArray(e)||e.jquery&&!nt.isPlainObject(e))nt.each(e,function(){n(this.name,this.value)});else for(r in e)S(r,e[r],i,n);return s.join("&").replace(ei,"+")},nt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){nt.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),nt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var ni,oi,ai=nt.now(),li=/\?/,hi=/#.*$/,di=/([?&])_=[^&]*/,ci=/^(.*?):[ \t]*([^\r\n]*)$/gm,ui=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pi=/^(?:GET|HEAD)$/,fi=/^\/\//,mi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gi=nt.fn.load,vi={},wi={},xi="*/".concat("*");try{oi=U.href}catch(bi){oi=$.createElement("a"),oi.href="",oi=oi.href}ni=mi.exec(oi.toLowerCase())||[],nt.fn.load=function(e,i,r){if("string"!=typeof e&&gi)return gi.apply(this,arguments);
var s,n,o,a=this,l=e.indexOf(" ");return l>=0&&(s=e.slice(l),e=e.slice(0,l)),nt.isFunction(i)?(r=i,i=t):i&&"object"==typeof i&&(n="POST"),a.length>0&&nt.ajax({url:e,type:n,dataType:"html",data:i}).done(function(e){o=arguments,a.html(s?nt("<div>").append(nt.parseHTML(e)).find(s):e)}).complete(r&&function(e,t){a.each(r,o||[e.responseText,t,e])}),this},nt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){nt.fn[t]=function(e){return this.on(t,e)}}),nt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oi,type:"GET",isLocal:ui.test(ni[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":nt.parseJSON,"text xml":nt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?B(B(e,nt.ajaxSettings),t):B(nt.ajaxSettings,e)},ajaxPrefilter:I(vi),ajaxTransport:I(wi),ajax:function(e,i){function r(e,i,r,a){var h,c,w,x,_,j=i;2!==b&&(b=2,l&&clearTimeout(l),s=t,o=a||"",y.readyState=e>0?4:0,h=e>=200&&300>e||304===e,r&&(x=H(u,y,r)),x=z(u,x,y,h),h?(u.ifModified&&(_=y.getResponseHeader("Last-Modified"),_&&(nt.lastModified[n]=_),_=y.getResponseHeader("etag"),_&&(nt.etag[n]=_)),204===e||"HEAD"===u.type?j="nocontent":304===e?j="notmodified":(j=x.state,c=x.data,w=x.error,h=!w)):(w=j,(e||!j)&&(j="error",0>e&&(e=0))),y.status=e,y.statusText=(i||j)+"",h?m.resolveWith(p,[c,j,y]):m.rejectWith(p,[y,j,w]),y.statusCode(v),v=t,d&&f.trigger(h?"ajaxSuccess":"ajaxError",[y,u,h?c:w]),g.fireWith(p,[y,j]),d&&(f.trigger("ajaxComplete",[y,u]),--nt.active||nt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var s,n,o,a,l,h,d,c,u=nt.ajaxSetup({},i),p=u.context||u,f=u.context&&(p.nodeType||p.jquery)?nt(p):nt.event,m=nt.Deferred(),g=nt.Callbacks("once memory"),v=u.statusCode||{},w={},x={},b=0,_="canceled",y={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=ci.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=x[i]=x[i]||e,w[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else y.always(e[y.status]);return this},abort:function(e){var t=e||_;return s&&s.abort(t),r(0,t),this}};if(m.promise(y).complete=g.add,y.success=y.done,y.error=y.fail,u.url=((e||u.url||oi)+"").replace(hi,"").replace(fi,ni[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=nt.trim(u.dataType||"*").toLowerCase().match(at)||[""],null==u.crossDomain&&(h=mi.exec(u.url.toLowerCase()),u.crossDomain=!(!h||h[1]===ni[1]&&h[2]===ni[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ni[3]||("http:"===ni[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=nt.param(u.data,u.traditional)),k(vi,u,i,y),2===b)return y;d=u.global,d&&0===nt.active++&&nt.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!pi.test(u.type),n=u.url,u.hasContent||(u.data&&(n=u.url+=(li.test(n)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=di.test(n)?n.replace(di,"$1_="+ai++):n+(li.test(n)?"&":"?")+"_="+ai++)),u.ifModified&&(nt.lastModified[n]&&y.setRequestHeader("If-Modified-Since",nt.lastModified[n]),nt.etag[n]&&y.setRequestHeader("If-None-Match",nt.etag[n])),(u.data&&u.hasContent&&u.contentType!==!1||i.contentType)&&y.setRequestHeader("Content-Type",u.contentType),y.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+xi+"; q=0.01":""):u.accepts["*"]);for(c in u.headers)y.setRequestHeader(c,u.headers[c]);if(u.beforeSend&&(u.beforeSend.call(p,y,u)===!1||2===b))return y.abort();_="abort";for(c in{success:1,error:1,complete:1})y[c](u[c]);if(s=k(wi,u,i,y)){y.readyState=1,d&&f.trigger("ajaxSend",[y,u]),u.async&&u.timeout>0&&(l=setTimeout(function(){y.abort("timeout")},u.timeout));try{b=1,s.send(w,r)}catch(j){if(!(2>b))throw j;r(-1,j)}}else r(-1,"No Transport");return y},getJSON:function(e,t,i){return nt.get(e,t,i,"json")},getScript:function(e,i){return nt.get(e,t,i,"script")}}),nt.each(["get","post"],function(e,i){nt[i]=function(e,r,s,n){return nt.isFunction(r)&&(n=n||s,s=r,r=t),nt.ajax({url:e,type:i,dataType:n,data:r,success:s})}}),nt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return nt.globalEval(e),e}}}),nt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),nt.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(r,s){t=nt("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&s("error"===e.type?404:200,e.type)}),$.head.appendChild(t[0])},abort:function(){i&&i()}}}});var _i=[],yi=/(=)\?(?=&|$)|\?\?/;nt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_i.pop()||nt.expando+"_"+ai++;return this[e]=!0,e}}),nt.ajaxPrefilter("json jsonp",function(i,r,s){var n,o,a,l=i.jsonp!==!1&&(yi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&yi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(n=i.jsonpCallback=nt.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(yi,"$1"+n):i.jsonp!==!1&&(i.url+=(li.test(i.url)?"&":"?")+i.jsonp+"="+n),i.converters["script json"]=function(){return a||nt.error(n+" was not called"),a[0]},i.dataTypes[0]="json",o=e[n],e[n]=function(){a=arguments},s.always(function(){e[n]=o,i[n]&&(i.jsonpCallback=r.jsonpCallback,_i.push(n)),a&&nt.isFunction(o)&&o(a[0]),a=o=t}),"script"):t}),nt.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var ji=nt.ajaxSettings.xhr(),Ci={0:200,1223:204},qi=0,Ti={};e.ActiveXObject&&nt(e).on("unload",function(){for(var e in Ti)Ti[e]();Ti=t}),nt.support.cors=!!ji&&"withCredentials"in ji,nt.support.ajax=ji=!!ji,nt.ajaxTransport(function(e){var i;return nt.support.cors||ji&&!e.crossDomain?{send:function(r,s){var n,o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)a[n]=e.xhrFields[n];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(n in r)a.setRequestHeader(n,r[n]);i=function(e){return function(){i&&(delete Ti[o],i=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?s(a.status||404,a.statusText):s(Ci[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:t,a.getAllResponseHeaders()))}},a.onload=i(),a.onerror=i("error"),i=Ti[o=qi++]=i("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){i&&i()}}:t});var Si,Ii,ki=/^(?:toggle|show|hide)$/,Bi=RegExp("^(?:([+-])=|)("+ot+")([a-z%]*)$","i"),Hi=/queueHooks$/,zi=[E],Li={"*":[function(e,t){var i=this.createTween(e,t),r=i.cur(),s=Bi.exec(t),n=s&&s[3]||(nt.cssNumber[e]?"":"px"),o=(nt.cssNumber[e]||"px"!==n&&+r)&&Bi.exec(nt.css(i.elem,e)),a=1,l=20;if(o&&o[3]!==n){n=n||o[3],s=s||[],o=+r||1;do a=a||".5",o/=a,nt.style(i.elem,e,o+n);while(a!==(a=i.cur()/r)&&1!==a&&--l)}return s&&(o=i.start=+o||+r||0,i.unit=n,i.end=s[1]?o+(s[1]+1)*s[2]:+s[2]),i}]};nt.Animation=nt.extend(D,{tweener:function(e,t){nt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,r=0,s=e.length;s>r;r++)i=e[r],Li[i]=Li[i]||[],Li[i].unshift(t)},prefilter:function(e,t){t?zi.unshift(e):zi.push(e)}}),nt.Tween=M,M.prototype={constructor:M,init:function(e,t,i,r,s,n){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=n||(nt.cssNumber[i]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,i=M.propHooks[this.prop];return this.pos=t=this.options.duration?nt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=nt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){nt.fx.step[e.prop]?nt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[nt.cssProps[e.prop]]||nt.cssHooks[e.prop])?nt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},nt.each(["toggle","show","hide"],function(e,t){var i=nt.fn[t];nt.fn[t]=function(e,r,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(O(t,!0),e,r,s)}}),nt.fn.extend({fadeTo:function(e,t,i,r){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var s=nt.isEmptyObject(e),n=nt.speed(t,i,r),o=function(){var t=D(this,nt.extend({},e),n);(s||gt.get(this,"finish"))&&t.stop(!0)};return o.finish=o,s||n.queue===!1?this.each(o):this.queue(n.queue,o)},stop:function(e,i,r){var s=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",n=nt.timers,o=gt.get(this);if(i)o[i]&&o[i].stop&&s(o[i]);else for(i in o)o[i]&&o[i].stop&&Hi.test(i)&&s(o[i]);for(i=n.length;i--;)n[i].elem!==this||null!=e&&n[i].queue!==e||(n[i].anim.stop(r),t=!1,n.splice(i,1));(t||!r)&&nt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=gt.get(this),r=i[e+"queue"],s=i[e+"queueHooks"],n=nt.timers,o=r?r.length:0;for(i.finish=!0,nt.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===e&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete i.finish})}}),nt.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){nt.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}}),nt.speed=function(e,t,i){var r=e&&"object"==typeof e?nt.extend({},e):{complete:i||!i&&t||nt.isFunction(e)&&e,duration:e,easing:i&&t||t&&!nt.isFunction(t)&&t};return r.duration=nt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in nt.fx.speeds?nt.fx.speeds[r.duration]:nt.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){nt.isFunction(r.old)&&r.old.call(this),r.queue&&nt.dequeue(this,r.queue)},r},nt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},nt.timers=[],nt.fx=M.prototype.init,nt.fx.tick=function(){var e,i=nt.timers,r=0;for(Si=nt.now();i.length>r;r++)e=i[r],e()||i[r]!==e||i.splice(r--,1);i.length||nt.fx.stop(),Si=t},nt.fx.timer=function(e){e()&&nt.timers.push(e)&&nt.fx.start()},nt.fx.interval=13,nt.fx.start=function(){Ii||(Ii=setInterval(nt.fx.tick,nt.fx.interval))},nt.fx.stop=function(){clearInterval(Ii),Ii=null},nt.fx.speeds={slow:600,fast:200,_default:400},nt.fx.step={},nt.expr&&nt.expr.filters&&(nt.expr.filters.animated=function(e){return nt.grep(nt.timers,function(t){return e===t.elem}).length}),nt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){nt.offset.setOffset(this,e,t)});var i,r,s=this[0],n={top:0,left:0},o=s&&s.ownerDocument;return o?(i=o.documentElement,nt.contains(i,s)?(typeof s.getBoundingClientRect!==F&&(n=s.getBoundingClientRect()),r=N(o),{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}):n):void 0},nt.offset={setOffset:function(e,t,i){var r,s,n,o,a,l,h,d=nt.css(e,"position"),c=nt(e),u={};"static"===d&&(e.style.position="relative"),a=c.offset(),n=nt.css(e,"top"),l=nt.css(e,"left"),h=("absolute"===d||"fixed"===d)&&(n+l).indexOf("auto")>-1,h?(r=c.position(),o=r.top,s=r.left):(o=parseFloat(n)||0,s=parseFloat(l)||0),nt.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(u.top=t.top-a.top+o),null!=t.left&&(u.left=t.left-a.left+s),"using"in t?t.using.call(e,u):c.css(u)}},nt.fn.extend({position:function(){if(this[0]){var e,t,i=this[0],r={top:0,left:0};return"fixed"===nt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),nt.nodeName(e[0],"html")||(r=e.offset()),r.top+=nt.css(e[0],"borderTopWidth",!0),r.left+=nt.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-nt.css(i,"marginTop",!0),left:t.left-r.left-nt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||V;e&&!nt.nodeName(e,"html")&&"static"===nt.css(e,"position");)e=e.offsetParent;return e||V})}}),nt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,r){var s="pageYOffset"===r;nt.fn[i]=function(n){return nt.access(this,function(i,n,o){var a=N(i);return o===t?a?a[r]:i[n]:(a?a.scrollTo(s?e.pageXOffset:o,s?o:e.pageYOffset):i[n]=o,t)},i,n,arguments.length,null)}}),nt.each({Height:"height",Width:"width"},function(e,i){nt.each({padding:"inner"+e,content:i,"":"outer"+e},function(r,s){nt.fn[s]=function(s,n){var o=arguments.length&&(r||"boolean"!=typeof s),a=r||(s===!0||n===!0?"margin":"border");return nt.access(this,function(i,r,s){var n;return nt.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(n=i.documentElement,Math.max(i.body["scroll"+e],n["scroll"+e],i.body["offset"+e],n["offset"+e],n["client"+e])):s===t?nt.css(i,r,a):nt.style(i,r,s,a)},i,o?s:t,o,null)}})}),nt.fn.size=function(){return this.length},nt.fn.andSelf=nt.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=nt:"function"==typeof define&&define.amd&&define("jquery",[],function(){return nt}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=nt)}(window);var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance()},e[t].prototype.defineInstance=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var r=typeof i==Array||i.length>0?i[0]:i,s=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();void 0==t[r]&&null!=t.base;){if(void 0!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,s);if("string"==typeof r){var n=r.toLowerCase();if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,s)}t=t.base}if(void 0!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,s);if("string"==typeof r){var n=r.toLowerCase();if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,s)}}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var r=e;r;){if(r.hasOwnProperty(i))return!0;if(r.hasOwnProperty(i.toLowerCase()))return!0;r=r.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(void 0==t)return!1;var r=typeof i==Array||i.length>0?i[0]:i;for(typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):{};void 0==t[r]&&null!=t.base;){if(t[r]&&e.isFunction(t[r]))return!0;if("string"==typeof r){var s=r.toLowerCase();if(t[s]&&e.isFunction(t[s]))return!0}t=t.base}if(t[r]&&e.isFunction(t[r]))return!0;if("string"==typeof r){var s=r.toLowerCase();if(t[s]&&e.isFunction(t[s]))return!0}return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]?!0:2!=i.length||"string"!=typeof i[0]||e.jqx.hasFunction(t,i)?!1:!0},e.jqx.validatePropertySetter=function(t,i,r){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var s in i[0]){for(var n=t;!n.hasOwnProperty(s)&&n.base;)n=n.base;if(!n||!n.hasOwnProperty(s)){if(!r){var o=n.hasOwnProperty(s.toString().toLowerCase());if(o)return!0;throw"Invalid property: "+s}return!1}}return!0}if(2!=i.length){if(!r)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!r)throw"Invalid property: "+i[0];return!1}return!0},e.jqx.set=function(t,i){var r=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){t.batchUpdate=i[0];var s={},n={};e.each(i[0],function(e,i){for(var o=t;!o.hasOwnProperty(e)&&null!=o.base;)o=o.base;o.hasOwnProperty(e)?t[e]!=i&&(s[e]=t[e],n[e]=i):o.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(s[e.toLowerCase()]=t[e.toLowerCase()],n[e.toLowerCase()]=i,r++)}),2>r&&(t.batchUpdate=null)}e.each(i[0],function(i,r){for(var s=t;!s.hasOwnProperty(i)&&null!=s.base;)s=s.base;if(s.hasOwnProperty(i))e.jqx.setvalueraiseevent(s,i,r);else if(s.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(s,i.toLowerCase(),r);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&n.length>1&&t.propertiesChangedHandler(t,s,n))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var r=e[t];e[t]=i,e.isInitialized&&(void 0!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,r,i),void 0!=e.propertyChangeMap&&void 0!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,r,i))},e.jqx.get=function(e,t){if(void 0==t||null==t)return void 0;if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var r=void 0;if(typeof t==Array){if(1!=t.length)return void 0;r=t[0]}else"string"==typeof t&&(r=t);for(;!e.hasOwnProperty(r)&&e.base;)e=e.base;return e?e[r]:void 0},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var r=0;r<t.length;r++)r>0&&(i+=", "),i+=e.jqx.serialize(t[r]);i+="]"}else if("object"==typeof t){i="{";var s=0;for(var r in t)s++>0&&(i+=", "),i+=r+": "+e.jqx.serialize(t[r]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,r){var s=(e(i),e.data(i,t));if(void 0==s)return void 0;var n=s.instance;if(e.jqx.hasFunction(n,r))return e.jqx.invoke(n,r);if(e.jqx.isPropertySetter(n,r)){if(e.jqx.validatePropertySetter(n,r))return void e.jqx.set(n,r)}else{if("object"==typeof r&&0==r.length)return;if("object"==typeof r&&1==r.length&&e.jqx.hasProperty(n,r[0]))return e.jqx.get(n,r[0]);if("string"==typeof r&&e.jqx.hasProperty(n,r[0]))return e.jqx.get(n,r)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(r)+"' does not exist."},e.jqx.applyWidget=function(t,i,r,s){var n=!1;try{n=void 0!=window.MSApp}catch(o){}var a=e(t);s?(s.host=a,s.element=t):s=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var l={host:a,element:t,instance:s};s.widgetName=i,e.data(t,i,l),e.data(t,"jqxWidget",l.instance);for(var h=new Array,s=l.instance;s;)s.isInitialized=!1,h.push(s),s=s.base;h.reverse(),h[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,r);for(var d in h)s=h[d],0==d&&(s.host=a,s.element=t,s.WinJS=n),void 0!=s&&(s.definedInstance&&s.definedInstance(),null!=s.createInstance&&(n?MSApp.execUnsafeLocalFunction(function(){s.createInstance(r)}):s.createInstance(r)));for(var d in h)void 0!=h[d]&&(h[d].isInitialized=!0);n?MSApp.execUnsafeLocalFunction(function(){l.instance.refresh(!0)}):l.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,r){var s=!1;try{jqxArgs=Array.prototype.slice.call(r,0)}catch(n){jqxArgs=""}try{s=void 0!=window.MSApp}catch(n){}var o=t,a="";i&&(a="_"+i),e.jqx.define(e.jqx,"_"+o,a);var l=new Array;if(!window[o]){var h=function(t){if(null==t)return"";var i=e.type(t);switch(i){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var r="";return e.each(t,function(t){var i=this;t>0&&(r+=", "),r+="[";var s=0;if("object"==e.type(i))for(var n in i)s>0&&(r+=", "),r+="{"+n+":"+i[n]+"}",s++;else s>0&&(r+=", "),r+="{"+t+":"+i+"}",s++;r+="]"}),r};window[o]=function(t,i){var r=[];i||(i={}),r.push(i);var s=t;if("object"===e.type(s)&&t[0]&&(s=t[0].id,""===s&&(s=t[0].id=e.jqx.utilities.createId())),window.jqxWidgets&&window.jqxWidgets[s]){if(i&&e.each(window.jqxWidgets[s],function(){var t=e(this.element).data();t&&t.jqxWidget&&e(this.element)[o](i)}),1==window.jqxWidgets[s].length){var n=e(window.jqxWidgets[s][0].widgetInstance.element).data();if(n&&n.jqxWidget)return window.jqxWidgets[s][0]}var n=e(window.jqxWidgets[s][0].widgetInstance.element).data();if(n&&n.jqxWidget)return window.jqxWidgets[s]}var a=e(t);if(0===a.length)throw new Error("Invalid Selector - "+t+"! Please, check whether the used ID or CSS Class name is correct.");var d=[];return e.each(a,function(t){var i=a[t],n=null;if(!l[o]){var c=i.id;i.id="",n=e(i).clone(),i.id=c}if(e.jqx.applyWidget(i,o,r,void 0),!l[o]){var u=e.data(i,"jqxWidget"),p=n[o]().data().jqxWidget.defineInstance(),f=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var r=e.extend(this,i);return r.on=function(e,t){r.addHandler(r.host,e,t)},r.off=function(e){r.removeHandler(r.host,e)},r};l[o]=f,e.each(p,function(e,t){Object.defineProperty(f.prototype,e,{get:function(){return this.widgetInstance?this.widgetInstance[e]:t},set:function(t){if(this.widgetInstance&&this.widgetInstance[e]!=t&&this.widgetInstance[e]!=t&&h(this.widgetInstance[e])!=h(t)){var i={};i[e]=t,this.widgetInstance.host[o](i),this.widgetInstance[e]=t}}})})}var u=new l[o](i);d.push(u),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[s]||(window.jqxWidgets[s]=new Array),window.jqxWidgets[s].push(u)}),1===d.length?d[0]:d}}e.fn[o]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw new Error(this.selector?"Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var i=(e(this),this),r=e.data(i,o);null==r?e.jqx.applyWidget(i,o,t,void 0):e.jqx.jqxWidgetProxy(o,this,t)})}if(0==this.length)throw new Error(this.selector?"Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,r=0;return this.each(function(){var s=e.jqx.jqxWidgetProxy(o,this,t);if(0==r)i=s,r++;else{if(1==r){var n=[];n.push(i),i=n}i.push(s)}}),i};try{e.extend(e.jqx["_"+o].prototype,Array.prototype.slice.call(r,0)[0])}catch(n){}e.extend(e.jqx["_"+o].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+o].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+o].prototype.createInstance=function(){},e.jqx["_"+o].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var r=[];r.push(i),i=r}e.jqx.applyWidget(t,o,i,this)},e.jqx["_"+o].prototype.getInstance=function(){return this},e.jqx["_"+o].prototype.propertyChangeMap={},e.jqx["_"+o].prototype.addHandler=function(t,i,r,s){e.jqx.addHandler(t,i,r,s)},e.jqx["_"+o].prototype.removeHandler=function(t,i,r){e.jqx.removeHandler(t,i,r)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var r=t.split(" "),s="",n=0;n<r.length;n++){n>0&&(s+=" ");var o=r[n];s+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return s},e.jqx.addHandler=function(t,i,r,s){for(var n=i.split(" "),o=0;o<n.length;o++){var a=n[o];if(window.addEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",r,!1):t[0].addEventListener("mousewheel",r,!1);continue;case"mousemove":if(!s){t[0].addEventListener("mousemove",r,!1);continue}}void 0==s||null==s?t.on?t.on(a,r):t.bind(a,r):t.on?t.on(a,s,r):t.bind(a,s,r)}},e.jqx.removeHandler=function(t,i,r){if(i)for(var s=i.split(" "),n=0;n<s.length;n++){var o=s[n];if(window.removeEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",r,!1):t[0].removeEventListener("mousewheel",r,!1);continue;case"mousemove":if(r){t[0].removeEventListener("mousemove",r,!1);continue}}void 0!=o?void 0==r?t.off?t.off(o):t.unbind(o):t.off?t.off(o,r):t.unbind(o,r):t.off?t.off():t.unbind()}},e.jqx.theme=e.jqx.theme||"",e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,r){if("undefined"!=typeof r){for(var s=r[0].className.split(" "),n=[],o=[],a=r.children(),l=0;l<s.length;l+=1)s[l].indexOf(t)>=0&&(t.length>0?(n.push(s[l]),o.push(s[l].replace(t,i))):o.push(s[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(n,r),this._addNewClasses(o,r);for(var l=0;l<a.length;l+=1)this.setTheme(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]),r=e.jqx.mobile.getTopPos(t[0]);return{top:r,left:i}},resize:function(t,i,r,s){void 0===s&&(s=!0);var n=-1,o=this,a=function(e){if(!o.hiddenWidgets)return-1;for(var t=-1,i=0;i<o.hiddenWidgets.length;i++)if(e.id){if(o.hiddenWidgets[i].id==e.id){t=i;break}}else if(o.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){n=l;break}}else if(this.resizeHandlers[l].id==t[0].id){n=l;break}if(r===!0){if(-1!=n&&this.resizeHandlers.splice(n,1),0==this.resizeHandlers.length){var h=e(window);h.off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var d=a(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}}else if(r===!0){var d=a(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}var o=this,c=function(t,i){if(o.resizeHandlers){var r=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},s=function(e,t){if(!e.widget||!t.widget)return 0;var i=r(e.widget[0]),s=r(t.widget[0]);try{if(s>i)return-1;if(i>s)return 1}catch(n){}return 0},n=function(t){if(o.hiddenWidgets.length>0){o.hiddenWidgets.sort(s);var r=function(){for(var t=!1,r=new Array,s=0;s<o.hiddenWidgets.length;s++){var n=o.hiddenWidgets[s];e.jqx.isHidden(n.widget)?(t=!0,r.push(n)):n.callback&&n.callback(i)}o.hiddenWidgets=r,t||clearInterval(o.__resizeInterval)};if(0==t)return r(),void(o.__resizeInterval&&clearInterval(o.__resizeInterval));o.__resizeInterval&&clearInterval(o.__resizeInterval),o.__resizeInterval=setInterval(function(){r()},100)}};o.hiddenWidgets&&o.hiddenWidgets.length>0&&n(!1),o.hiddenWidgets=new Array,o.resizeHandlers.sort(s);for(var l=0;l<o.resizeHandlers.length;l++){var h=o.resizeHandlers[l],d=h.widget,c=h.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(void 0==u&&(u=c.jqxWidget.base.width),void 0==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var f=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(f=!0),null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),e.jqx.isHidden(d))-1===a(d)&&(f||t===!0)&&h.data.nestedWidget!==!0&&o.hiddenWidgets.push(h);else if((void 0===t||t!==!0)&&(f&&(h.callback(i),o.hiddenWidgets.indexOf(h)>=0&&o.hiddenWidgets.splice(o.hiddenWidgets.indexOf(h),1)),c.jqxWidget.element)){var m=c.jqxWidget.element.className;if((m.indexOf("dropdownlist")>=0||m.indexOf("datetimeinput")>=0||m.indexOf("combobox")>=0||m.indexOf("menu")>=0)&&c.jqxWidget.isOpened){var g=c.jqxWidget.isOpened();g&&c.jqxWidget.close()}}}}n()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var h=e(window);h.on?(this._resizeTimer=null,h.on("resize.jqx",function(){void 0!=o._resizeTimer&&clearTimeout(o._resizeTimer),o._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay)}),h.on("orientationchange.jqx",function(){c(null,"orientationchange")}),h.on("orientationchanged.jqx",function(){c(null,"orientationchange")})):(h.bind("resize.jqx",function(){c(null,"orientationchange")}),h.bind("orientationchange.jqx",function(){c(null,"orientationchange")}),h.bind("orientationchanged.jqx",function(){c(null,"orientationchange")}))}s&&-1===n&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:t.data()}),e.jqx.isHidden(t)&&s===!0&&c(!0),e.jqx.resize=function(){c(null,"resize")}},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var r=t[0]||{},s=0,n=t.length;if(void 0===i)return 1===r.nodeType?r.innerHTML.replace(rinlinejQuery,""):void 0;var o=/<(?:script|style|link)/i,a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,h=/<([\w:]+)/,d=new RegExp("<(?:"+a+")[\\s/>]","i"),c=/^\s+/,u={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(!("string"!=typeof i||o.test(i)||!e.support.htmlSerialize&&d.test(i)||!e.support.leadingWhitespace&&c.test(i)||u[(h.exec(i)||["",""])[1].toLowerCase()])){i=i.replace(l,"<$1></$2>");try{for(;n>s;s++)r=this[s]||{},1===r.nodeType&&(e.cleanData(r.getElementsByTagName("*")),r.innerHTML=i);r=0}catch(p){}}r&&t.empty().append(i)},null,i,arguments.length)}catch(r){return e(t).html(i)}},hasTransform:function(t){var i="";if(i=t.css("transform"),""==i||"none"==i){if(i=t.parents().css("transform"),""!=i&&"none"!=i)return""!=i&&"none"!=i;var r=e.jqx.utilities.getBrowser();"msie"==r.browser?(i=t.css("-ms-transform"),(""==i||"none"==i)&&(i=t.parents().css("-ms-transform"))):"chrome"==r.browser?(i=t.css("-webkit-transform"),(""==i||"none"==i)&&(i=t.parents().css("-webkit-transform"))):"opera"==r.browser?(i=t.css("-o-transform"),(""==i||"none"==i)&&(i=t.parents().css("-o-transform"))):"mozilla"==r.browser&&(i=t.css("-moz-transform"),(""==i||"none"==i)&&(i=t.parents().css("-moz-transform")))}return(""==i||"none"==i)&&(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),i[t[1]]=t[1],i
}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){try{var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i?!0:!1}catch(r){return!1}},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,r){if(e.jqx.ariaEnabled)if(void 0==i)e.each(t.aria,function(i,r){var s=t.base?t.base.host.attr(i):t.host.attr(i);if(void 0==s||e.isFunction(s)){var s=t[r.name];e.isFunction(s)&&(s=t[r.name]()),void 0==s&&(s="");try{t.base?t.base.host.attr(i,s.toString()):t.host.attr(i,s.toString())}catch(n){}}else{var o=s;switch(r.type){case"number":o=new Number(s),isNaN(o)&&(o=s);break;case"boolean":o="true"==s?!0:!1;break;case"date":o=new Date(s),("Invalid Date"==o||isNaN(o))&&(o=s)}t[r.name]=o}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,r.toString()):t.attr(i,r.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,r.toString()):t.host.attr(i,r.toString()):t.attr(i,r.toString()):t.setAttribute&&t.setAttribute(i,r.toString())}catch(s){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),r=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var s=e.jqx.mobile.getTouches(t),n=s[0];i=parseInt(n.pageX),r=parseInt(n.pageY)}return{left:i,top:r}},e.extend(e.jqx.mobile,{_touchListener:function(e){var t=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i},i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=t(i[e.type],e);e.target.dispatchEvent(r);var s=e.target["on"+i[e.type]];"function"==typeof s&&s(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var r={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=this;if(window.addEventListener){var n=function(){for(var e in r)t.addEventListener&&(t.removeEventListener(e,s._touchListener),t.addEventListener(e,s._touchListener,!1))};e.jqx.browser.msie,n()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)"))))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var r=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(r.indexOf("Windows Phone")>=0||r.indexOf("WPDesktop")>=0||r.indexOf("IEMobile")>=0||r.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(r.indexOf("Touch")>=0){var s="MSPointerDown"in window||"pointerdown"in window;return s?(this.touchDevice=!0,!0):r.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(n){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,r=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var s=navigator.userAgent.toLowerCase(),n=(-1!=s.indexOf("windows phone")||-1!=s.indexOf("WPDesktop")||-1!=s.indexOf("ZuneWP7")||-1!=s.indexOf("msie 9")||-1!=s.indexOf("msie 11")||-1!=s.indexOf("msie 10"))&&-1!=s.indexOf("touch");return n?r.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=s.indexOf("version/7")?r.top:((-1!=s.indexOf("version/6")||-1!=s.indexOf("version/5"))&&(i+=e(window).scrollTop()),r.top):i},isChromeMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("android");return t},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi");return t},isOperaMiniBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini");return t},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch");return t},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t},isIPadSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad");return t},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android");return t},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=void 0!=e.originalEvent?e.originalEvent:e,void 0!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;var t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("windows phone 8.1")){if(-1!=e.toLowerCase().indexOf("start"))return"pointerdown";if(-1!=e.toLowerCase().indexOf("move"))return"pointermove";if(-1!=e.toLowerCase().indexOf("end"))return"pointerup"}return-1!=e.toLowerCase().indexOf("start")?"MSPointerDown":-1!=e.toLowerCase().indexOf("move")?"MSPointerMove":-1!=e.toLowerCase().indexOf("end")?"MSPointerUp":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var r=document.createEvent("MouseEvent");r.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(r)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,r,s,n,o){if(null!=t){var a=this,l=0,h=0,d=0,c=0,u=0,p=0;this.scrolling||(this.scrolling=[]),this.scrolling[s]=!1;var f=!1,m=e(t),g=["select","input","textarea"],v=0,w=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[s]=!0;var s=s,x=this.getTouchEventName("touchstart")+".touchScroll",b=this.getTouchEventName("touchend")+".touchScroll",_=this.getTouchEventName("touchmove")+".touchScroll",v=function(t){if(!a.enableScrolling[s])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),g)){var i=a.getTouches(t),r=i[0];return 1==i.length&&a.dispatchMouseEvent("mousedown",r,a.getRootNode(r.target)),f=!1,h=r.pageY,u=r.pageX,a.simulatetouches&&void 0!=r._pageY&&(h=r._pageY,u=r._pageX),a.scrolling[s]=!0,l=0,c=0,!0}};m.on?m.on(x,v):m.bind(x,v);var y=function(e){if(!a.enableScrolling[s])return!0;if(!a.scrolling[s])return!0;var t=a.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,m=t[0].pageX;a.simulatetouches&&void 0!=t[0]._pageY&&(i=t[0]._pageY,m=t[0]._pageX);var g=i-h,v=m-u;w=i,touchHorizontalEnd=m,d=g-l,p=v-c,f=!0,l=g,c=v;var x=null!=n?"hidden"!=n[0].style.visibility:!0,b=null!=o?"hidden"!=o[0].style.visibility:!0;return(x||b)&&(0!==p&&x||0!==d&&b)?(r(1*-p,1*-d,v,g,e),e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1):void 0};if(m.on?m.on(_,y):m.bind(_,y),this.simulatetouches){var j=(void 0!=e(window).on||e(window).bind,function(){a.scrolling[s]=!1});if(void 0!=e(window).on?e(document).on("mouseup.touchScroll",j):e(document).bind("mouseup.touchScroll",j),window.frameElement&&null!=window.top){var C=function(){a.scrolling[s]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",C):e(window.top.document).bind("mouseup",C))}var q=(void 0!=e(document).on||e(document).bind,function(e){if(!a.scrolling[s])return!0;a.scrolling[s]=!1;var t=a.getTouches(e)[0],i=a.getRootNode(t.target);a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i)});void 0!=e(document).on?e(document).on("touchend",q):e(document).bind("touchend",q)}var T=function(e){if(!a.enableScrolling[s])return!0;var t=a.getTouches(e)[0];if(!a.scrolling[s])return!0;if(a.scrolling[s]=!1,!f){var t=a.getTouches(e)[0],i=a.getRootNode(t.target);return a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i),!0}a.dispatchMouseEvent("mouseup",t,i)};m.on&&(m.on("dragstart",function(e){e.preventDefault()}),m.on("selectstart",function(e){e.preventDefault()})),m.on?m.on(b+" touchcancel.touchScroll",T):m.bind(b+" touchcancel.touchScroll",T)}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,r){if(arguments.length>1&&"[object Object]"!==String(i)){if(r=e.extend({},r),(null===i||void 0===i)&&(r.expires=-1),"number"==typeof r.expires){var s=r.expires,n=r.expires=new Date;n.setDate(n.getDate()+s)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",r.raw?i:encodeURIComponent(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}r=i||{};var o,a=r.raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var r=e,s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r},contains:function(e,t){return null==e||null==t?!1:-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null==e||null==t?!1:-1!=e.toUpperCase().indexOf(t.toUpperCase())},equals:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.slice(0,t.length)==t:!1)},equalsIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.toUpperCase().slice(0,t.length)==t.toUpperCase():!1)},startsWith:function(e,t){return null==e||null==t?!1:e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null==e||null==t?!1:e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.slice(-t.length)==t)},endsWithIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.toUpperCase().slice(-t.length)==t.toUpperCase())}}),e.extend(e.easing,{easeOutBack:function(e,t,i,r,s,n){return void 0==n&&(n=1.70158),r*((t=t/s-1)*t*((n+1)*t+n)+1)+i},easeInQuad:function(e,t,i,r,s){return r*(t/=s)*t+i},easeInOutCirc:function(e,t,i,r,s){return(t/=s/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,r,s){return-r/2*(Math.cos(Math.PI*t/s)-1)+i},easeInCubic:function(e,t,i,r,s){return r*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,r,s){return r*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,r,s){return-r*Math.cos(t/s*(Math.PI/2))+r+i},easeOutSine:function(e,t,i,r,s){return r*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,r,s){return-r/2*(Math.cos(Math.PI*t/s)-1)+i}})}(jqxBaseFramework),function(e){e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend({ischildof:function(t){for(var i=e(this).parents().get(),r=0;r<i.length;r++)if("string"!=typeof t){var s=i[r];if(void 0!==t&&s==t[0])return!0}else if(void 0!==t&&e(i[r]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),r=t.element;return r||(r=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,r,i)};var t=this.originalVal=e.fn.val;e.fn.val=function(i){if("undefined"==typeof i){if(e(this).hasClass("jqx-widget")){var r=e(this).data().jqxWidget;if(r&&r.val)return r.val()}return t.call(this)}if(e(this).hasClass("jqx-widget")){var r=e(this).data().jqxWidget;if(r&&r.val)return 2!=arguments.length?r.val(i):r.val(i,arguments[1])}return t.call(this,i)},e.fn.coord=function(t){var i,r,s={top:0,left:0},n=this[0],o=n&&n.ownerDocument;if(o){if(i=o.documentElement,!e.contains(i,n))return s;void 0!==typeof n.getBoundingClientRect&&(s=n.getBoundingClientRect());var a=function(t){return e.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1};r=a(o);var l=0,h=0,d=navigator.userAgent.toLowerCase(),c=-1!=d.indexOf("ipad")||-1!=d.indexOf("iphone");if(c&&(l=2),1==t&&"static"!=e(document.body).css("position")){var u=e(document.body).coord();l=-u.left,h=-u.top}return{top:h+s.top+(r.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+s.left+(r.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(){var t=this;t._setSize(),t._ariaDisabled||t.host.attr("role","button"),t.overrideTheme||(t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button")),t.host.addClass(t.toThemeProperty("jqx-widget"))),t.isTouchDevice=e.jqx.mobile.isTouchDevice(),t._ariaDisabled||e.jqx.aria(this),"arrow"!=t.cursor&&t.host.css(t.disabled?{cursor:"arrow"}:{cursor:t.cursor});var i="mouseenter mouseleave mousedown focus blur";if(t._scrollAreaButton)var i="mousedown";t.isTouchDevice&&(t.addHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart"),function(){t.isPressed=!0,t.refresh()}),t.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id,function(){t.isPressed=!1,t.refresh()})),t.addHandler(t.host,i,function(e){switch(e.type){case"mouseenter":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!0,t.refresh());break;case"mouseleave":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!1,t.refresh());break;case"mousedown":t.disabled||(t.isPressed=!0,t.refresh());break;case"focus":t.disabled||(t.isFocused=!0,t.refresh());break;case"blur":t.disabled||(t.isFocused=!1,t.refresh())}}),t.mouseupfunc=function(){t.disabled||(t.isPressed=!1,t.refresh())},t.addHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r="";if(window.parent&&document.referrer&&(r=document.referrer),-1!=r.indexOf(document.location.host)){var s=function(){t.isPressed=!1,t.refresh()};window.top.document&&t.addHandler(e(window.top.document),"mouseup",s)}}}catch(n){}t.propertyChangeMap.roundedCorners=function(t,i,r,s){t.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(r))),t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(s)))},t.propertyChangeMap.width=function(e){e._setSize(),e.refresh()},t.propertyChangeMap.height=function(e){e._setSize(),e.refresh()},t.propertyChangeMap.disabled=function(t,i,r,s){r!=s&&(t.host[0].disabled=s,t.host.attr("disabled",s),t.refresh(),t.host.css(s?{cursor:"default"}:{cursor:t.cursor}),e.jqx.aria(t,"aria-disabled",t.disabled))},t.propertyChangeMap.rtl=function(e,t,i,r){i!=r&&e.refresh()},t.propertyChangeMap.template=function(e,t,i,r){i!=r&&(e.host.removeClass("jqx-"+i),e.refresh())},t.propertyChangeMap.theme=function(t){t.host.removeClass(),t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},t.disabled&&(t.element.disabled=!0,t.host.attr("disabled",!0))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var t=this,i=t.host.find("input");return i.length>0?0==arguments.length||"object"==typeof value?i.val():(i.val(value),t.refresh(),i.val()):0==arguments.length||"object"==typeof value?"button"==t.element.nodeName.toLowerCase()?e(t.element).text():t.element.value:(t.element.value=arguments[0],"button"==t.element.nodeName.toLowerCase()&&e(t.element).text(arguments[0]),void t.refresh())},_setSize:function(){var e=this;null==e.width||-1==e.width.toString().indexOf("px")&&-1==e.width.toString().indexOf("%")?void 0==e.width||isNaN(e.width)||e.host.css("width",e.width):e.host.css("width",e.width),null==e.height||-1==e.height.toString().indexOf("px")&&-1==e.height.toString().indexOf("%")?void 0==e.height||isNaN(e.height)||e.host.css("height",parseInt(e.height)):e.host.css("height",e.height)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var i=e.data(t.element,"jqxButton");i&&delete i.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.propertyChangeMap.roundedCorners,delete t.propertyChangeMap.width,delete t.propertyChangeMap.height,delete t.propertyChangeMap.disabled,delete t.propertyChangeMap.rtl,delete t.propertyChangeMap.theme,delete t.propertyChangeMap,delete t.element,delete t.host},render:function(){this.refresh()},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),r=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(r="");var s=e.toThemeProperty("jqx-fill-state-hover"),n=e.toThemeProperty("jqx-fill-state-pressed"),o=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(n="");var a="";if(e.host){if(e.host[0].disabled=e.disabled,e.disabled)return a=r+" "+i,e.host.addClass(a),void(e._oldCSSCurrent=a);a=e.isMouseOver&&!e.isTouchDevice?e.isPressed?o:s:e.isPressed?n:r,e.isFocused&&(a+=" "+t),"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template),a!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.host.removeClass(e._oldCSSCurrent),e.host.addClass(a),e._oldCSSCurrent=a),e.rtl&&(e.host.addClass(e.toThemeProperty("jqx-rtl")),e.host.css("direction","rtl"))}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(e){var t=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var i=this.height||this.host.height(),r=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var s=this.host.find("input");s.addClass(this.toThemeProperty("jqx-reset")),s.width(r),s.height(i),s.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),s.css({width:r}),s.css({height:i});var n=void 0==e?{}:e[0]||{};s.jqxButton(n),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,r){e.host[0].disabled=r,e.host.find("input").jqxButton({disabled:r})},this.addHandler(s,"click",function(e){return this.disabled||t.onclick(e),!1})},onclick:function(){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(){var t=this,i=e.jqx.mobile.isTouchDevice(),r=i?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,s=i?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),r,function(){null!=t.timeout&&(clearTimeout(t.timeout),t.timeout=null,t.refresh()),void 0!=t.timer&&(clearInterval(t.timer),t.timer=null,t.refresh())}),this.addHandler(this.base.host,s,function(){null!=t.timer&&clearInterval(t.timer),t.timeout=setTimeout(function(){clearInterval(t.timer),t.timer=setInterval(function(e){t.ontimer(e)},t.delay)},150)}),this.mousemovefunc=function(e){i||0==e.which&&null!=t.timer&&(clearInterval(t.timer),t.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,r=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,r),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var s=e.data(this.base.element,"jqxRepeatButton");s&&delete s.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){var t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){var t=this;t.base.overrideTheme=!0,t.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),t.propertyChangeMap.roundedCorners=function(t,i,r,s){t.base.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(r))),t.base.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(s)))},t.propertyChangeMap.toggled=function(e){e.refresh()},t.propertyChangeMap.disabled=function(e,t,i,r){e.base.disabled=r,e.refresh()},t.addHandler(t.base.host,"click",function(){!t.base.disabled&&t.uiToggle&&t.toggle()}),t.isTouchDevice||(t.addHandler(t.base.host,"mouseenter",function(){t.base.disabled||t.refresh()}),t.addHandler(t.base.host,"mouseleave",function(){t.base.disabled||t.refresh()})),t.addHandler(t.base.host,"mousedown",function(){t.base.disabled||t.refresh()}),t.addHandler(e(document),"mouseup.togglebutton"+t.base.element.id,function(){t.base.disabled||t.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var r=e.base.toThemeProperty("jqx-fill-state-hover"),s=e.base.toThemeProperty("jqx-fill-state-pressed"),n=e.base.toThemeProperty("jqx-fill-state-pressed"),o="";return e.base.host[0].disabled=e.base.disabled,e.base.disabled?(o=i+" "+t,void e.base.host.addClass(o)):(o=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?n:r:e.base.isPressed||e.toggled?s:i,"default"!==e.base.template&&""!==e.base.template&&(o+=" jqx-"+e.base.template),e.base.host.hasClass(t)&&t!=o&&e.base.host.removeClass(t),e.base.host.hasClass(i)&&i!=o&&e.base.host.removeClass(i),e.base.host.hasClass(r)&&r!=o&&e.base.host.removeClass(r),e.base.host.hasClass(s)&&s!=o&&e.base.host.removeClass(s),e.base.host.hasClass(n)&&n!=o&&e.base.host.removeClass(n),void(e.base.host.hasClass(o)||e.base.host.addClass(o)))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1};return e.extend(!0,this,t),t},createInstance:function(){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var r=this;e.jqx.utilities.resize(this.host,function(){r._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e("<div></div>"),this.arrowUp.appendTo(this.btnUp),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e("<div></div>"),this.arrowDown.appendTo(this.btnDown);var s=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+s,this.btnDown[0].id="jqxScrollBtnDown"+s,this.btnThumb[0].id="jqxScrollThumb"+s,this.areaUp[0].id="jqxScrollAreaUp"+s,this.areaDown[0].id="jqxScrollAreaDown"+s,this.scrollWrap[0].id="jqxScrollWrap"+s,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+s,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,r){isNaN(r)||i!=r&&e.setPosition(parseFloat(r),!0)},this.propertyChangeMap.width=function(e){void 0!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e){void 0!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,r){isNaN(r)||i!=r&&(e.max=parseInt(r),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,r){isNaN(r)||i!=r&&(e.min=parseInt(r),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,r){i!=r&&(r?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,r){i!=r&&(e._updateTouchBehavior(),r===!0?(e.showButtons=!1,e.refresh()):r===!1&&(e.showButtons=!0,e.refresh()))},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();
this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(r){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.toThemeProperty(t.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal"),r=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(r),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,r,s,n){if("visible"==t.host.css("visibility")){if(1==t.touchMode)n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY;else{var o=n;o.originalEvent.touches&&o.originalEvent.touches.length?(n.clientX=o.originalEvent.touches[0].clientX,n.clientY=o.originalEvent.touches[0].clientY):(n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY)}var a=t.toThemeProperty(t.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(a),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(n)}},t.element.id)),this.addHandler(this.btnUp,"click",function(){var e=t.step;t.rtl&&!t.vertical&&(e=-t.step),t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-e):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-e)}),this.addHandler(this.btnDown,"click",function(){var e=t.step;t.rtl&&!t.vertical&&(e=-t.step),t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+e):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+e)}),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var n=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(o){}this.addHandler(this.btnDown,"mouseup",function(e){if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture){t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e);var i=t.step;return t.rtl&&!t.vertical&&(i=-t.step),t.setPosition(t.value+i),!1}}),this.addHandler(this.btnUp,"mouseup",function(e){if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture){t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e);var i=t.step;return t.rtl&&!t.vertical&&(i=-t.step),t.setPosition(t.value-i),!1}}),this.addHandler(this.btnDown,"mousedown",function(){return t.btnDownInstance.base.disabled?void 0:(t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1)}),this.addHandler(this.btnUp,"mousedown",function(){return t.btnUpInstance.base.disabled?void 0:(t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1)})}var a="click";if(this.isTouchDevice&&(a=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,a,function(){if(!t.disabled){var e=t.largestep;return t.rtl&&!t.vertical&&(e=-t.largestep),t.setPosition(t.value-e),!1}}),this.addHandler(this.areaDown,a,function(){if(!t.disabled){var e=t.largestep;return t.rtl&&!t.vertical&&(e=-t.largestep),t.setPosition(t.value+e),!1}}),this.addHandler(this.areaUp,"mousedown",function(){return t.disabled?void 0:(t.areaUpCapture=!0,!1)}),this.addHandler(this.areaDown,"mousedown",function(){return t.disabled?void 0:(t.areaDownCapture=!0,!1)}),this.addHandler(this.btnThumb,"mousedown",function(e){return t.disabled||t.handlemousedown(e),!1}),this.addHandler(this.btnThumb,"dragstart",function(){return!1}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter",function(){t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up"))}),this.addHandler(this.btnUp,"mouseleave",function(){t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))});var l=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(l=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter",function(){t.disabled||1==t.touchMode||(t.btnThumb.addClass(l),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnThumb,"mouseleave",function(){t.disabled||1==t.touchMode||(t.btnThumb.removeClass(l),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter",function(){t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down"))}),this.addHandler(this.btnDown,"mouseleave",function(){t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,r=this.btnThumb,s=(this.scrollWrap,this.areaUp),n=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,n.removeClass(),s.removeClass(),i.removeClass(),t.removeClass(),r.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),s.jqxRepeatButton("destroy"),n.jqxRepeatButton("destroy"),r.jqxButton("destroy");var o=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,o&&delete o.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?(("up"==t||void 0==t)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),("down"==t||void 0==t)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):(("up"==t||void 0==t)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),("down"==t||void 0==t)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?(("up"==t||void 0==t)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),("down"==t||void 0==t)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):(("up"==t||void 0==t)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),("down"==t||void 0==t)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,r=this.btnThumb,s=this.scrollWrap,n=(this.areaUp,this.areaDown,this.arrowUp),o=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var a=this.toThemeProperty("jqx-reset");this.areaDown[0].className=a,this.areaUp[0].className=a;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var h="";if(this.vertical?(n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-up"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-down"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-left"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-right"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),r[0].className=h,this.disabled?(s.addClass(this.toThemeProperty("jqx-fill-state-disabled")),s.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(s.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),s.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var d=e.jqx.cssroundedcorners("top");d=this.toThemeProperty(d),t.addClass(d);var c=e.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c),i.addClass(c)}else{var u=e.jqx.cssroundedcorners("left");u=this.toThemeProperty(u),t.addClass(u);var p=e.jqx.cssroundedcorners("right");p=this.toThemeProperty(p),i.addClass(p)}else{var f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),elBtnUp.addClass(f),elBtnDown.addClass(f)}var f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),r.hasClass(f)||r.addClass(f),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture||void 0==this.areaDownCapture||void 0==this.areaUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(e){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var t=this.btnThumb;null!=t&&(t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),t.addClass(this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value},toggleHover:function(){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(){var e=this.btnUp,t=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(e.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var i=this.btnThumb,r=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");i.removeClass(r),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(){var e=this.btnUp,t=this.btnDown;if(this.buttonUpCapture&&(e.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),e.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var i=this.btnThumb;i.addClass(this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown,r=0;if(null!=i&&null!=t){if(null!=t&&null!=i&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&e.which==r?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&e.which==r&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var s=this.btnThumb;if(e.which==r&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var n=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");return s.removeClass(n),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation();var o=0;try{o=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var a=this._btnAndThumbSize;this._btnAndThumbSize||(a=this.vertical?t.height()+i.height()+s.height():t.width()+i.width()+s.width());var l=(this.max-this.min)/(this.scrollBarSize-a);if("auto"!=this.thumbStep){if(o*=l,Math.abs(this.dragStartValue+o-this.value)>=parseInt(this.thumbStep)){var h=Math.round(parseInt(o)/this.thumbStep)*this.thumbStep;return this.setPosition(this.rtl&&!this.vertical?this.dragStartValue-h:this.dragStartValue+h),!1}return!1}o*=l;var h=o;this.rtl&&!this.vertical&&(h=-o),this.setPosition(this.dragStartValue+h)}catch(d){alert(d)}return!1}},handlemouseup:function(e,t){var i=!1;if(this.thumbCapture){this.thumbCapture=!1;var r=this.btnThumb,s=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");r.removeClass(s),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i=!0,this._mouseup=new Date}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var n=this.btnUp,o=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,n.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),o.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),o.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),i=!0,this._mouseup=new Date}i&&(void 0!=t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),void 0!=t.stopPropagation&&t.stopPropagation())},setPosition:function(t,i){this.element;if((void 0==t||0/0==t)&&(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var r=new e.Event("complete");this.host.trigger(r)}var s=this.value;if(this._triggervaluechanged){var n=new e.Event("valueChanged");n.previousValue=this.value,n.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(n),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:s})}return t},val:function(e){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};return t(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){var e=(this.element,this.areaUp),t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),r=(this.scrollWrap,this._height?this._height:this.host.height()),s=this._width?this._width:this.host.width(),n=this.vertical?s:r;this.showButtons||(n=0);var o=this.vertical?r:s;this.scrollBarSize=o;var a=this._getThumbSize(o-2*n);a=Math.round(a),a<this.thumbMinSize&&(a=this.thumbMinSize),(0/0==r||10>r)&&(r=10),(0/0==s||10>s)&&(s=10),n+=2,this.btnSize=n;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){var l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var h=(o-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(h=(o-l)/(this.max-this.min)*(this.max-this.value-this.min)),h=Math.round(h),0>h&&(h=0),this.vertical){var d=o-h-l;0>d&&(d=0),t[0].style.height=d+"px",e[0].style.height=h+"px",this._setElementTopPosition(e,n),this._setElementTopPosition(i,n+h),this._setElementTopPosition(t,n+h+a)}else e[0].style.width=h+"px",t[0].style.width=o-h-l>=0?o-h-l+"px":"0px",this._setElementLeftPosition(e,n),this._setElementLeftPosition(i,n+h),this._setElementLeftPosition(t,2+n+h+a)},_arrange:function(){if(this._initialLayout)return void(this._initialLayout=!1);var e=(this.element,this.areaUp),t=this.areaDown,i=this.btnUp,r=this.btnDown,s=this.btnThumb,n=this.scrollWrap,o=parseInt(this.element.style.height),a=parseInt(this.element.style.width);if(this.isPercentage)var o=this.host.height(),a=this.host.width();isNaN(o)&&(o=0),isNaN(a)&&(a=0),this._width=a,this._height=o;var l=this.vertical?a:o;this.showButtons||(l=0),i[0].style.width=l+"px",i[0].style.height=l+"px",r[0].style.width=l+"px",r[0].style.height=l+"px",this.vertical?n[0].style.width=a+2+"px":n[0].style.height=o+2+"px",this._setElementPosition(i,0,0);var h=l+2;this.vertical?this._setElementPosition(r,0,o-h):this._setElementPosition(r,a-h,0);var d=this.vertical?o:a;this.scrollBarSize=d;var c=this._getThumbSize(d-2*l);c=Math.round(c),c<this.thumbMinSize&&(c=this.thumbMinSize);var u=!1;this.isTouchDevice&&0!=this.touchModeStyle&&(u=!0),this.vertical?(s[0].style.width=a+"px",s[0].style.height=c+"px",u&&0!==this.thumbTouchSize&&(s.css({width:this.thumbTouchSize+"px"}),s.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(s[0].style.width=c+"px",s[0].style.height=o+"px",u&&0!==this.thumbTouchSize&&(s.css({height:this.thumbTouchSize+"px"}),s.css("margin-top",(this.host.height()-this.thumbTouchSize)/2))),(0/0==o||10>o)&&(o=10),(0/0==a||10>a)&&(a=10),l+=2,this.btnSize=l;var p=this.vertical?2*this.btnSize+(2+parseInt(s[0].style.height)):2*this.btnSize+(2+parseInt(s[0].style.width));p=Math.round(p),this._btnAndThumbSize=p;var f=(d-p)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(f=(d-p)/(this.max-this.min)*(this.max-this.value-this.min)),f=Math.round(f),(f===-1/0||1/0==f)&&(f=0),isNaN(f)&&(f=0),0>f&&(f=0),this.vertical){var m=d-f-p;0>m&&(m=0),t[0].style.height=m+"px",t[0].style.width=a+"px",e[0].style.height=f+"px",e[0].style.width=a+"px";var g=parseInt(this.element.style.height);this.isPercentage&&(g=this.host.height()),s[0].style.visibility="inherit",g-3*parseInt(l)<0?s[0].style.visibility="hidden":p>g?s[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(s[0].style.visibility="inherit"),this._setElementPosition(e,0,l),this._setElementPosition(s,0,l+f),this._setElementPosition(t,0,l+f+c)}else{f>0&&(e[0].style.width=f+"px"),o>0&&(e[0].style.height=o+"px");var v=d-f-p;0>v&&(v=0),t[0].style.width=v+"px",t[0].style.height=o+"px";var w=parseInt(this.element.style.width);this.isPercentage&&(w=this.host.width()),s[0].style.visibility="inherit",w-3*parseInt(l)<0?s[0].style.visibility="hidden":p>w?s[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(s[0].style.visibility="inherit"),this._setElementPosition(e,l,0),this._setElementPosition(s,l+f,0),this._setElementPosition(t,2+l+f+c,0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPanel","",{}),e.extend(e.jqx._jqxPanel.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,scrollBarSize:e.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};return e.extend(!0,this,t),t},createInstance:function(){this.render()},render:function(){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));var t=e("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var i=this.host.children();this._rtl=!1,i.length>0&&"rtl"==i.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner(t);var r=this.host.find("#verticalScrollBar");r[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var s=this.host.find("#horizontalScrollBar");s[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance;var n=this;this.propertyChangeMap.disabled=function(){n.vScrollBar.jqxScrollBar({disabled:n.disabled}),n.hScrollBar.jqxScrollBar({disabled:n.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=n.content[0].scrollWidth,this.contentHeight=n.content[0].scrollHeight,this.autoUpdate&&n._autoUpdate(),this.propertyChangeMap.autoUpdate=function(){n.autoUpdate?n._autoUpdate():(clearInterval(n.autoUpdateId),n.autoUpdateId=null)},this.addHandler(e(window),"unload",function(){null!=n.autoUpdateId&&(clearInterval(n.autoUpdateId),n.autoUpdateId=null,n.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var t=this;1==this.touchMode&&e.jqx.mobile.setMobileSimulator(this.element);var i=this.isTouchDevice();i&&(e.jqx.mobile.touchScroll(this.element,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var r=t.vScrollInstance.value;t.vScrollInstance.setPosition(r+i)}if("hidden"!=t.hScrollBar.css("visibility")){var r=t.hScrollInstance.value;t.hScrollInstance.setPosition(r+e)}},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t},append:function(e){null!=e&&(this.content.append(e),this._arrange())},setcontent:function(e){this.content[0].innerHTML=e,this._arrange();var t=this;setTimeout(function(){t._arrange()},100)},prepend:function(e){null!=e&&(this.content.prepend(e),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(t){null!=t&&(e(t).remove(),this._arrange())},_autoUpdate:function(){var e=this;this.autoUpdateId=setInterval(function(){var t=e.content[0].scrollWidth,i=e.content[0].scrollHeight,r=!1;e.contentWidth!=t&&(e.contentWidth=t,r=!0),e.contentHeight!=i&&(e.contentHeight=i,r=!0),r&&e._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var t=this;this.addHandler(this.vScrollBar,"valueChanged",function(){t._render(t)}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._render(t)}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(this.wrapper,"scroll",function(){0!=t.wrapper[0].scrollTop&&(t.wrapper[0].scrollTop=0),0!=t.wrapper[0].scrollLeft&&(t.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(){t.focused=!1}),this.addHandler(this.host,"focus",function(){t.focused=!0}),this.addHandler(this.host,"blur",function(){t.focused=!1}),this.addHandler(this.host,"mouseenter",function(){t.focused=!0}),e.jqx.utilities.resize(this.host,function(){e.jqx.isHidden(t.host)||t._arrange(!1)})},resize:function(e,t){this.width=e,this.height=t,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(e(window),"resize."+this.element.id)},wheel:function(t,i){var r=0;if(t.originalEvent&&e.jqx.browser.msie&&t.originalEvent.wheelDelta&&(r=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?r=t.wheelDelta/120:t.detail&&(r=-t.detail/3),r){var s=i._handleDelta(r);return s||t.preventDefault&&t.preventDefault(),s?!1:s}t.preventDefault&&t.preventDefault(),t.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):e.value+e.largestep!=e.max?(e.setPosition(e.max),!0):!1},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value-e.largestep!=e.min?(e.setPosition(e.min),!0):!1},_handleDelta:function(e){if(this.focused){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;if(t!=i)return!1}return!0},_render:function(e){void 0==e&&(e=this);var t=e.vScrollInstance.value,i=e.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(i=0==this._rtl?e.hScrollInstance.max-i:-e.hScrollInstance.value),e.content.css({left:-i+"px",top:-t+"px"})},scrollTo:function(e,t){void 0!=e&&void 0!=t&&(this.vScrollInstance.setPosition(t),this.hScrollInstance.setPosition(e))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var t=this.scrollBarSize;return isNaN(t)&&(t=parseInt(t),isNaN(t)?t="17px":t+="px"),this.isTouchDevice()&&(t=e.jqx.utilities.touchScrollBarSize),t=parseInt(t)},_getScrollArea:function(){var t=0;this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(t=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl");var i=parseInt(this.content[0].scrollWidth);e.each(this.content.children(),function(){i=Math.max(i,this.scrollWidth),i=Math.max(i,e(this).outerWidth())}),e.jqx.browser.msie&&e.jqx.browser.version<10&&this.content.css("left",t);var r=parseInt(this.content[0].scrollHeight);if(this.content.css("overflow","visible"),e.jqx.browser.msie&&e.jqx.browser.version<9){var r=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var r=parseInt(this.content[0].scrollHeight),i=parseInt(this.content[0].scrollWidth);
break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":var r=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:i,height:r}},_arrange:function(t){t!==!1&&(null!=this.width&&this.host.width(this.width),null!=this.height&&this.host.height(this.height));var i=this._getScrollSize(),r=this.host.width(),s=this.host.height(),n=this._getScrollArea(),o=n.width,a=n.height,l=a-parseInt(Math.round(this.host.height())),h=o-parseInt(Math.round(this.host.width()));void 0!=this.horizontalScrollBarMax&&(h=this.horizontalScrollBarMax),void 0!=this.verticalScrollBarMax&&(l=this.verticalScrollBarMax);var d=function(e,t){var i=5;t>i?(e.vScrollBar.jqxScrollBar({max:t}),e.vScrollBar.css("visibility","inherit")):(e.vScrollBar.jqxScrollBar("setPosition",0),e.vScrollBar.css("visibility","hidden"))},c=function(t,r){r>0?e.jqx.browser.msie&&e.jqx.browser.version<8&&i>=r-10?(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0)):(t.hScrollBar.jqxScrollBar({max:r+4}),t.hScrollBar.css("visibility","inherit")):(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":return this.host.width(o),this.host.height(a),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.width(o),this.hScrollBar.css("visibility","hidden"),d(this,l),void this._arrangeScrollbars(i,o,s);case"verticalWrap":case"verticalwrap":return this.host.height(a),this.vScrollBar.css("visibility","hidden"),c(this,h),void this._arrangeScrollbars(i,r,s)}d(this,l);var u=2;"hidden"!=this.vScrollBar.css("visibility")&&void 0==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&h>0||h>0)&&(h+=i+u),c(this,h),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:l+i+u}),this._arrangeScrollbars(i,r,s)},_arrangeScrollbars:function(t,i,r){var s="hidden"!=this.vScrollBar[0].style.visibility,n=("hidden"!=this.hScrollBar[0].style.visibility,2),o=2;if(this.hScrollBar.height(t),this.hScrollBar.css({top:r-t-n-o+"px",left:"0px"}),this.hScrollBar.width(i-n+"px"),this.vScrollBar.width(t),this.vScrollBar.height(parseInt(r)-n+"px"),this.vScrollBar.css({left:parseInt(i)-parseInt(t)-n-o+"px",top:"0px"}),this.rtl){this.vScrollBar.css({left:"0px"});var a=s?parseInt(t)+"px":0;if("rtl"!=this.content.children().css("direction")){var l=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(l=!0),l||this.content.css("padding-left",a)}}else"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(t)+3),this.bottomRight.height(parseInt(t)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:t+o+"px"})),this.hScrollBar.width(i-1*t-n-o+"px"),this.vScrollBar.height(parseInt(r)-n-t-o+"px")):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,e.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(e(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.host.remove()},_raiseevent:function(t,i,r){if(void 0!=this.isInitialized&&1==this.isInitialized){var s=this.events[t],n=new e.Event(s);n.previousValue=i,n.currentValue=r,n.owner=this;var o=this.host.trigger(n);return o}},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(e,t,i,r){e.isInitialized&&("rtl"==t&&(this.vScrollBar.jqxScrollBar({rtl:r}),this.hScrollBar.jqxScrollBar({rtl:r}),e._arrange()),e.updating||("scrollBarSize"==t||"width"==t||"height"==t)&&i!=r&&e._arrange(),"touchMode"==t&&"auto"!=r&&e._updateTouchScrolling(),"theme"==t&&(e.host.removeClass(),e.host.addClass(this.toThemeProperty("jqx-panel")),e.host.addClass(this.toThemeProperty("jqx-widget")),e.host.addClass(this.toThemeProperty("jqx-widget-content")),e.host.addClass(this.toThemeProperty("jqx-rc-all")),e.vScrollBar.jqxScrollBar({theme:this.theme}),e.hScrollBar.jqxScrollBar({theme:this.theme}),e.bottomRight.removeClass(),e.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),e.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.content.removeClass(),e.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){e.jqx.isHidden(this.host)||this.refresh()},refresh:function(){this._arrange()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSplitter","",{}),e.extend(e.jqx._jqxSplitter.prototype,{defineInstance:function(){var t={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return e.extend(!0,this,t),t},createInstance:function(){this.render()},_initOverlay:function(t){if(this.overlay||"undefined"==t)this.overlay.remove(),this.overlay=null;else if(1==t){this.overlay=e("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(e(document.body));{this.host.coord()}this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(e(window).width()),this.overlay.height(e(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(t){return t.target==this.splitBarButton[0]||this.disabled?!0:this.panels[0].collapsed||this.panels[1].collapsed||!this.resizable?!0:null==this.overlay?(this._dragging=!0,this._initOverlay(!0),this._dragStart=e.jqx.position(t),!1):!0},_drag:function(t){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var i="horizontal"==this.orientation?"top":"left",r="vertical"==this.orientation?"width":"height";if(this._position=e.jqx.position(t),this.overlay&&!this._splitBarClone&&Math.abs(this._position[i]-this._dragStart[i])>=3){var s=this.splitBar.coord();return this._cloneStart={left:s.left,top:s.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var n,o,a=this.host[r](),l=a/100,h=0,d=this._splitBarClone[r]()+2,c=parseInt(this.host.coord()[i]),u=this._position[i]-this._dragStart[i]+this._cloneStart[i]-c;return h>u&&(u=h),u>a+h-d&&(u=a+h-d),n=this.panels[0].min,o=this.panels[1].min,-1!=o.toString().indexOf("%")&&(o=parseFloat(o)*l),-1!=n.toString().indexOf("%")&&(n=parseFloat(n)*l),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),n>u&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),u=n),u>a+h-d-o&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),u=a+h-d-o),this._splitBarClone.css(i,u),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return!0},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_resize:function(){var e="horizontal"==this.orientation?"height":"width",t="horizontal"==this.orientation?"top":"left",i=this._splitBarClone.css(t),r=this.host[e](),s=r/100,n=1/s,o=this.panels[0].size;this.panels[0].size=-1!=o.toString().indexOf("%")?parseFloat(i)*n+"%":parseFloat(i),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var e=this.splitBar.clone();return e.fadeTo(0,.7),e.css("z-index",99999),"vertical"==this.orientation?e.css("cursor","col-resize"):e.css("cursor","row-resize"),this.host.append(e),e},_eventName:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_addHandlers:function(){var t=this;if(e.jqx.utilities.resize(this.host,function(){t._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var e=function(e){e.collapsed?t.expand():t.collapse()};t.panels[0].collapsible?e(t.panels[0]):t.panels[1].collapsible&&e(t.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){t.splitBarButton.addClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){t.splitBarButton.removeClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(e(document),this._eventName("mousemove")+"."+this.element.id,function(e){return t._drag(e)}),this.addHandler(e(document),this._eventName("mouseup")+"."+this.element.id,function(){return t._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(e){return t._startDrag(e)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){t.resizable&&!t.disabled&&(t.splitBar.addClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){t.resizable&&!t.disabled&&(t.splitBar.removeClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i=null;if(window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var r=function(){t._stopDrag()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}},_removeHandlers:function(){this.removeHandler(e(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(e(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(e(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==t.length){var i=t[0].className.split(" "),r=t[1].className.split(" ");if(-1!=i.indexOf("jqx-reset")&&-1!=i.indexOf("jqx-splitter")&&-1!=i.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=r.indexOf("jqx-reset")&&-1!=r.indexOf("jqx-splitter")&&-1!=r.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(this.host.parent().length>0&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=e("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return e.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:void 0==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var t=this.host.children();this.panel1=this.panels[0].element=e(t[0]),this.panel2=this.panels[1].element=e(t[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",e.each(this.panels,function(){void 0==this.min&&(this.min=0),void 0==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),void 0==this.collapsible&&(this.collapsible=!0),void 0==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){if(null!=this.width){var e=this.width;"string"!=typeof e&&(e=parseInt(this.width)+"px"),this.host.css("width",e)}if(null!=this.height){var t=this.height;"string"!=typeof t&&(t=parseInt(this.height)+"px"),this.host.css("height",t)}this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var i="horizontal"==this.orientation?"width":"height";this.splitBar.css(i,"100%"),this.panel1.css(i,"100%"),this.panel2.css(i,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!0,this.panels[e].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!1,this.panels[e].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(e){1!=e&&this._arrange()},propertyChangedHandler:function(t,i,r,s){return"panels"===i||"orientation"===i||"showSplitBar"===i?void t.render():("touchMode"===i&&(t._isTouchDevice=s),void("disabled"===i?s?t.disable():t.enable():"theme"===i?e.jqx.utilities.setTheme(r,s,t.host):t.refresh()))},_layoutPanels:function(){var e,t,i,r,s=this,n="horizontal"==this.orientation?"height":"width",o="horizontal"==this.orientation?"top":"left",a=parseInt(this._splitBarSize)+2;this.showSplitBar||(a=0);var l=this.host[n](),h=l/100,d=1/h,c=d*a,u=this.panel1,p=this.panel2,f=this.panels[0].size;this.panels[0].collapsed&&(i=!0),this.panels[1].collapsed&&(r=!0),e=this.panels[0].min,t=this.panels[1].min,-1!=t.toString().indexOf("%")&&(t=parseFloat(t)*h),-1!=e.toString().indexOf("%")&&(e=parseFloat(e)*h),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(u.width(this.host.width()),p.width(this.host.width())):(u.height(this.host.height()),p.height(this.host.height())));var m=function(){var e=s.panel1[n]();if(s.splitBar[0].style[o]!=e+"px"){var t=e;"vertical"==s.orientation?(s.splitBar[0].style.borderLeftColor="",s.splitBar[0].style.borderRightColor="",s.splitBarButton[0].style.width=parseInt(s._splitBarSize)+"px",s.splitBarButton[0].style.left="0px"):(s.splitBar[0].style.borderTopColor="",s.splitBar[0].style.borderBottomColor="",s.splitBarButton[0].style.height=parseInt(s._splitBarSize)+"px",s.splitBarButton[0].style.top="0px"),s._hasBorder&&(l-a==e?"vertical"==s.orientation?(s.splitBar[0].style.borderRightColor="transparent",s.splitBarButton[0].style.width=parseInt(s._splitBarSize+1)+"px"):(s.splitBar[0].style.borderBottomColor="transparent",s.splitBarButton[0].style.height=parseInt(s._splitBarSize+1)+"px"):0==e&&("vertical"==s.orientation?(s.splitBar[0].style.borderLeftColor="transparent",s.splitBarButton[0].style.width=parseInt(s._splitBarSize+1)+"px",s.splitBarButton[0].style.left="-1px"):(s.splitBar[0].style.borderTopColor="transparent",s.splitBarButton[0].style.height=parseInt(s._splitBarSize+1)+"px",s.splitBarButton[0].style.top="-1px"))),s.splitBar[0].style[o]=t+"px"}s.panel2[0].style[o]!=e+a+"px"&&(s.panel2[0].style[o]=e+a+"px")};if(i){var g=Math.max(t,l-a);u[n](0),p[n](g)}else if(r){var g=Math.max(e,l-a);p[n](0),u[n](g)}else if(-1!=f.toString().indexOf("%")){var v=100-parseFloat(f);u.css(n,parseFloat(f)+"%"),v-=c,p.css(n,v+"%");var w=p[n]();if(t>w){var g=w-t,x=g*d;f=parseFloat(f)+parseFloat(x);var v=100-parseFloat(f);u.css(n,parseFloat(f)+"%"),v-=c,p.css(n,v+"%")}var b=u[n]();if(e>b){var x=e*d;u.css(n,parseFloat(x)+"%")}}else{var w=l-f-a;u[0].style[n]!=f+"px"&&u[n](f),p[0].style[n]!=w+"px"&&p[n](w),t>w&&(f+=w-t,p[n](t),u[n](f)),e>f&&u[n](e)}m(),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(t,i){var r=new e.Event(this._events[t]);r.owner=this,r.args=i;var s=("vertical"==this.orientation?"width":"height",new Array);return s[0]={},s[1]={},s[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,s[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,s[0].min=this.panels[0].min,s[1].min=this.panels[1].min,s[0].collapsible=this.panels[0].collapsible,s[1].collapsible=this.panels[1].collapsible,s[0].collapsed=this.panels[0].collapsed,s[1].collapsed=this.panels[1].collapsed,r.args.panels=s,this.host.trigger(r)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTabs","",{}),e.extend(e.jqx._jqxTabs.prototype,{defineInstance:function(){var t={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};return e.extend(!0,this,t),t},createInstance:function(){e.jqx.aria(this),this.host.addClass(this.toThemeProperty("jqx-tabs")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.attr("role","tablist"),this._unorderedList=this.host.children("ul"),this._titleList=this.host.children("ul").children("li"),this._contentList=this.host.children("div"),this._selectedItem=this.selectedItem,this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1);for(var t=this.length();t;)t--,this._titleList[t]=e(this._titleList[t]),this._titleList[t].attr("role","tab"),this._contentList[t]=e(this._contentList[t]),this._contentList[t].attr("role","tabpanel");this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_hiddenParent:function(){var t=this;if("none"==t.host.css("display"))return!0;var i=!1;return e.each(t.host.parents(),function(){return"none"==e(this).css("display")?(i=!0,!1):void 0}),i},_enableWindowResize:function(){var t=this,i=e.jqx.isHidden(t.host);e.jqx.utilities.resize(this.host,function(){i?(t._uiRefresh(!0),i=!1):t.refresh()})},resize:function(t,i){this.width=t,this.height=i;var r=e.jqx.isHidden(this.host);r?(this._uiRefresh(!0),r=!1):this.refresh()},refresh:function(e){(1!=e||void 0==e)&&this._performResize()},_seletionTrackerBrowserCheck:function(){var t="Browser CodeName: "+navigator.appCodeName;return t+="Browser Name: "+navigator.appName,t+="Browser Version: "+navigator.appVersion,t+="Platform: "+navigator.platform,t+="User-agent header: "+navigator.userAgent,-1!=t.indexOf("IEMobile")?!1:-1!=t.indexOf("Windows Phone OS")?!1:e.jqx.browser.msie&&e.jqx.browser.version<=7?!1:!0},render:function(){this._refresh()},_uiRefresh:function(e){if(this._unorderedListLeftBackup=this._unorderedList.css("left"),e&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.css("left",this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!=this._rightArrow.css("visibility")){var t=2*this.arrowButtonSize,i=this.host.width()-parseInt(this._unorderedList.width()+t+ +parseInt(this._unorderedList.css("margin-left")),10);this._unorderedList.css("left",i+"px")}},_refresh:function(){e.jqx.isHidden(this.host)||this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container")),this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});for(var e=this.length();e;)switch(e--,this._titleList[e].removeClass(),this._titleList[e].css("padding",""),this._titleList[e].addClass("jqx-reset"),this._titleList[e].addClass("jqx-disableselect"),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title")),this._titleList[e].addClass(this.toThemeProperty("jqx-item")),"bottom"==this.position&&this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-bottom")),this._titleList[e].disabled&&(this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._titleList[e].removeClass(this.toThemeProperty("jqx-rc-b")),this._titleList[e].removeClass(this.toThemeProperty("jqx-rc-t")),this._contentList[e].removeClass(this.toThemeProperty("jqx-rc-b")),this._contentList[e].removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._titleList[e].addClass(this.toThemeProperty("jqx-rc-t")),this._contentList[e].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[e].addClass(this.toThemeProperty("jqx-rc-b")),this._contentList[e].addClass(this.toThemeProperty("jqx-rc-t"))}if(this.selectionTracker)switch(this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b")),this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"))}},_raiseEvent:function(t,i){var r=new e.Event(this._events[t]);r.owner=this,r.args=i,(6===t||7===t)&&(r.cancel=!1,this._currentEvent=r);var s="";try{if(s=this.host.trigger(r),1==t){var n=this;if(this.selectionTracker||"none"!=this.animationType)setTimeout(function(){n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0);var t=new e.Event("loadContent");t.owner=this,n._contentList.length>0&&n._contentList[n.selectedItem]&&n._contentList[n.selectedItem].find("div").trigger(t)},50+n.selectionTrackerAnimationDuration);else{var r=new e.Event("loadContent");n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0),r.owner=this;var r=new e.Event("resize");this.host.trigger(r)}}}catch(o){}return s},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var e,t=this.arrowButtonSize,i=this.arrowButtonSize;return e="left"===this.scrollPosition?t+i:"both"===this.scrollPosition?t:0},_scrollRight:function(e){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var t,i,r=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),s=parseInt(this.host.width(),10),n=parseInt(this._unorderedList.css("left"),10),o=this._getArrowsDisplacement(),a=0,l=void 0;this.scrollable?(t=parseInt(this._leftArrow.outerWidth(),10),i=parseInt(this._rightArrow.outerWidth(),10)):(t=0,i=0),e=this.enableScrollAnimation?e:0,parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)?a=o:Math.abs(n)+this.scrollStep<Math.abs(s-r)+t+i+o?(a=n-this.scrollStep,l=n-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(a=s-r-(2*this.arrowButtonSize-o),a<parseInt(this._unorderedList.css("left"),10)-4&&a>parseInt(this._unorderedList.css("left"),10)+4&&(l=s-r-t-i+parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(a,l,e)},_scrollLeft:function(e){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var t=parseInt(this._unorderedList.css("left")),i=this._getArrowsDisplacement(),r=0,s=void 0;e=this.enableScrollAnimation?e:0,parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())?r=i:t+this.scrollStep<i?(r=t+this.scrollStep,s=t+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(r=i,r<parseInt(this._unorderedList.css("left"))-4&&r>parseInt(this._unorderedList.css("left"))+4&&(s=parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(r,s,e)},_performScrollAnimation:function(e,t,i){var r=this;void 0!==t&&this._moveSelectionTrack(this._selectedItem,0,t),this._lockAnimation("unorderedList"),this._unorderedList.animate({left:e},i,function(){r._moveSelectionTrack(r.selectedItem,0),r._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var t=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(i){if(!t._activeAnimation()){var r=t._selectedItem,s=t.selectionTracker,n=t.getContentAt(r);if(e(i.target).ischildof(n))return!0;
switch(i.keyCode){case 37:return t.rtl?t.next():t.previous(),!1;case 39:return t.rtl?t.previous():t.next(),!1;case 36:return t.first(),!1;case 35:return t.last(),!1;case 27:t._tabCaptured&&(t._cancelClick=!0,t._uncapture(null,t.selectedItem),t._tabCaptured=!1)}t.selectionTracker=s}return!0})},_addScrollHandlers:function(){var t=this;this.addHandler(this._leftArrow,"mousedown",function(){t._startScrollRepeat(!0,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){t._startScrollRepeat(!1,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(e(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(e){var t=e.data;t._scrollTimeout&&clearTimeout(t._scrollTimeout)},_mouseUpScrollDocumentHandler:function(e){var t=e.data;clearTimeout(t._scrollTimeout)},_mouseUpDragDocumentHandler:function(e){var t=e.data;t._tabCaptured&&t._dragStarted&&t._uncapture(e),t._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var t=this.length();t;)t--,this._addEventListenerAt(t);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var i=this;try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=function(){i._tabCaptured&&(i._cancelClick=!0,i._uncapture(null,i.selectedItem),i._tabCaptured=!1)},s=null;window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)&&window.top.document&&this.addHandler(e(window.top.document),"mouseup",r)}}catch(n){}},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},_getFocusedItem:function(e){for(var t=this.length();t;){t--;var i=this._titleList[t],r=parseInt(i.outerWidth(!0)),s=parseInt(i.offset().left),n=(parseInt(this._unorderedList.offset().left),parseInt(this.host.offset().left),s);if(e>=n&&n+r>=e&&i!==this._capturedElement&&!this._titleList[t].locked&&this._titleList[t].disabled!==!0)return t}return-1},_uncapture:function(t){var i=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var r=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0)}if(t)var s=this._getFocusedItem(t.clientX,t.clientY);-1!==s&&t?(this._raiseEvent(10,{item:r,dropIndex:s}),this._reorderItems(s,r)):this._capturedElement.css("left",0),e.each(this._titleList,function(){this.css("position","static")}),this._reorderHeaderElements(),this._unorderedList.css({position:"relative",top:"0px"}),this._prepareTabs(),-1!==s&&t?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=r,this._moveSelectionTrack(r,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.css("left",this._unorderedListLeftBackup),this.selectionTracker=i}},_reorderItems:function(e,t){{var i=this._titleList[this.selectedItem];this._contentList[t]}"undefined"==typeof this._capturedElement&&(this._capturedElement=this._titleList[t]),this._titleList[t].remove(),e>t?this._titleList[t].insertAfter(this._titleList[e]):this._titleList[t].insertBefore(this._titleList[e]),this._reorderElementArrays(e,t),this._getSelectedItem(i),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(e,t){var i=(this._titleList[this.selectedItem],this._contentList[t]);if(e>t){for(var r=t;e>=r;r++)this._titleList[r]=this._titleList[r+1],this._contentList[r]=this._contentList[r+1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}else{for(var r=t;r>=e;r--)this._titleList[r]=this._titleList[r-1],this._contentList[r]=this._contentList[r-1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e){this._selectedItem=this.selectedItem=t;break}},_moveElement:function(e,t){var t=e.data;t._tabCaptured&&(document.selection&&document.selection.clear(),t._dragStarted?(t._performDrag(e),clearTimeout(t._scrollTimeout)):(unorderedListLeft=-parseInt(t._unorderedList.css("left"),10),(e.clientX+unorderedListLeft>t._startX+3||e.clientX+unorderedListLeft<t._startX-3)&&(t._prepareTabForDragging(),t._dragStarted=!0)))},_performDrag:function(e){var t=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._capturedElement.css("left",unorderedListLeft+e.clientX/t-this._startX/t),this._lastX=e.clientX/t,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var e=1;if(document.body.getBoundingClientRect){var t=document.body.getBoundingClientRect(),i=t.right-t.left,r=document.body.offsetWidth;e=Math.round(i/r*100)/100}return e},_prepareTabForDragging:function(){switch(this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"}),this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(e){{var t=parseInt(this._unorderedList.css("left")),i=this;parseInt(this._capturedElement.css("left"))}e.clientX<=this._headerWrapper.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-t)):e.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-t)):(this._unorderedList.stop(),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout));var i=this;this._scrollTimeout=setTimeout(function(){i._dragScroll(e)},this.scrollAnimationDuration),this._lastUnorderedListPosition=t},_captureElement:function(e,t){this._tabCaptured||this._titleList[t].locked||this._titleList[t].disabled===!0||this._activeAnimation()||(unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._startX=unorderedListLeft+e.clientX,this._startY=e.clientY,this._lastX=e.clientX,this._lastY=e.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[t])},_titleInteractionTrigger:function(e){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==e?(this.select(this._titleList[e],"toggle"),this._titleList[e].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.css("display","block"))):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var e=this._selectedItem,t=this;this.isCollapsed=!0,"auto"!==t.height?t._contentWrapper.css("visibility","hidden"):t._contentWrapper.hide(),t._raiseEvent(13,{item:e}),"top"==this.position?(t._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed")),t.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))):(t._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},expand:function(){var e=this._selectedItem,t=this;this.isCollapsed=!1,this._select(e,t.contentTransitionDuration,null,!1,!0),"auto"!==t.height?t._contentWrapper.css("visibility","visible"):t._contentWrapper.show(),t._raiseEvent(14,{item:e}),"top"==this.position?(t._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed")),t.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))):(t._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(e){var t=this;this.addHandler(this._titleList[e],"selectstart",function(){return!1}),this.addHandler(this._titleList[e],this.toggleMode,function(e){return function(){return t._raiseEvent("15",{item:e}),t._tabCaptured||t._cancelClick||t._titleInteractionTrigger(e),!0}}(e))},_addDragDropHandlers:function(e){var t=this;this.addHandler(this._titleList[e],"mousedown",function(i){return t._captureElement(i,e),!1}),this.addHandler(this._titleList[e],"mouseup",function(i){return t._tabCaptured&&t._dragStarted?(t._cancelClick=!0,t._uncapture(i,e)):t._cancelClick=!1,t._tabCaptured=!1,!1})},_removeHoverStates:function(){var t=this;e.each(this._titleList,function(){this.removeClass(t.toThemeProperty("jqx-tabs-title-hover-top")),this.removeClass(t.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(e){var t=this,i=this._titleList[e];this.addHandler(i,"mouseenter",function(){if(e!=t._selectedItem&&(i.addClass("top"==t.position?t.toThemeProperty("jqx-tabs-title-hover-top"):t.toThemeProperty("jqx-tabs-title-hover-bottom")),i.addClass(t.toThemeProperty("jqx-fill-state-hover")),t.showCloseButtons)){var r=i.children(0).children(t.toThemeProperty(".jqx-tabs-close-button",!0));r.addClass(t.toThemeProperty("jqx-tabs-close-button-hover",!0))}}),this.addHandler(i,"mouseleave",function(){if(e!=t._selectedItem&&(i.removeClass("top"==t.position?t.toThemeProperty("jqx-tabs-title-hover-top"):t.toThemeProperty("jqx-tabs-title-hover-bottom")),i.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.showCloseButtons)){var r=i.children(0).children(t.toThemeProperty(".jqx-tabs-close-button",!0));r.removeClass(t.toThemeProperty("jqx-tabs-close-button-hover",!0))}})},_addEventListenerAt:function(e){var t=this;if(!this._titleList[e].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(e),this._addSelectHandler(e),this.enabledHover&&this._addHoverHandlers(e);var i=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(i,"click"),this.addHandler(i,"click",function(){return t.removeAt(e),!1})}},_removeEventHandlers:function(){for(var t=this.length();t;)t--,this._removeEventListenerAt(t);this.scrollable&&(this.removeHandler(this._leftArrow,"mousedown"),this.removeHandler(this._rightArrow,"mousedown")),this.removeHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement),this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler),this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler),this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(e){this.removeHandler(this._titleList[e],this.toggleMode),this.removeHandler(this._titleList[e],"mouseenter"),this.removeHandler(this._titleList[e],"mouseleave"),this.removeHandler(this._titleList[e],"mousedown"),this.removeHandler(this._titleList[e],"mouseup");var t=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(t,"click")},_moveSelectionTrack:function(e,t,i){var r=this;if(-1!=e&&0!=this._titleList.length&&!(e>=this._titleList.length)&&this.selectionTracker&&this._selectionTracker){if(this._selectionTracker.stop(),this._unlockAnimation("selectionTracker"),void 0===i){var s=parseInt(this._titleList[e].position().left);isNaN(parseInt(this._unorderedList.css("left")))||(s+=parseInt(this._unorderedList.css("left"))),isNaN(parseInt(this._unorderedList.css("margin-left")))||(s+=parseInt(this._unorderedList.css("margin-left"))),isNaN(parseInt(this._titleList[e].css("margin-left")))||(s+=parseInt(this._titleList[e].css("margin-left"))),!isNaN(parseInt(this._titleList[e].css("margin-right")))}else var s=i;var n=0,o=0;"top"===this.position&&(n=parseInt(this._headerWrapper.height())-parseInt(this._titleList[e].outerHeight()),this.autoHeight||(o+=parseInt(this._titleList[e].css("margin-top")))),this._lockAnimation("selectionTracker");var a=parseInt(this._titleList[e].css("padding-left"))+parseInt(this._titleList[e].css("padding-right")),l="top"==this.position?0:1,h=parseInt(this._headerWrapper.css("padding-top")),d=parseInt(this._titleList[e].css("padding-top"))+parseInt(this._titleList[e].css("padding-bottom"));this._selectionTracker.css("visibility","visible"),this._moveSelectionTrackerContainer.css("visibility","visible");var c=parseInt(this._titleList[e].css("margin-top"));isNaN(c)&&(c=0),this._selectionTracker.animate({top:h+c-l,left:s+"px",height:parseInt(this._titleList[e].height()+d),width:this._titleList[e].width()+a},t,function(){r._unlockAnimation("selectionTracker"),r._selectionTracker.css("visibility","hidden"),r._addSelectStyle(e,!0),r._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_switchTabs:function(e,t){if(e!==t&&!this._activeAnimation()&&!this._tabCaptured){var i=this;return this._raiseEvent(7,{item:t}),this._raiseEvent(6,{item:e}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(t,null,!0),this._select(e,i.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(child in this._isAnimated)if(this._isAnimated.hasOwnProperty(child)&&this._isAnimated[child])return!0;return!1},_indexOf:function(e){for(var t=this.length();t;)if(t--,this._titleList[t][0]===e[0]||this._contentList[t][0]===e[0])return t;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0==this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(e){alert(e)}},_startScrollRepeat:function(e,t){var i=this;e?this._scrollLeft(t):this._scrollRight(t),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){i._startScrollRepeat(e,i.scrollAnimationDuration)},t)},_performLayout:function(){for(var e=this.length();e;)e--,("top"===this.position||"bottom"===this.position)&&(this.rtl?this._titleList[e].css("float","right"):this._titleList[e].css("float","left"));this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){this._fitToSize(),this._positionArrows(this._totalItemsWidth),this._totalItemsWidth>this.element.offsetWidth?this._unorderedList.width(this._totalItemsWidth):this._unorderedList[0].style.width=this.element.offsetWidth-2+"px",this._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(this._leftArrow.remove(),this._rightArrow.remove()),this._leftArrow=e('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>'),this._rightArrow=e('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>'),this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._headerWrapper.append(this._leftArrow),this._headerWrapper.append(this._rightArrow),this._leftArrow.width(this.arrowButtonSize),this._leftArrow.height("100%"),this._rightArrow.width(this.arrowButtonSize),this._rightArrow.height("100%"),this._leftArrow.css({"z-index":"30"}),this._rightArrow.css({"z-index":"30"}),this._leftArrow.css("display","none"),this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var t=this.length();return e.each(this._titleList,function(){var e=this.attr("hasclosebutton");void 0!=e&&null!=e&&("false"==e||0==e)&&t--}),t},_calculateTitlesSize:function(){var t=0,i=0,r=this.length();for(this.rtl&&e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),e(document.body).append(this._measureItem));r;){if(r--,this._measureItem&&(this._measureItem.html(this._titleList[r].html()),this._titleList[r].width(this._measureItem.width())),this._titleList[r].css("position","static"),this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),i+=parseInt(this._titleList[r].outerWidth(!0)),t<this._titleList[r].outerHeight(!0)&&(t=Math.round(parseInt(this._titleList[r].outerHeight(!0)))),0==this._titleList[r].height()){var s=this._titleList[r].clone();e(document.body).append(s),t=Math.round(parseInt(s.outerHeight(!0))),s.remove()}var n=this._titleList[r].attr("hasCloseButton");if(void 0!=n&&null!=n){var o=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[r]&&(this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),o=!0),o||("true"==n||1==n?(i+=this.closeButtonSize,this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")):("false"==n||0==n)&&this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"))}else if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var o=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[r]&&(this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),o=!0),o||(i+=this.closeButtonSize,this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block"))}this._titleList[r].height(this._titleList[r].height())}return this._measureItem&&this._measureItem.remove(),{height:t,width:10+i}},_reorderHeaderElements:function(){if(this.selectionTracker&&this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"}),this._headerWrapper.css({position:"relative",left:"0px",top:"0px"}),this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"}),this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var e=this.theme&&-1!=this.theme.indexOf("ui-")?3:0;e>0&&(this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l")));var t=this.scrollPosition;switch(this.rtl&&("left"==t&&(t="right"),"right"==t&&(t="left")),t){case"both":this._rightArrow.css("right","0px"),this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px"),this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-e+"px"),this._leftArrow.css("right",this.arrowButtonSize-e+"px")}}},_positionArrows:function(e){e>=parseInt(this._headerWrapper[0].offsetWidth)&&this.scrollable?(this._needScroll=!0,0===this._unorderedList.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.css("display","block"),this._rightArrow.css("display","block")):(this._needScroll=!1,this._leftArrow[0].style.display="none",this._rightArrow[0].style.display="none",this._unorderedList[0].style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var t=this._calculateTitlesSize(),i=t.height,r=t.width;this._headerWrapper.height(i),this._unorderedList.height(i),null!=this.headerHeight&&"auto"!=this.headerHeight&&(this._headerWrapper.height(this.headerHeight),this._unorderedList.height(this.headerHeight)),this._unorderedList.width(r>this.host.width()?r:this.host.width()),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._unorderedList.css("position","relative"),this._headerWrapper.css("overflow","hidden")),this._reorderHeaderElements(),r+=parseInt(this._unorderedList.css("margin-left")),this._totalItemsWidth=r,this._positionArrows(r),this._unorderedList.css({position:"relative",top:"0px"}),this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var e=this.length();for(this._maxHeightTab();e;){e--;var t=this._titleList[e].find(".jqx-tabs-titleContentWrapper"),i=(t.height(),this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0))),r=parseInt(this._titleList[e].css("padding-top"));if(r||(r=0),this.autoHeight){var s=this._titleList[e].outerHeight(!0)-this._titleList[e].height(),n=parseInt(this._titleList[e].css("padding-top")),o=parseInt(this._titleList[e].css("padding-bottom")),a=parseInt(this._titleList[e].css("border-top-width")),l=parseInt(this._titleList[e].css("border-bottom-width"));this._titleList[e].height(this._unorderedList.outerHeight()-n-o-a-l)}else if("top"===this.position){var h=parseInt(this._unorderedList.height())-parseInt(this._titleList[e].outerHeight(!0));parseInt(this._titleList[e].css("margin-top"))!==h&&0!==h&&this._titleList[e].css("margin-top",h)}else this._titleList[e].height(this._titleList[e].height());this._titleList[e].children(0).height("100%");var d=parseInt(this._titleList[e].height()),c=parseInt(d)/2-parseInt(i.height())/2;i.css("margin-top",1+c);var u=parseInt(d)/2-parseInt(t.height())/2;t.css("margin-top",u)}if(this.scrollable){var s=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize,p=s/2;this._rightArrow.children(0).css("margin-top",p),this._rightArrow.height("100%"),this._leftArrow.height("100%"),this._leftArrow.children(0).css("margin-top",p)}},_getImageUrl:function(e){var t=e.css("background-image");return t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")","")},_fitToSize:function(){var e=!1,t=!1,i=this;if(null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=!0),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=!0),e&&(this.host[0].style.width=this.width,this._contentWrapper[0].style.width="100%"),t){this.host[0].style.height=this.height,this._contentWrapper[0].style.width="100%",this._contentWrapper[0].style.height="auto";var r=this.element.offsetHeight-this._headerWrapper[0].offsetHeight;this._contentWrapper[0].style.height=r+"px"}if(e||(this.host.width(this.width),"auto"!=this.width&&this._contentWrapper.css("width","100%")),!t)if("auto"!==this.height){this.host.height(this.height);var r=this.host.height()-this._headerWrapper.outerHeight();this._contentWrapper.height(r)}else this._contentWrapper.css("height","auto")},_maxHeightTab:function(){for(var e=this.length(),t=-1,i=-1;e;)e--,t<parseInt(this._titleList[e].outerHeight(!0))&&(i=e);return i},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&this._moveSelectionTrackerContainer.remove(),this._moveSelectionTrackerContainer=e('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var t=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=e('<div class="'+t+'">'),this._selectionTracker.css("color","inherit"),this._moveSelectionTrackerContainer.append(this._selectionTracker),this._headerWrapper.append(this._moveSelectionTrackerContainer),this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var t="none",i=void 0==this._contentWrapper;this._contentWrapper=this._contentWrapper||e('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+t+';">'),this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));for(var r=this.length();r;)r--,this._contentList[r].addClass(this.toThemeProperty("jqx-tabs-content-element"));i&&(this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper),this._contentWrapper=this.host.find(".jqx-tabs-content")),this.roundedCorners&&(this._contentWrapper.addClass("top"==this.position?this.toThemeProperty("jqx-rc-b"):this.toThemeProperty("jqx-rc-t")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))},_addHeaderWrappers:function(){var t=this.length();for(this._unorderedList.remove(),this._headerWrapper=this._headerWrapper||e('<div class="jqx-tabs-headerWrapper" style="outline: none;">'),this._headerWrapper.remove(),"top"==this.position?this._headerWrapper.prependTo(this.host):this._headerWrapper.appendTo(this.host),this._unorderedList.appendTo(this._headerWrapper),this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header")),this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header")),"bottom"==this.position?this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom")):this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom")),this.roundedCorners&&("top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))));t;){if(t--,this._titleList[t].children(".jqx-tabs-titleWrapper").length<=0){var i=e('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');i.append(this._titleList[t].html()),this._titleList[t].empty(),i.appendTo(this._titleList[t])}this._titleList[t].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(t){var i=t;if(this._titleList[i].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).length<=0&&this._titleList[i].find(".jqx-tabs-titleContentWrapper").length<=0){var r=e('<div class="jqx-tabs-titleContentWrapper"></div>'),s="left";this.rtl&&(s="right"),r.css("float",s),r.addClass("jqx-disableselect"),r.append(this._titleList[i].html()),this._titleList[i].html("");var n=e('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');n.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":s,"font-size":"1px"});this._titleList[i].append(r),this._titleList[i].append(n),this.showCloseButtons?this.hiddenCloseButtons&&1==this.hiddenCloseButtons[t]&&n.css("display","none"):n.css("display","none")}},_addCloseButtons:function(){for(var e=this.length();e;)e--,this._addCloseButton(e)},_prepareTabs:function(){var e=this.length(),t=this.selectionTracker;for(this.selectionTracker=!1;e;)e--,this._selectedItem!==e&&this._unselect(e,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=t,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(e){return e>=0&&e<this.length()},_removeSelectStyle:function(){for(var e=this.length();e;){e--;var t=null;if(this.showCloseButtons){var t=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));t.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}this._titleList[e].removeClass("top"==this.position?this.toThemeProperty("jqx-tabs-title-selected-top"):this.toThemeProperty("jqx-tabs-title-selected-bottom")),this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(e,t){this.length();if(this._removeSelectStyle(),(!this.selectionTracker||void 0!=t&&t)&&e>=0&&void 0!=this._titleList[e]){var i=null;if(this.showCloseButtons){var i=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.hiddenCloseButtons&&1==this.hiddenCloseButtons[e]&&(i=null)}this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-hover")),"top"==this.position?(this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top")),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))):(this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom")),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-pressed")),null!=i&&i.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}},_addItemTo:function(e,t,i){if(t<e.length){for(var r=void 0,s=void 0,n=t;n+1<e.length;n++)void 0===r?(r=e[n+1],e[n+1]=e[n]):(s=e[n+1],e[n+1]=r,r=s);void 0===r&&(r=e[t]),e[t]=i,e.push(r)}else e.push(i)},_select:function(t,i,r,s,n){if(!this._tabCaptured){this.host.attr("hideFocus","true");var o=this;if(void 0==n?this._addSelectStyle(t):this._addSelectStyle(t,n),this.isCollapsed&&this.collapsible)return this._contentList[t].css("display","none"),void this._selectCallback(t,r,s);switch(this.animationType){case"none":if(o.selectionTracker)setTimeout(function(){o._contentList[t].css("display","block"),e.jqx.aria(o._titleList[t],"aria-selected",!0),e.jqx.aria(o._contentList[t],"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",o._titleList[t][0].id)},this.selectionTrackerAnimationDuration);else{for(var a=0;a<this._contentList.length;a++)t!=a&&"block"==this._contentList[a].css("display")&&(this._contentList[a].css("display","none"),e.jqx.aria(this._titleList[a],"aria-selected",!1),e.jqx.aria(this._contentList[a],"aria-hidden",!0));this._contentList[t].css("display","block"),e.jqx.aria(this._titleList[t],"aria-selected",!0),e.jqx.aria(this._contentList[t],"aria-hidden",!1),e.jqx.aria(this,"aria-activedescendant",this._titleList[t][0].id)}this._selectCallback(t,r,s);break;case"fade":this._lockAnimation("contentListSelect"),o._selectCallback(t,r,s),this._contentList[t].fadeIn(i,function(){o._unlockAnimation("contentListSelect"),e.jqx.aria(o._titleList[t],"aria-selected",!0),e.jqx.aria(o._contentList[t],"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",o._titleList[t][0].id)})}}},_selectCallback:function(e,t,i){this._selectedItem=e,this.selectedItem=this._selectedItem,t&&t(),i&&this._raiseEvent(1,{item:e})},_unselect:function(t,i,r){if(t>=0&&!this._tabCaptured){var s=this;this._contentList[t].stop(),"fade"==this.animationType?(this._contentList[t].css("display","none"),e.jqx.aria(s._titleList[t],"aria-selected",!1),e.jqx.aria(s._contentList[t],"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){s._contentList[t].css("display","none"),e.jqx.aria(s._titleList[t],"aria-selected",!1),e.jqx.aria(s._contentList[t],"aria-hidden",!0)
},this.selectionTrackerAnimationDuration):(this._contentList[t].css("display","none"),e.jqx.aria(s._titleList[t],"aria-selected",!1),e.jqx.aria(s._contentList[t],"aria-hidden",!0)),this._unselectCallback(t,i,r),this.selectionTracker||(this._titleList[t].removeClass(this.toThemeProperty("jqx-tabs-title-selected")),this._titleList[t].removeClass(this.toThemeProperty("jqx-fill-state-pressed")))}},_unselectCallback:function(e,t,i){i&&this._raiseEvent(8,{item:e}),t&&t()},disable:function(){for(var e=this.length();e;)e--,this.disableAt(e)},enable:function(){for(var e=this.length();e;)e--,this.enableAt(e)},getEnabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled||t++}),t},getDisabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled&&t++}),t},removeAt:function(e){if(this._isValidIndex(e)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var t=this,i=(this._titleList[this._selectedItem],parseInt(this._titleList[e].outerWidth(!0))),r=this.getTitleAt(e);this._unorderedList.width(parseInt(this._unorderedList.width())-i),this._titleList[e].remove(),this._contentList[e].remove();if(this._titleList.splice(e,1),this._contentList.splice(e,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:e,title:r}),this._isAnimated={},this.selectedItem>0){this._selectedItem=-1;var s=this._getPreviousIndex(this.selectedItem);this.select(s)}else{this._selectedItem=-1;var s=this._getNextIndex(this.selectedItem);this.select(s)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()&&this._unorderedList.css("left",this._getArrowsDisplacement()),parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var n=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedList.animate({left:0},n,function(){t._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(e){if(!this._titleList[e].disabled||void 0===this._titleList[e].disabled){if(this.selectedItem==e){var t=this.next();t||(t=this.previous())}this._titleList[e].disabled=!0,this.removeHandler(this._titleList[e],this.toggleMode),this.enabledHover&&this._titleList[e].off("mouseenter").off("mouseleave"),this._removeEventListenerAt(e),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(5,{item:e})}},enableAt:function(e){this._titleList[e].disabled&&(this._titleList[e].disabled=!1,this._addEventListenerAt(e),this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(4,{item:e}))},addAt:function(t,i,r){if(t>=0||t<=this.length()){this._removeHoverStates();var s=e("<li>"+i+"</li>"),n=e("<div>"+r+"</div>");s.addClass(this.toThemeProperty("jqx-tabs-title")),s.addClass(this.toThemeProperty("jqx-item")),n.addClass(this.toThemeProperty("jqx-tabs-content-element")),"bottom"==this.position&&s.addClass(this.toThemeProperty("jqx-tabs-title-bottom"));var o=!1;0==this._titleList.length?this._unorderedList.append(s):t<this.length()&&t>=0?this._titleList[t].before(s):this._titleList[this.length()-1].after(s),n.appendTo(this._contentWrapper),this._addItemTo(this._titleList,t,s),this._addItemTo(this._contentList,t,n),this._selectedItem>t&&this._selectedItem++,this._switchTabs(t,this._selectedItem),this._selectedItem=t,this.showCloseButtons&&this._titleList.length>0&&this._addCloseButton(t),this._uiRefresh(o),this._raiseEvent(2,{item:t}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(e,t){this.addAt(0,e,t)},addLast:function(e,t){this.addAt(this.length(),e,t)},val:function(e){return 0==arguments.length||"object"==typeof e?this._selectedItem:(this.select(e),this._selectedItem)},select:function(e){"object"==typeof e&&(e=this._indexOf(e));var t=e>=0&&e<this._titleList.length?this._titleList[e].attr("canselect"):!0;if((void 0==t||"true"==t||1==t)&&e!==this._selectedItem&&this._isValidIndex(e)&&!this._activeAnimation()&&!this._titleList[e].disabled){var i=this._switchTabs(e,this._selectedItem);i&&this.ensureVisible(e)}},previous:function(e){var t=this._selectedItem;for(void 0==e||isNaN(e)||(t=e);t>0&&t<this._titleList.length;)if(t--,!this._titleList[t].disabled)return this.select(t),!0;return!1},_getPreviousIndex:function(e){if(void 0==e||isNaN(e))return 0;for(var t=e;e>0&&e<=this._titleList.length;)if(e--,!this._titleList[e].disabled)return e;return t},_getNextIndex:function(e){if(void 0==e||isNaN(e))return 0;for(var t=e;e>=0&&e<this._titleList.length;){if(!this._titleList[e].disabled)return e;e++}return t},next:function(e){var t=this._selectedItem;for(void 0==e||isNaN(e)||(t=e);t>=0&&t<this._titleList.length-1;)if(t++,!this._titleList[t].disabled)return this.select(t),!0;return!1},first:function(){var e=0;this._titleList[e].disabled?this.next(e):this.select(e)},last:function(){var e=this._titleList.length-1;this._titleList[e].disabled?this.previous(e):this.select(e)},length:function(){return this._titleList.length},lockAt:function(e){!this._isValidIndex(e)||this._titleList[e].locked&&void 0!==this._titleList[e].locked||(this._titleList[e].locked=!0,this._raiseEvent(11,{item:e}))},unlockAt:function(e){this._isValidIndex(e)&&this._titleList[e].locked&&(this._titleList[e].locked=!1,this._raiseEvent(12,{item:e}))},lockAll:function(){for(var e=this.length();e;)e--,this.lockAt(e)},unlockAll:function(){for(var e=this.length();e;)e--,this.unlockAt(e)},showCloseButtonAt:function(e){if(this._isValidIndex(e)){this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader());var t=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));t.css("display","block"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[e]=0}},hideCloseButtonAt:function(e){if(this._isValidIndex(e)){var t=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));t.css("display","none"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[e]=1}},hideAllCloseButtons:function(){for(var e=this.length();e;)e--,this.hideCloseButtonAt(e)},showAllCloseButtons:function(){for(var e=this.length();e;)e--,this.showCloseButtonAt(e)},getTitleAt:function(e){return this._titleList[e]?this._titleList[e].text():null},getContentAt:function(e){return this._contentList[e]?this._contentList[e]:null},setTitleAt:function(e,t){this._titleList[e]&&(this._titleList[e].text(t),this.showCloseButtons&&(this._addCloseButton(e),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(e,t){this._contentList[e]&&this._contentList[e].html(t)},ensureVisible:function(e){var t=this;if((void 0==e||-1==e||null==e)&&(e=this.selectedItem),!this._isValidIndex(e))return!1;var i,r,s=parseInt(this._titleList[e].position().left)+parseInt(this._unorderedList.css("margin-left")),n=parseInt(this._unorderedList.css("left")),o=parseInt(this._headerWrapper.outerWidth(!0)),a=parseInt(this._titleList[e].outerWidth(!0)),l=n-this._getArrowsDisplacement(),h=o-this._getArrowsDisplacement()-l;if(-l>s)i=-s+this._getArrowsDisplacement(),r=this._getArrowsDisplacement();else{if(!(s+a>h-this._getArrowsDisplacement()))return this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration),!0;i=-s+o-a-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),r=o-a-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedList.animate({left:i},this.scrollAnimationDuration,function(){return t._unlockAnimation("unorderedList"),t._moveSelectionTrack(t._selectedItem,0),!0}),this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration,r),!0},isVisibleAt:function(e){if((void 0==e||-1==e||null==e)&&(e=this.selectedItem),!this._isValidIndex(e))return!1;var t=parseInt(this._titleList[e].position().left)+parseInt(this._unorderedList.css("margin-left")),i=parseInt(this._unorderedList.css("left")),r=parseInt(this._headerWrapper.outerWidth(!0)),s=parseInt(this._titleList[e].outerWidth(!0)),n=i-this._getArrowsDisplacement(),o=r-this._getArrowsDisplacement()-n;return-n>t?!1:t+s>o?!1:!0},isDisabled:function(e){return this._titleList[e].disabled},_lockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!0)},_unlockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!1)},propertyChangedHandler:function(t,i,r,s){switch(this._validateProperties(),i){case"touchMode":s&&(t.enabledHover=!1,t.keyboardNavigation=!1);break;case"width":case"height":return void t._performResize();case"disabled":return void(s?this.disable():this.enable());case"showCloseButtons":return s?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration);case"selectedItem":return void(this._isValidIndex(s)&&this.select(s));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(s?(this._refresh(),this.select(this._selectedItem)):null!=this._selectionTracker&&this._selectionTracker.remove());case"scrollable":return void(s?(this._refresh(),this.select(this._selectedItem)):(this._leftArrow.remove(),this._rightArrow.remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void e.jqx.utilities.setTheme(r,s,this.host)}this._unorderedList.css("left","0px"),this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxButtonGroup","",{}),e.extend(e.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var t={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(){var t=this;t._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(t),t.addHandler(t.host,"selectstart",function(e){t.disabled||e.preventDefault()})},refresh:function(){var e=this;e.width&&(e.width.toString()&&e.width.indexOf("%")>=0?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){var t=this;if(t._isTouchDevice){var i=t._eventsMap[e]||e;return i+="."+t.element.id}return e+="."+t.element.id},_refreshButtons:function(){var t=this;t.lastElement&&t.lastElement.remove(),t.lastElement=e("<div style='clear: both;'></div>");var i,r=t.host.children(),s=r.length;switch(t.mode){case"radio":t.host.attr("role","radiogroup");break;case"checkbox":case"default":t.host.attr("role","group")}for(var n=new Number(100/s).toFixed(2),o=0;s>o;o+=1)i=e(r[o]),t.width&&("horizontal"===t.orientation?(i.css("width",n+"%"),i.css("box-sizing","border-box"),i.css("-moz-box-sizing","border-box"),i.css("white-space","nowrap"),i.css("text-overflow","ellipsis"),i.css("overflow","hidden")):(i.css("box-sizing","border-box"),i.css("-moz-box-sizing","border-box"),i.css("width","100%"))),t._refreshButton(i,o,s);t.lastElement.appendTo(t.host)},_refreshButton:function(e,t,i){(function(e){var r=this;e=r._render(e),r._removeStyles(e),r._addStyles(e,t,i),r._performLayout(e),r._removeButtonListeners(e),r._addButtonListeners(e),r._handleButtonId(e,t),"radio"==r.mode?e.attr("role","radio"):e.attr("role","button"),e.attr("disabled",r.disabled),r.disabled?e.addClass(r.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(r.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[e])},destroy:function(t){for(var i,r=this,s=r.host.children(),n=s.length,o=0;n>o;o+=1)i=e(s[o]),r._removeStyles(i),r._removeButtonListeners(i);0!=t&&r.host.remove()},_render:function(e){var t=this;return"button"===e[0].tagName.toLowerCase()?t._renderFromButton(e):t._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this,i=t.toThemeProperty;t.host.removeClass("jqx-widget"),t.host.removeClass("jqx-rc-all"),e.removeClass(i.call(this,"jqx-fill-state-normal")),e.removeClass(i.call(this,"jqx-group-button-normal")),e.removeClass(i.call(this,"jqx-rc-tl")),e.removeClass(i.call(this,"jqx-rc-bl")),e.removeClass(i.call(this,"jqx-rc-tr")),e.removeClass(i.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,i){var r=this,s=this.toThemeProperty;r.host.addClass(s.call(this,"jqx-widget")),r.host.addClass(s.call(this,"jqx-rc-all")),r.host.addClass(s.call(this,"jqx-buttongroup")),e.addClass(s.call(this,"jqx-button")),e.addClass(s.call(this,"jqx-group-button-normal")),e.addClass(s.call(this,"jqx-fill-state-normal")),r.roundedCorners&&(0===t?r._addRoundedCorners(e,!0):t===i-1&&r._addRoundedCorners(e,!1)),"horizontal"==r.orientation?e.css("margin-left",-parseInt(e.css("border-left-width"),10)):e.css("margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var i=this,r=i.toThemeProperty;"horizontal"==i.orientation?t?(e.addClass(r.call(this,"jqx-rc-tl")),e.addClass(r.call(this,"jqx-rc-bl"))):(e.addClass(r.call(this,"jqx-rc-tr")),e.addClass(r.call(this,"jqx-rc-br"))):t?(e.addClass(r.call(this,"jqx-rc-tl")),e.addClass(r.call(this,"jqx-rc-tr"))):(e.addClass(r.call(this,"jqx-rc-bl")),e.addClass(r.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(t){var i=t.val();""==i&&(i=t.html());var r,s=t[0].id;return t.wrap("<div/>"),r=t.parent(),r.attr("style",t.attr("style")),t.remove(),e.jqx.utilities.html(r,i),r[0].id=s,r},_performLayout:function(t){"horizontal"==this.orientation?this.rtl?t.css("float","right"):t.css("float","left"):t.css("float","none"),this._centerContent(e(t.children()),t)},_mouseEnterHandler:function(t){var i=t.data.self,r=e(t.currentTarget);if(!i._isDisabled(r)&&i.enableHover){var s=i.toThemeProperty;r.addClass(s.call(i,"jqx-group-button-hover")),r.addClass(s.call(i,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(t){var i=t.data.self,r=e(t.currentTarget);if(!i._isDisabled(r)&&i.enableHover){var s=i.toThemeProperty;r.removeClass(s.call(i,"jqx-group-button-hover")),r.removeClass(s.call(i,"jqx-fill-state-hover"))}},_mouseDownHandler:function(t){var i=t.data.self,r=e(t.currentTarget);if(!i._isDisabled(r)){i._pressed=r;var s=i.toThemeProperty;r.addClass(s.call(i,"jqx-group-button-pressed")),r.addClass(s.call(i,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(t){var i=t.data.self,r=e(t.currentTarget);i._isDisabled(r)||(i._handleSelection(r),i._pressed=null,r=i._buttonId[r[0].id],i._raiseEvent(2,{index:r.num,button:r.btn}))},_isDisabled:function(e){return e&&e[0]?this._buttonId[e[0].id].disabled:!1},_documentUpHandler:function(e){var t=e.data.self,i=t._pressed;i&&!t._buttonId[i[0].id].selected&&(i.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(t){var i=this,r=i.addHandler,s=i._getEvent;r(t,s.call(i,"mouseenter"),i._mouseEnterHandler,{self:i}),r(t,s.call(i,"mouseleave"),i._mouseLeaveHandler,{self:i}),r(t,s.call(i,"mousedown"),i._mouseDownHandler,{self:i}),r(t,s.call(i,"mouseup"),i._mouseUpHandler,{self:i}),r(e(document),s.call(i,"mouseup"),i._documentUpHandler,{self:i})},_removeButtonListeners:function(t){var i=this,r=i.removeHandler,s=i._getEvent;r(t,s.call(i,"mouseenter"),i._mouseEnterHandler),r(t,s.call(i,"mouseleave"),i._mouseLeaveHandler),r(t,s.call(i,"mousedown"),i._mouseDownHandler),r(t,s.call(i,"mouseup"),i._mouseUpHandler),r(e(document),s.call(i,"mouseup"),i._documentUpHandler)},_handleSelection:function(e){var t=this;"radio"===t.mode?t._handleRadio(e):"checkbox"===t.mode?t._handleCheckbox(e):t._handleDefault(e)},_handleRadio:function(e){var t=this,i=t._getSelectedButton();i&&i.btn[0].id!==e[0].id&&t._unselectButton(i.btn,!0);for(var r in t._buttonId)t._buttonId[r].selected=!0,t._unselectButton(t._buttonId[r].btn,!1);t._selectButton(e,!0)},_handleCheckbox:function(e){var t=this,i=t._buttonId[e[0].id];i.selected?t._unselectButton(i.btn,!0):t._selectButton(e,!0)},_handleDefault:function(e){var t=this;t._selectButton(e,!1);for(var i in t._buttonId)t._buttonId[i].selected=!0,t._unselectButton(t._buttonId[i].btn,!1)},_getSelectedButton:function(){var e=this;for(var t in e._buttonId)if(e._buttonId[t].selected)return e._buttonId[t];return null},_getSelectedButtons:function(){var e=this,t=[];for(var i in e._buttonId)e._buttonId[i].selected&&t.push(e._buttonId[i].num);return t},_getButtonByIndex:function(e){var t=this;for(var i in t._buttonId)if(t._buttonId[i].num===e)return t._buttonId[i];return null},_selectButton:function(t,i){var r=this,s=r._buttonId[t[0].id];if(!s.selected){var n=r.toThemeProperty;s.btn.addClass(n.call(this,"jqx-group-button-pressed")),s.btn.addClass(n.call(this,"jqx-fill-state-pressed")),s.selected=!0,i&&r._raiseEvent(0,{index:s.num,button:s.btn}),e.jqx.aria(s.btn,"aria-checked",!0)}},_unselectButton:function(t,i){var r=this,s=r._buttonId[t[0].id];if(s.selected){var n=r.toThemeProperty;s.btn.removeClass(n.call(this,"jqx-group-button-pressed")),s.btn.removeClass(n.call(this,"jqx-fill-state-pressed")),s.selected=!1,i&&r._raiseEvent(1,{index:s.num,button:s.btn}),e.jqx.aria(s.btn,"aria-checked",!1)}},setSelection:function(e){var t=this;if(-1===e)return void t.clearSelection();if("checkbox"===t.mode)if("number"==typeof e)t._setSelection(e);else for(var i=0;i<e.length;i+=1)t._setSelection(e[i]);else"number"==typeof e&&"radio"===t.mode&&t._setSelection(e)},_setSelection:function(e){var t=this,i=t._getButtonByIndex(e);i&&t._handleSelection(i.btn)},getSelection:function(){var e=this;if("radio"===e.mode){if(e._getSelectedButton())return e._getSelectedButton().num}else if("checkbox"===e.mode)return e._getSelectedButtons();return void 0},disable:function(){var t=this;t.disabled=!0;var i;for(var r in t._buttonId)i=t._buttonId[r],t.disableAt(i.num);e.jqx.aria(t,"aria-disabled",!0)},enable:function(){var t=this;t.disabled=!1;var i;for(var r in t._buttonId)i=t._buttonId[r],t.enableAt(i.num);e.jqx.aria(t,"aria-disabled",!1)},disableAt:function(e){var t=this,i=t._getButtonByIndex(e);i.disabled||(i.disabled=!0,i.btn.addClass(t.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){var t=this,i=t._getButtonByIndex(e);i.disabled&&(i.disabled=!1,i.btn.removeClass(t.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var i=e[0].id,r={btn:e,num:t,selected:!1};return i||(i=this._baseId+e.index()),e[0].id=i,this._buttonId[i]=r,i},_raiseEvent:function(t,i){var r=e.Event(this._events[t]);return r.args=i,this.host.trigger(r)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(t,i,r,s){return"theme"==i&&null!=s&&e.jqx.utilities.setTheme(r,s,t.host),"mode"===i?(t._unselectAll(),void t.refresh()):void("disabled"===i?s?t.disable():t.enable():t.refresh())}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRadioButton","",{}),e.extend(e.jqx._jqxRadioButton.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return e.extend(!0,this,t),t},createInstance:function(){this.render()},render:function(){this.setSize();var t=this;this.propertyChangeMap.width=function(){t.setSize()},this.propertyChangeMap.height=function(){t.setSize()},this.radiobutton&&this.radiobutton.remove(),this.radiobutton=e("<div><div><span></span></div></div>"),this.host.attr("role","radio"),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.prepend(this.radiobutton),this.host.append(e('<div style="clear: both;"></div>')),this.checkMark=e(this.radiobutton).find("span"),this.box=e(this.radiobutton).find("div"),this._supportsRC=!0,e.jqx.browser.msie&&e.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto");var i=this.element.getAttribute("checked");("checked"==i||"true"==i||1==i)&&(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),e.jqx.aria(this)},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.setSize()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height)},_addHandlers:function(){var e=this;this.addHandler(this.box,"click",function(t){return e.disabled||e.enableContainerClick?void 0:(e.toggle("click"),t.preventDefault(),!1)}),this.addHandler(this.host,"keydown",function(t){return e.disabled||e.locked||32!=t.keyCode?void 0:(e.toggle("click"),t.preventDefault(),!1)}),this.addHandler(this.host,"click",function(t){return!e.disabled&&e.enableContainerClick?(e.toggle("click"),t.preventDefault(),!1):void 0}),this.addHandler(this.host,"selectstart",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"mouseup",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"focus",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1)}),this.addHandler(this.host,"blur",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1)}),this.addHandler(this.host,"mouseenter",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1)}),this.addHandler(this.host,"mouseleave",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1)}),this.addHandler(this.box,"mouseenter",function(){e.disabled||e.enableContainerClick||(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){e.disabled||e.enableContainerClick||(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},val:function(e){return 0==arguments.length||"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check("api"),"false"==e&&this.uncheck("api"),""==e&&this.indeterminate("api")):(1==e&&this.check("api"),0==e&&this.uncheck("api"),null==e&&this.indeterminate("api")),this.checked)},check:function(t){this.checked=!0;var i=this;this.checkMark.removeClass(),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.browser.msie?this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")):(this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var r=e.find(".jqx-radiobutton");if(null==this.groupName&&(this.groupName=""),e.each(r,function(){var t=e(this).jqxRadioButton("groupName");t==i.groupName&&this!=i.element&&e(this).jqxRadioButton("uncheck","api")}),this._raiseEvent("0"),this._raiseEvent("3",{type:t,checked:!0}),0==this.checkMark.height())this.checkMark.height(this.boxSize),this.checkMark.width(this.boxSize);else if("13px"!=this.boxSize){var s=parseInt(this.boxSize)/2;this.checkMark.height(s),this.checkMark.width(s),this.checkMark.css("margin-left",1+s/4),this.checkMark.css("margin-top",1+s/4)}this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},uncheck:function(t){var i=this.checked;this.checked=!1;var r=this;e.jqx.browser.msie?r.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){r.checkMark.removeClass()})),i&&(this._raiseEvent("1"),this._raiseEvent("3",{type:t,checked:!1})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},indeterminate:function(t){var i=this.checked;this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=i&&(this._raiseEvent("2"),this._raiseEvent("3",{type:t,checked:null})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined")},toggle:function(e){if(!this.disabled&&!this.locked){var t=this.checked;this.checked=1==this.checked&&this.hasTreeStates?null:!0,t!=this.checked&&this.updateStates(e),this.input.val(this.checked)}},updateStates:function(e){this.checked?this.check(e):0==this.checked?this.uncheck(e):null==this.checked&&this.indeterminate(e)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;try{var n=this.host.trigger(s)}catch(o){}return n},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized){if(i!=this.enableContainerClick||this.disabled||this.locked||(s?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==i&&(s?(t.box.addClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"checked"==i)switch(s){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==i&&e.jqx.utilities.setTheme(r,s,this.host),"disabled"==i&&(s?this.disable():this.enable())}}})}(jqxBaseFramework),function(e){function t(t,r){var s=t.nodeName.toLowerCase();if("area"===s){var n,o=t.parentNode,a=o.name;return t.href&&a&&"map"===o.nodeName.toLowerCase()?(n=e("img[usemap=#"+a+"]")[0],!!n&&i(n)):!1}return(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"==s?t.href||r:r)&&i(t)}function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function r(i){var r=e.attr(i,"tabindex"),s=isNaN(r);return(s||r>=0)&&t(i,!s)}e.jqx.jqxWidget("jqxWindow","",{}),e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var t={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:null,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18e3,zIndex:9001,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};
return e.extend(!0,this,t),t},createInstance:function(){this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.detach(),e(document.body).append(this.host);var t=this,i=function(){var i=parseInt(e(t.restricter).css("padding-top")),r=parseInt(e(t.restricter).css("padding-left")),s=parseInt(e(t.restricter).css("padding-bottom")),n=parseInt(e(t.restricter).css("padding-right")),o=e(t.restricter).coord();t.dragArea={left:r+o.left,top:i+o.top,width:1+n+e(t.restricter).width(),height:1+s+e(t.restricter).height()}};if(this.restricter&&i(),this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){i()})),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||this.host.css("display","none"),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var r=this;this.isModal&&this._fixWindowZIndex("modal-show"),r.initContent&&(r.initContent(),r._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(t){var i=e.data(document.body,"jqxwindows-list")||[],r=this.zIndex;if(this.isModal){i&&(i=this._removeFromArray(this.host,i),e.data(document.body,"jqxwindows-list",i));var s=e.data(document.body,"jqxwindows-modallist");if(s)if("modal-show"==t)s.push(this.host);else{var n=s.indexOf(this.host);-1!=n&&s.splice(n,1)}else if("modal-show"==t){var o=new Array;o.push(this.host),e.data(document.body,"jqxwindows-modallist",o),s=o}else e.data(document.body,"jqxwindows-modallist",new Array),s=new Array;r=this.modalZIndex;return e.each(s,function(){if(this.data()&&this.data().jqxWindow){var e=this.data().jqxWindow.instance;e._modalBackground.css("z-index",r),e.host.css("z-index",r+1),r+=2}}),void e.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,i)<0&&i.push(this.host),e.data(document.body,"jqxwindows-list",i),i.length>1){var a=i[i.length-2];r=parseInt(a.css("z-index"),10)+1}this.host.css("z-index",r),this._sortByStyle("z-index",i)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){alert(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight>this.maxHeight)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth>this.maxWidth)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&("undefined"==typeof this.dragArea.width||"undefined"==typeof this.dragArea.height||"undefined"==typeof this.dragArea.left||"undefined"==typeof this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var t=e.data(document.body,"jqxwindows-list")||[],i=t.length;i;)if(i-=1,e(t[i].attr("id")).length>0&&e(t[i].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var t=this.host.children("DIV");if(1===t.length)this._header=e("<div>"+this.host.attr("caption")+"</div>"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=e(t[0]);else{if(2!==t.length)throw new Error("Invalid structure!");this._header=e(t[0]),this._content=e(t[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('<div style="float:left;"></div>'),this._headerContentWrapper=this._header.children(0),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),this._closeButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>'),this._collapseButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"==typeof this._modalBackground&&null!==this._modalBackground&&this._modalBackground.length>=1&&(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(t){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var t=e.data(document.body,"jqxwindows-list");t&&(this._removeFromArray(this.host,t),e.data(document.body,"jqxwindows-list",t)),this._modalBackground=e("<div></div>"),this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal")),this._setModalBackgroundStyles(),e(document.body).append(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var i=this,r=function(t,i){var r=e(t).parents().get();for(j=0;j<r.length;j++)if(e(r[j]).is(i))return!0;return!1};this.addHandler(this._modalBackground,"mouseup",function(e){i._stopResizing(i),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=i._getTabbables();return t.length>0&&(t[0].focus(1),setTimeout(function(){t[0].focus(1)},100)),e.preventDefault(),!1}),this.addHandler(e(document),"keydown.window"+this.element.id,function(t){if(9===t.keyCode){var s=e.data(document.body,"jqxwindows-modallist");if(!(s.length>1&&s[s.length-1][0]!=i.element)){var n=i._getTabbables(),o=null,a=null;if(n.length>0&&(o=n[0],a=n[n.length-1]),t.target!=i.element&&null!=o)return r(t.target,i.host)&&(t.target!==a||t.shiftKey)?t.target===o&&t.shiftKey?(a.focus(1),!1):void 0:(o.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this.host.children().css("tab-index",0)),this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header.css("position","relative"),this.rtl?(this._headerContentWrapper.css("direction","rtl"),this._headerContentWrapper.css("float","right")):(this._headerContentWrapper.css("direction","ltr"),this._headerContentWrapper.css("float","left")),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.width(this.closeButtonSize),this._closeButtonWrapper.height(this.closeButtonSize)):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize)):this._collapseButtonWrapper.css("visibility","hidden"))},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper.css("margin-left",e),this._closeButtonWrapper.css("margin-right","0px")):(this._closeButtonWrapper.css("margin-right",e),this._closeButtonWrapper.css("margin-left","0px"))),this._closeButtonWrapper.css(this.rtl?{position:"absolute",left:"0px",right:""}:{position:"absolute",right:"0px",left:""})}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize),this.rtl?(this._collapseButtonWrapper.css("margin-left",e),this._collapseButtonWrapper.css("margin-right","0px")):(this._collapseButtonWrapper.css("margin-right",e),this._collapseButtonWrapper.css("margin-left","0px"))),this._collapseButtonWrapper.css(this.rtl?{position:"absolute",left:this.showCloseButton?this._closeButton.outerWidth(!0):0,right:""}:{position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0,left:""}),this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&this.host.css("width",this.width),this.collapsed||(this.host.height("auto"!==this.height?this.height:this.host.height()),this.host.css("min-height",this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth}),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var e=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),e=!1);var t=this._header.children(0).outerWidth(!0),i=this._header.children(1).outerWidth(!0),r=t+i;return this.minWidth<100&&(this.minWidth=Math.min(r,100),e=!1),e},_centerElement:function(e,t,i,r){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,r)},_centerElementInParent:function(e,t,i,r){if(i=i.toLowerCase(),r?r+="-":r="",i.indexOf("y")>=0){var s=e.outerHeight(!0),n=t.height(),o=Math.max(0,n-s)/2;e.css(r+"top",o+"px")}if(i.indexOf("x")>=0){var a=e.outerWidth(!0),l=t.width(),h=Math.max(0,l-a)/2;e.css(r+"left",h+"px")}},_centerElementInArea:function(e,t,i){if(i=i.toLowerCase(),i.indexOf("y")>=0){var r=e.outerHeight(!0),s=t.height,n=(s-r)/2;e.css("top",n+t.top+"px")}if(i.indexOf("x")>=0){var o=e.outerWidth(!0),a=t.width,l=(a-o)/2;e.css("left",l+t.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){var i=this._indexOf(e,t);return i>=0?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var r=t.length-1;r>i;r--){var s,n=t[r],o=t[r-1];parseInt(n.css(e),10)<parseInt(o.css(e),10)&&(s=n,t[r]=o,t[r-1]=s)}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(e){var t=e.data.self;t._header.width(t.host.width()-(t._header.outerWidth(!0)-t._header.width())),t.width=e.args.width,t.height=e.args.height},_addHeaderHoverEffect:function(){var t=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){e(this).addClass(t.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){e(this).removeClass(t.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,function(){"object"==typeof t._modalBackground&&null!==t._modalBackground&&(t.isOpen()&&t._modalBackground.hide(),t.restricter?(t._modalBackground.css("left",t.dragArea.left),t._modalBackground.css("top",t.dragArea.top),t._modalBackground.width(t.dragArea.width),t._modalBackground.height(t.dragArea.height)):(t._modalBackground.width(t._getDocumentSize().width),t._modalBackground.height(t._getDocumentSize().height)),t.isOpen()&&t._modalBackground.show())})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=t?4:0,r=i;return document.body.scrollHeight>document.body.clientHeight&&t&&(i=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&t&&(r=this._SCROLL_WIDTH),{width:e(document).width()-i,height:e(document).height()-r}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),function(t){return e._closeWindow(t)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(t){t.keyCode===e.keyboardCloseKey&&null!=e.keyboardCloseKey&&"none"!=e.keyboardCloseKey?e._closeWindow(t):e._handleKeys(t)},{self:this}),this.addHandler(this.host,"keyup",function(){if(e.keyboardNavigation&&e._moved){var t=e.host.coord(),i=t.left,r=t.top;e._raiseEvent(3,i,r,i,r),e._moved=!1}})},_handleKeys:function(t){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var i=t.ctrlKey,r=t.keyCode,s=this.host.coord(),n=s.left,o=s.top,a=this._getDraggingArea(),l=this.host.width(),h=this.host.height(),d=!0,c=10;switch(r){case 37:i?this.resizable&&this.resize(l-c,h):this.draggable&&n-c>=0&&this.move(n-c,o),d=!1;break;case 38:i?this.resizable&&this.resize(l,h-c):this.draggable&&o-c>=0&&this.move(n,o-c),d=!1;break;case 39:i?this.resizable&&this.resize(l+c,h):this.draggable&&n+l+c<=a.width&&this.move(n+c,o),d=!1;break;case 40:i?this.resizable&&this.resize(l,h+c):this.draggable&&o+h+c<=a.height&&this.move(n,o+c),d=!1}return d||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),d}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){return e.resizeArea&&e.resizable&&!e.collapsed?void e._header.css("cursor",e._resizeWrapper.css("cursor")):e.draggable?void e._header.css("cursor","move"):(e._header.css("cursor","default"),void(e._resizeWrapper&&e._resizeWrapper.length>0&&e._resizeWrapper.css("cursor","default")))},_addDragDropHandlers:function(){if(this.draggable){var t=this;this.addHandler(this.host,"focus",function(){t._headerFocused=!0}),this.addHandler(this.host,"blur",function(){t._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return t._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(e){return t._headerMouseDownHandler(t,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return t._headerMouseMoveHandler(t,e)}),this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return t._dragHandler(t,e)}),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return t._dropHandler(t,e)});try{if(""!=document.referrer||window.frameElement){var i=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var r=function(e){t._dropHandler(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}}catch(s){}}},_headerMouseDownHandler:function(t,i){if(t.isModal||t.bringToFront(),null==t._resizeDirection){var r=e.jqx.mobile.getTouches(i),s=(r[0],e.jqx.position(i));t._mousePosition.x=s.left,t._mousePosition.y=s.top,t._mouseDown=!0,t._isDragging=!1}},_headerMouseMoveHandler:function(t,i){if(t._mouseDown&&!t._isDragging){var r=e.jqx.mobile.getTouches(i),s=r[0],n=s.pageX,o=s.pageY,a=e.jqx.position(i);return n=a.left,o=a.top,(n+3<t._mousePosition.x||n-3>t._mousePosition.x||o+3<t._mousePosition.y||o-3>t._mousePosition.y)&&(t._isDragging=!0,t._mousePosition={x:n,y:o},t._windowPosition={x:t.host.coord().left,y:t.host.coord().top},e(document.body).addClass(t.toThemeProperty("jqx-disableselect"))),t._isTouchDevice?(i.preventDefault(),!0):!1}return t._isDragging?t._isTouchDevice?(i.preventDefault(),!0):!1:!0},_dropHandler:function(t,i){var r=!0;if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var s=parseInt(t.host.css("left"),10),n=parseInt(t.host.css("top"),10),o=t._isTouchDevice?0:i.pageX,a=t._isTouchDevice?0:i.pageY;t.enableResize=t._enableResizeBackup,t._enableResizeBackup="undefined",t._raiseEvent(3,s,n,o,a),r=!1,"undefined"!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),"undefined"!=i.stopPropagation&&i.stopPropagation()}return t._isDragging=!1,t._mouseDown=!1,e(document.body).removeClass(t.toThemeProperty("jqx-disableselect")),r},_dragHandler:function(t,i){if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var r=t._isTouchDevice?i.originalEvent.which:i.which;if("undefined"==typeof t._enableResizeBackup&&(t._enableResizeBackup=t.enableResize),t.enableResize=!1,0===r&&e.jqx.browser.msie&&e.jqx.browser.version<8)return t._dropHandler(t,i);var s=e.jqx.mobile.getTouches(i),n=(s[0],e.jqx.position(i)),o=n.left,a=n.top,l=o-t._mousePosition.x,h=a-t._mousePosition.y,d=t._windowPosition.x+l,c=t._windowPosition.y+h;return t.move(d,c,i),i.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,r){var s=this._getDraggingArea();e=e<s.left?s.left:e,t=t<s.top?s.top:t;var n=this.host.outerWidth(!0),o=this.host.outerHeight(!0);return e+n>=s.width+s.left-2*r&&(e=s.width+s.left-n-r),t+o>=s.height+s.top-i&&(t=s.height+s.top-o-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.host.css({left:this.position[0],top:this.position[1]});else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!=this.position.y)this.host.css({left:this.position.x,top:this.position.y});else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left")),i=parseInt(this.host.css("top"));this.host.css({left:t+e.left,top:i+e.top})}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var t=this.position.length,i=this._getDraggingArea();t;)switch(t-=1,this.position[t]=this.position[t].replace(/ /g,""),this.position[t]){case"top":this.host.css("top",i.top);break;case"left":this.host.css("left",i.left);break;case"bottom":this.host.css("top",i.height-this.host.height()+i.top);break;case"right":this.host.css("left",i.left+i.width-this.host.width());break;default:this.dragArea||(i=e(window)),this._centerElement(this.host,i,"xy")}},_raiseEvent:function(t){var i=this._events[t],r=e.Event(i),s={};return(2===t||3===t)&&(s.x=arguments[1],s.y=arguments[2],s.pageX=arguments[3],s.pageY=arguments[4]),("closed"===i||"close"===i)&&(s.dialogResult=this.dialogResult),r.args=s,this.host.trigger(r)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(t,i,r,s){switch(this._validateProperties(),i){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh(),this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":s?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(s),this.title=s;break;case"content":this.setContent(s);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize();break;case"resizable":this.enableResize=s,s?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":s?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":s?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":s?r||(this.collapsed=!1,this.collapse(0)):r&&(this.collapsed=!0,this.expand(0));case"theme":e.jqx.utilities.setTheme(r,s,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return t._performLayout(),t._removeResize(),void t._initializeResize();default:return}},collapse:function(t){if(!this.collapsed&&!this.host.is(":animated")){if("none"==this.host.css("display"))return;var i=this,r=this._header.outerHeight(!0),s=parseInt(this._header.css("border-bottom-width"),10),n=parseInt(this._header.css("margin-bottom"),10),t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;isNaN(s)||(r-=2*s),isNaN(n)||(r+=n),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.host.css("min-height",r),this.host.animate({height:r},t,function(){i.collapsed=!0,i._collapseButton.addClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","none"),i._raiseEvent(5),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!1)})}},expand:function(t){if(this.collapsed&&!this.host.is(":animated")){var i=this,t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;this.host.animate({height:this._heightBeforeCollapse},t,function(){i.collapsed=!1,i.host.css("min-height",i._minHeightBeforeCollapse),i._collapseButton.removeClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.removeClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","block"),i._raiseEvent(6),i._performWidgetLayout(),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!0)
})}},closeAll:function(t){for(var t=!0,i=e.data(document.body,"jqxwindows-list"),r=i.length,s=e.data(document.body,"jqxwindow-modal")||[];r;)r-=1,this._toClose(t,i[r])&&(i[r].jqxWindow("closeWindow","close"),i.splice(r,1));this._toClose(t,s)&&(s.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[])),e.data(document.body,"jqxwindows-list",i)},setTitle:function(t){e.jqx.utilities.html(this._headerContentWrapper,t),this.title=t,this._performLayout()},setContent:function(t){this._contentInitialized=!1;for(var i=this._content,r=!1;!r;)i.css("height","auto"),i.css("width","auto"),i.is(".jqx-window")?r=!0:i=i.parent();e.jqx.utilities.html(this._content,t),this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e="undefined"==typeof e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var t=e.data(document.body,"jqxwindows-list");if(this.isModal)return t=e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var i=t[t.length-1],r=parseInt(i.css("z-index"),10),s=this._indexOf(this.host,t),n=t.length-1;n>s;n-=1){var o=parseInt(t[n].css("z-index"),10)-1;t[n].css("z-index",o)}this.host.css("z-index",r),this._sortByStyle("z-index",t)},hide:function(e,t,i){if(this.closing){var r=this.closing();if(0==r)return}switch(t=t||this.closeAnimationDuration,this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(t,function(){e instanceof Function&&e()});case"slide":this.host.slideUp(t,function(){e instanceof Function&&e()});case"combined":this.host.hide(t,function(){e instanceof Function&&e()})}this._visible=!1,this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide")),i!==!0&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(e,t){switch(this._setDialogResult("none"),t=t||this.showAnimationDuration,this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(t,function(){e instanceof Function&&e()});break;case"slide":this.host.slideDown(t,function(){e instanceof Function&&e()});break;case"combined":this.host.show(t,function(){e instanceof Function&&e()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var i=this;this._visible||(t>150&&"none"!=this.animationType?setTimeout(function(){i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),i._raiseEvent(7),i._raiseEvent(9)},t-150):(i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),this._raiseEvent(7),i._raiseEvent(9))),this._visible=!0,this._performLayout();var r=function(){i._isTouchDevice||i._content.focus()};r(),setTimeout(function(){r()},100)},_getTabbables:function(){var t=this._content.find("*"),i=new Array;return e.each(t,function(){r(this)&&(i[i.length]=this)}),i},move:function(t,i,r,s){var n,o,a,l=0,h=0,t=parseInt(t,10),i=parseInt(i,10);if(e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(h=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(l=this._SCROLL_WIDTH)),n=this._validateCoordinates(t,i,h,l),parseInt(this.host.css("left"),10)!==n.x||parseInt(this.host.css("top"),10)!==n.y){if(r){var d=e.jqx.mobile.getTouches(r),c=(d[0],e.jqx.position(r));o=c.left,a=c.top}void 0==o&&(o=t),void 0==a&&(a=i),s!==!1&&this._raiseEvent(2,n.x,n.y,o,a)}this.element.style.left=n.x+"px",this.element.style.top=n.y+"px",this._moved=!0}})}(jqxBaseFramework),function(e){var t=function(e){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._cursorBackup,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var t=e(this.resizeTarget.children(".jqx-resize"));t.detach();var i=t.children();this._removeResizeEventListeners();for(var r=0;r<i.length;r+=1)e(i[r]).detach(),this.resizeTarget.append(i[r]);t.remove()}},initResize:function(t){this.resizeConfig(),this.resizeTarget=e(t.target),this.resizeIndicatorSize=t.indicatorSize||10,this.maxWidth=t.maxWidth||100,this.minWidth=t.minWidth||1,this.maxHeight=t.maxHeight||100,this.minHeight=t.minHeight||1,this.resizeParent=t.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,t.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(t,i,r,s,n){this.resizeTargetChildren=e(n),this.resizeTargetChildren.toArray();for(var o=this.resizeTargetChildren.length;o;)o-=1,this.resizeTargetChildren[o]=e(this.resizeTargetChildren[o])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(e("<div></div>")),this._resizeWrapper=this.resizeTarget.children(0),this._resizeWrapper.addClass("jqx-resize"),this._resizeWrapper.addClass("jqx-rc-all"),this._resizeWrapper.css("z-index",8e3)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height()),this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var t=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+t),this.removeHandler(this._resizeWrapper,"mousedown.resize"+t),this.removeHandler(e(document),"mousemove.resize"+t),this.removeHandler(e(document),"mouseup.resize"+t)},_addResizeEventHandlers:function(){var t=this.resizeTarget.attr("id"),i=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+t,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+t,function(e){i._resizeMouseDownHandler(i,e)}),this.addHandler(e(document),"mousemove.resize."+t,function(e){return i._resizeHandler(i,e)}),this.addHandler(e(document),"mouseup.resize."+t,function(e){i._stopResizing(i,e)});try{if(""!=document.referrer||window.frameElement){var r=function(e){i._stopResizing(i,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}catch(s){}},_stopResizing:function(e){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&e._resizeWrapper.css("cursor",e._cursorBackup)},_resizeHandler:function(t,i){return t.enableResize&&!t.collapsed?t.isResizing&&t._resizeDirection?(0===i.which&&e.jqx.browser.msie&&e.jqx.browser.version<9&&t._stopResizing(i),t._performResize(i.pageX,i.pageY),!1):t._resizeCaptureCursor(i.pageX,i.pageY):void 0},_resizeCaptureCursor:function(e,t){return this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y)?(this._changeCursor(e-parseInt(this.resizeTarget.css("left")),t-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1):void 0},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,r=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,r)},_resizeCursorChangeHandler:function(e,t){e.enableResize&&!e.collapsed&&(e.isResizing||e._changeCursor(t.pageX-parseInt(e.resizeTarget.css("left")),t.pageY-parseInt(e.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(e,t){e.enableResize&&null!==e._resizeDirection&&(e._resizeMouseDown=!0,e._mouseResizePosition.x=t.pageX,e._mouseResizePosition.y=t.pageY,t.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){alert(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&e>=0&&t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&t>0&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],e.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),e.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),e.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),e.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,r,s){return"horizontal"===i||"both"===i?this._validateWidth(e,r,s):"vertical"===i||"both"===i?this._validateHeight(t,r,s):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:e(document).width(),height:e(document).height()}},_validateHeight:function(t,i,r){var s=0,n=2,o=this._getParent();return e(window).width()>e(document).width()&&e.jqx.browser.msie&&o.height===e(document).height()&&(s=this._SCROLL_WIDTH),"bottom"===r&&t+i.position().top+s+n>o.height+o.top?{fix:o.height-i.position().top-s-n+o.top,result:!1}:"top"===r&&i.lastHeight-t+i.y<o.top?{fix:t+(i.lastHeight-t+i.y)-o.top,result:!1}:t<i.minHeight?{fix:i.minHeight,result:!1}:t>i.maxHeight?{fix:i.maxHeight,result:!1}:{result:!0,fix:t}},_validateWidth:function(t,i,r){var s=0,n=2,o=this._getParent();return e(window).height()<e(document).height()&&e.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&o.width===e(document).width()&&(s=this._SCROLL_WIDTH),"right"===r&&t+i.position().left+s+n>o.width+o.left?{fix:o.width-i.position().left-s-n+o.left,result:!1}:"left"===r&&i.lastWidth-t+i.x<o.left?{fix:t+(i.lastWidth-t+i.x)-o.left,result:!1}:t<i.minWidth?{fix:i.minWidth,result:!1}:t>i.maxWidth?{fix:i.maxWidth,result:!1}:{result:!0,fix:t}},_resize:function(e,t,i){for(var r=(this._resizeDirection,this._resizeMethods.length),s=0;r>s;s++)if(this._resizeMethods[s]instanceof Function){var n={element:e,x:t,y:i,self:this};this._resizeMethods[s](n)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),r=t-this.host.height(),s="right";0!=r&&(s="bottom"),this._resizeDirection=s,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,r),this.isResizing=!1}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var r=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);r<this.resizeTarget.maxWidth&&r>0&&this.resizeTargetChildren[i].width(r)}else{var s=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);s<this.resizeTarget.maxHeight&&s>0&&this.resizeTargetChildren[i].height(s)}},_resizeRight:function(e){var t=e.element.lastWidth+e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"right");return i.result||(t=i.fix),e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.self._raiseResizeEvent(0)),t},_resizeLeft:function(e){var t=e.element.lastWidth-e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"left"),r=e.element.x+e.x;return i.result?(e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.element.css("left",r),e.self._raiseResizeEvent(0)),t):(r=e.element.x+(e.element.lastWidth-i.fix),void(t=i.fix))},_resizeBottom:function(e){var t=e.element.lastHeight+e.y,i=e.self._validateResize(0,t,"vertical",e.element,"bottom");return i.result||(t=i.fix),e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.self._raiseResizeEvent(0)),t},_resizeTop:function(e){var t=e.element.lastHeight-e.y,i=e.self._validateResize(0,t,"vertical",e.element,"top"),r=e.element.y+e.y;return i.result?(e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.element.css("top",r),e.self._raiseResizeEvent(0)),t):(r=e.element.y+(e.element.lastHeight-i.fix),void(t=i.fix))},_raiseResizeEvent:function(t){var i=this._resizeEvents[t],r=e.Event(i),s={};if(s.width=parseInt(this.resizeTarget[0].style.width),s.height=parseInt(this.resizeTarget[0].style.height),r.args=s,0==t){var i=this._resizeEvents[2],n=e.Event(i);n.args=s,this.resizeTarget.trigger(n)}return this.resizeTarget.trigger(r)}}}(jqxBaseFramework);e.extend(e.jqx._jqxWindow.prototype,t)}(jqxBaseFramework),function(e){function t(t){return function(i,r){"string"!=typeof i&&(r=i,i="*");var s,n,o,a=i.toLowerCase().split(w),l=0,h=a.length;if(e.isFunction(r))for(;h>l;l++)s=a[l],o=/^\+/.test(s),o&&(s=s.substr(1)||"*"),n=t[s]=t[s]||[],n[o?"unshift":"push"](r)}}function i(e,t,r,s,n,o){n=n||t.dataTypes[0],o=o||{},o[n]=!0;for(var a,l=e[n],h=0,d=l?l.length:0,c=e===x;d>h&&(c||!a);h++)a=l[h](t,r,s),"string"==typeof a&&(!c||o[a]?a=void 0:(t.dataTypes.unshift(a),a=i(e,t,r,s,a,o)));return!c&&a||o["*"]||(a=i(e,t,r,s,"*",o)),a}function r(t,i){var r,s,n=e.jqx.data.ajaxSettings.flatOptions||{};for(r in i)void 0!==i[r]&&((n[r]?t:s||(s={}))[r]=i[r]);s&&e.extend(!0,t,s)}function s(e,t,i){var r,s,n,o,a=e.contents,l=e.dataTypes,h=e.responseFields;for(s in h)s in i&&(t[h[s]]=i[s]);for(;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("content-type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in i)n=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){n=s;break}o||(o=s)}n=n||o}return n?(n!==l[0]&&l.unshift(n),i[n]):void 0}function n(e,t){var i,r,s,n,o=e.dataTypes.slice(),a=o[0],l={},h=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;s=o[++h];)if("*"!==s){if("*"!==a&&a!==s){if(i=l[a+" "+s]||l["* "+s],!i)for(r in l)if(n=r.split(" "),n[1]===s&&(i=l[a+" "+n[0]]||l["* "+n[0]])){i===!0?i=l[r]:l[r]!==!0&&(s=n[0],o.splice(h--,0,s));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(d){return{state:"parsererror",error:i?d:"No conversion from "+a+" to "+s}}}a=s}return{state:"success",data:t}}function o(){try{return new window.XMLHttpRequest}catch(e){}}function a(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var r=Object.defineProperty;Object.defineProperty=function(e,t,i){if(r)try{return r(e,t,i)}catch(s){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,s=arguments[1];for(r=0;i>r;r++)r in t&&e.call(s,t[r],r,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var s,n=this,o=[];n.notifier=null,n.name="observableArray",n.observing=!0,n.changes=new Array;var i=i;return n.observe=function(){n.observing=!0,1==arguments.length&&(i=arguments[0])},n.unobserve=function(){n.observing=!1},n.toArray=function(){return o.slice(0)},n.toJSON=function(e,t){function i(e){return'"'+e.replace(u,function(e){var t=p[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function r(e){return 10>e?"0"+e:e}function s(e){var t;return t=isFinite(e.valueOf())?e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+'Z"':"null"}function n(e){var t,i=e.length,r=[];for(t=0;i>t;t++)r.push(d(t,e)||"null");return"["+r.join(",")+"]"}function a(t){var r,s,n=[];for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(""!=r&&e&&-1===e.indexOf(r))continue;s=d(r,t),s&&n.push(i(r)+":"+s)}return"{"+n.join(",")+"}"}function l(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return s(e);case"[object Array]":return n(e)}return a(e)}function h(e,t){switch(t){case"string":return i(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function d(e,t){var i=t[e],r=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e),r=typeof i),/(number|float|int|integer|string|boolean)/.test(r)||!i&&"object"===r?h(i,r):l(i)}var c=o;t&&(c=t);var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(c):d("",{"":c})},n.defineIndexProperty=function(t){if(!(t in n)){var i=function(t,i,r,a){var l=t[i],h=l,d=function(){return h},c=function(t){if(l=t,h!==l){var r=h;if(h=l,"function"==typeof s){var d=o.indexOf(a),c="",u=function(t,r){Object.getOwnPropertyNames(t).forEach(function(s){var n=e.type(t[s]);"array"==n||"object"==n?u(t[s],r+"."+s):i===s&&(c=r+"."+s)})}(a,d);s({object:n,type:"update",path:c,index:d,name:i,newValue:l,oldValue:r})}}return h=l,l};t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:d,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,d),Object.prototype.__defineSetter__.call(t,i,c)))},r=function(t,s,n){var o=e.type(t);/(number|float|int|integer|string|boolean)/.test(o)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(o){var a=e.type(t[o]);"array"==a||"object"==a?(i(t,o,s+"."+o,n),r(t[o],s+"."+o,n)):i(t,o,s+"."+o,n)})};Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return o[t]},set:function(e){var i=o[t];n.toJSON(null,i)!=n.toJSON(null,e)&&(o[t]=e,"function"==typeof s&&s({object:n,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),r(e,t,e))}}),r(n[t],t,n[t])}},n.push=function(){for(var e,t=0,i=arguments.length;i>t;t++)e=o.length,o.push(arguments[t]),n.defineIndexProperty(e),"function"==typeof s&&s({object:n,type:"add",name:"length",index:e,newValue:o.length,oldValue:e});return o.length},n.pop=function(){if(~o.length){var e=o.length-1,t=o.pop();return delete n[e],"function"==typeof s&&s({object:n,type:"delete",name:"length",index:e,newValue:o.length,oldValue:e}),t}},n.unshift=function(){for(var e=o.length,t=0,i=arguments.length;i>t;t++)o.splice(t,0,arguments[t]),defineIndexProperty(o.length-1);return"function"==typeof s&&s({object:n,type:"add",index:e,name:"length",newValue:o.length,oldValue:e}),o.length},n.shift=function(){var e=o.length;if(~o.length){var t=o.shift();return 0===o.length&&delete n[e],"function"==typeof s&&s({object:n,type:"delete",index:e,name:"length",newValue:o.length,oldValue:e}),t}},n.slice=function(t,i,r){var s=o.slice(t,i),n=new e.jqx.observableArray(s,r);return n},n.splice=function(t,i,r){var a,l=[];for(t=~t?t:o.length-t,i=(null==i?o.length-t:i)||0;i--;)a=o.splice(t,1)[0],l.push(a),delete n[o.length],"function"==typeof s&&s({object:n,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var h=2,d=arguments.length;d>h;h++)o.splice(t,0,arguments[h]),defineIndexProperty(o.length-1),"function"==typeof s&&s({object:n,type:"add",index:t,name:"length",newValue:o.length-1,oldValue:t}),t++;var c=new e.jqx.observableArray(l,r);return c},Object.defineProperty(n,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(e){var t=Number(e);if(!(t%1===0&&t>=0))throw new RangeError("Invalid array length");return t<o.length?n.splice(t):t>o.length&&n.push.apply(n,new Array(t-o.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){var r=new e.jqx.observableArray(t,i);return r},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(o,i);return t.observing=n.observing,t.changes=n.changes,t.notifier=n.notifier,t},n.remove=function(e){if(0>e||e>=n.length)throw new Error("Invalid index : "+e);if(n.hasOwnProperty(e)){var t=n[e];return n[e]=void 0,o[e]=void 0,"function"==typeof s&&s({object:n,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},n.concat=function(t,i){var r=o.concat(t),s=new e.jqx.observableArray(r,i);return s},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in n)){var t=function(){var t=n.observing;n.observing=!1;var i=o[e],r=i.apply(o,arguments);return n.observing=t,r};Object.defineProperty(n,e,{configurable:!1,enumerable:!0,writeable:!1,value:t})}}),n.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var r=t.split("."),s=n,o=0;o<r.length;o++){if(0===o&&r[o]>=n.length)throw new Error("Invalid Index: "+t);o<r.length-1?s=s[r[o]]:s[r[o]]=i}return!0}return t>=n.length?n.push(i):n[t]=i,!0},n.get=function(e){return n[e]},t instanceof Array&&n.push.apply(n,t),s=function(){n.observing&&(arguments&&arguments[0]&&n.changes.push(arguments[0]),i&&i.apply(n,arguments),n.notifier&&n.notifier.apply(n,arguments))},n},e.jqx.formatDate=function(t,i,r){var s=e.jqx.dataFormat.formatdate(t,i,r);return s},e.jqx.formatNumber=function(t,i,r){var s=e.jqx.dataFormat.formatnumber(t,i,r);return s},e.jqx.dataAdapter=function(t,i){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},void 0!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=t.formatData&&(this._options.formatData=this._source.formatData),void 0!=t.loadError&&(this._options.loadError=this._source.loadError),void 0!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=t.contentType&&(this._options.contentType=this._source.contentType),void 0!=t.async&&(this._options.async=this._source.async),void 0!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var r=t.localdata();if(null!=r){t._localdata=t.localdata;var s=this;t._localdata.subscribe&&(s._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};(0==s.suspendKO||void 0==s.suspendKO||0==s._oldlocaldata.length)&&(s._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==s.suspendKO||void 0==s.suspendKO){var i="";s._oldrecords=s.records,0==s._oldlocaldata.length&&(t.localdata=t._localdata()),0==s._oldlocaldata.length?i="change":e&&(s._oldlocaldata.length==e.length&&(i="update"),s._oldlocaldata.length>e.length&&(i="remove"),s._oldlocaldata.length<e.length&&(i="add")),s.dataBind(null,i)}},t._localdata,"change"),s._knockoutdatasource=!0),t.localdata=r}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,r){var s=e.jqx.dataFormat.formatdate(t,i,r);return s},formatNumber:function(t,i,r){var s=e.jqx.dataFormat.formatnumber(t,i,r);return s},dataBind:function(t,i){if(1!=this.isUpdating){var r=this._source;if(r){r.generatedfields&&(r.datafields=null,r.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=r.dataFields&&(r.datafields=r.dataFields),void 0==r.recordstartindex&&(r.recordstartindex=0),void 0==r.recordendindex&&(r.recordendindex=0),void 0==r.loadallrecords&&(r.loadallrecords=!0),void 0==r.root&&(r.root=""),void 0==r.record&&(r.record=""),void 0!=r.sort&&(this.sort=r.sort),this.filter=void 0!=r.filter?r.filter:null,void 0!=r.sortcolumn&&(this.sortcolumn=r.sortcolumn),void 0!=r.sortdirection&&(this.sortdirection=r.sortdirection),void 0!=r.sortcomparer&&(this.sortcomparer=r.sortcomparer),this.records=new Array;var s=this._options||{};if(this.virtualmode=void 0!=s.virtualmode?s.virtualmode:!1,this.totalrecords=void 0!=s.totalrecords?s.totalrecords:0,this.pageable=void 0!=s.pageable?s.pageable:!1,this.pagesize=void 0!=s.pagesize?s.pagesize:0,this.pagenum=void 0!=s.pagenum?s.pagenum:0,this.cachedrecords=void 0!=s.cachedrecords?s.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=s.updaterow?s.updaterow:null,this.addrow=void 0!=s.addrow?s.addrow:null,this.deleterow=void 0!=s.deleterow?s.deleterow:null,this.cache=void 0!=s.cache?s.cache:!1,this.unboundmode=!1,void 0!=r.formatdata&&(s.formatData=r.formatdata),void 0!=r.data&&(void 0==s.data&&(s.data={}),e.extend(s.data,r.data)),this.mapChar=void 0!=r.mapchar?r.mapchar?r.mapchar:">":s.mapChar?s.mapChar:">",(s.unboundmode||r.unboundmode)&&(this.unboundmode=s.unboundmode||r.unboundmode),void 0!=r.cache&&(this.cache=r.cache),this.koSubscriptions)for(var n=0;n<this.koSubscriptions.length;n++)this.koSubscriptions[n].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,a=r.datatype;("csv"===r.datatype||"tab"===r.datatype||"tsv"===r.datatype||"text"==r.datatype)&&(a="text");
var l=void 0!=s.async?s.async:!0;switch(void 0!=r.async&&(l=r.async),a){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==r.localdata&&r.length){r.localdata=new Array;for(var h=0;h<r.length;h++)r.localdata[r.localdata.length]=r[h],r[h].uid=h}r.beforeprocessing&&e.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata);var d=r.localdata.length;if(this.totalrecords=this.virtualmode?r.totalrecords||d:d,this.unboundmode){this.totalrecords=this.unboundmode?r.totalrecords||d:d;var c=r.datafields?r.datafields.length:0;if(c>0)for(var h=0;h<this.totalrecords;h++){for(var u={},p=0;c>p;p++)u[r.datafields[p].name]="";u.uid=h,r.localdata[r.localdata.length]=u}}void 0==this.totalrecords&&(this.totalrecords=0);var c=r.datafields?r.datafields.length:0,f=function(t,i){for(var s={},n=0;i>n;n++){var a=r.datafields?r.datafields[n]:{},l="";if(void 0!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(t);else{var h=a.map.split(o.mapChar);if(h.length>0){for(var d=t,c=0;c<h.length;c++)d&&(d=d[h[c]]);l=d}else l=t[a.map]}void 0!=l&&null!=l?l=l.toString():void 0==l&&null!=l&&(l="")}""==l&&(l=t[a.name],void 0!=l&&null!=l&&(r._localdata&&l.subscribe?l=l():"array"!=a.type&&(l=l.toString()))),l=o.getvaluebytype(l,a),void 0!=a.displayname?s[a.displayname]=l:s[a.name]=l}}return s};if(r._localdata){this._changedrecords=[],this.records=new Array;var m=r._localdata();if(e.each(m,function(t,s){if("string"==typeof s)o.records.push(s);else{var n={},a=0,l=this;e.each(this,function(i){var s=null,h="string",d=i;if(c>0){for(var u=!1,p=!1,f=0;c>f;f++){var m=r.datafields[f];if(void 0!=m&&m.name==i){u=!0,s=m.map,h=m.type,d=m.name;break}if(void 0!=m&&m.map&&m.map.indexOf(i)>=0){u=!0,s=m.map,h=m.type,d=m.name,p=!0;var g=l[i];if(null!=s){var v=s.split(o.mapChar);if(v.length>0){for(var w=l,x=0;x<v.length;x++)w=w[v[x]];g=w}else g=l[s]}"string"!=h&&(g=o.getvaluebytype(g,{type:h})),n[d]=g,void 0!=n[d]&&(a+=n[d].toString().length+n[d].toString().substr(0,1))}}if(!u)return!0;if(p)return!0}var b=e.isFunction(l[i]);if(b){var g=l[i]();if("string"!=h&&(g=o.getvaluebytype(g,{type:h})),n[i]=g,l[i].subscribe){var _=t;o.koSubscriptions[o.koSubscriptions.length]=l[i].subscribe(function(e){var t=_;n[i]=e;var r={index:t,oldrecord:n,record:n};return o._changedrecords.push(r),o.isUpdating?void 0:(o.callBindingUpdate("update"),o._changedrecords=[],!1)})}}else{var g=l[i];if(null!=s){var v=s.split(o.mapChar);if(v.length>0){for(var w=l,x=0;x<v.length;x++)w=w[v[x]];g=w}else g=l[s]}"string"!=h&&(g=o.getvaluebytype(g,{type:h})),n[d]=g,void 0!=n[d]&&(a+=n[d].toString().length+n[d].toString().substr(0,1))}});var h=o.getid(r.id,l,t);if(n.uid=h,o.records.push(n),n._koindex=a,o._oldrecords){var d=o.records.length-1;if("update"==i&&o._oldrecords[d]._koindex!=a){var u={index:d,oldrecord:o._oldrecords[d],record:n};o._changedrecords.push(u)}}}}),"add"==i)for(var d=o.records.length,h=0;d>h;h++){for(var u=o.records[h],g=!1,v=0;v<o._oldrecords.length;v++)if(o._oldrecords[v]._koindex===u._koindex){g=!0;break}g||o._changedrecords.push({index:h,oldrecord:null,record:u,position:0!=h?"last":"first"})}else if("remove"==i)for(var d=o._oldrecords.length,h=0;d>h;h++){var w=o._oldrecords[h];o.records[h]?o.records[h]._koindex!=w._koindex&&o._changedrecords.push({index:h,oldrecord:w,record:null}):o._changedrecords.push({index:h,oldrecord:w,record:null})}}else if(e.isArray(r.localdata))if(0==c){var x=0,b=new Array;e.each(r.localdata,function(t,i){var s=e.extend({},this);if("string"==typeof i)return o.records=r.localdata,!1;var n=o.getid(r.id,s,t);if("object"==typeof n&&(n=t),s.uid=n,0==t){for(var a in this){x++;var l=e.type(this[a]);b.push({name:a,type:l})}c=x,r.datafields=b,r.generatedfields=b}if(c>0){var h=f(s,c);h.uid=n,o.records[o.records.length]=h}else o.records[o.records.length]=s})}else e.each(r.localdata,function(t){var i=this,s=f(i,c),n=o.getid(r.id,s,t);"object"==typeof n&&(n=t);var i=e.extend({},s);i.uid=n,o.records[o.records.length]=i});else{this.records=new Array;var x=0,b=new Array;e.each(r.localdata,function(t){var i=o.getid(r.id,this,t);if(0==c&&!("string"==typeof this||this instanceof String)){for(var s in this){x++;var n=e.type(this[s]);b.push({name:s,type:n})}c=x,r.datafields=b,r.generatedfields=b}if(c>0){var a=this,l=f(a,c);l.uid=i,o.records[o.records.length]=l}else this.uid=i,o.records[o.records.length]=this})}if(this.originaldata=r.localdata,this.cachedrecords=this.records,this.addForeignValues(r),s.uniqueDataFields){var _=this.getUniqueRecords(this.records,s.uniqueDataFields);this.records=_,this.cachedrecords=_}if(s.beforeLoadComplete){var y=s.beforeLoadComplete(o.records,this.originaldata);void 0!=y&&(o.records=y,o.cachedrecords=y)}if(s.autoSort&&s.autoSortField){var j=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[s.autoSortField]},o.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(r){}return 0}),Object.prototype.toString=j}o.loadedData=r.localdata,o.buildHierarchy(),e.isFunction(s.loadComplete)&&s.loadComplete(r.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(null!=r.localdata){if(e.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata),"xml"===r.datatype?o.loadxml(r.localdata,r.localdata,r):"text"===a?o.loadtext(r.localdata,r):o.loadjson(r.localdata,r.localdata,r),o.addForeignValues(r),s.uniqueDataFields){var _=o.getUniqueRecords(o.records,s.uniqueDataFields);o.records=_,o.cachedrecords=_}if(s.beforeLoadComplete){var y=s.beforeLoadComplete(o.records,this.originaldata);void 0!=y&&(o.records=y,o.cachedrecords=y)}return o.loadedData=r.localdata,o.buildHierarchy.call(o),e.isFunction(s.loadComplete)&&s.loadComplete(r.localdata,o.records),void o.callBindingUpdate(i)}var C=void 0!=s.data?s.data:{};if(r.processdata&&r.processdata(C),e.isFunction(s.processData)&&s.processData(C),e.isFunction(s.formatData)){var q=s.formatData(C);void 0!=q&&(C=q)}var T="application/x-www-form-urlencoded";s.contentType&&(T=s.contentType);var S="GET";if(r.type&&(S=r.type),s.type&&(S=s.type),r.url&&r.url.length>0)e.isFunction(s.loadServerData)?o._requestData(C,r,s):this.xhr=e.jqx.data.ajax({dataType:a,cache:this.cache,type:S,url:r.url,async:l,timeout:r.timeout,contentType:T,data:C,success:function(t,i,n){if(e.isFunction(r.beforeprocessing)){var l=r.beforeprocessing(t,i,n);void 0!=l&&(t=l)}if(e.isFunction(s.downloadComplete)){var l=s.downloadComplete(t,i,n);void 0!=l&&(t=l)}if(null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(s.loadComplete)&&s.loadComplete(new Array));var h=t;if(t.records&&(h=t.records),void 0!=t.totalrecords?r.totalrecords=t.totalrecords:void 0!=t.totalRecords&&(r.totalrecords=t.totalRecords),"xml"===r.datatype?o.loadxml(null,h,r):"text"===a?o.loadtext(h,r):o.loadjson(null,h,r),o.addForeignValues(r),s.uniqueDataFields){var d=o.getUniqueRecords(o.records,s.uniqueDataFields);o.records=d,o.cachedrecords=d}if(s.beforeLoadComplete){var c=s.beforeLoadComplete(o.records,t);void 0!=c&&(o.records=c,o.cachedrecords=c)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(s.loadComplete)&&s.loadComplete(t,i,n,o.records)},error:function(t,i,n){e.isFunction(r.loaderror)&&r.loaderror(t,i,n),e.isFunction(s.loadError)&&s.loadError(t,i,n),t=null,o.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(s.beforeSend)&&s.beforeSend(t,i),e.isFunction(r.beforesend)&&r.beforesend(t,i)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(s.loadComplete)){if(!I)var I={};s.loadComplete(I)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy){var r=t.hierarchy.reservedNames;r.leaf||(r.leaf="leaf"),r.parent||(r.parent="parent"),r.expanded||(r.expanded="expanded"),r.checked||(r.checked="checked"),r.selected||(r.selected="selected"),r.level||(r.level="level"),r.data||(r.data="data")}if(t.hierarchy){var s=this,r=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){var i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var n=t.hierarchy.root,o=0;o<this.records.length;o++){var a=this.records[o];if(a){var l=function(e){if(t.hierarchy.record)e.records=e[n][t.hierarchy.record];else{var i=n.split(s.mapChar),o=null;if(i.length>1){for(var a=e,l=0;l<i.length;l++)void 0!=a&&(a=a[i[l]]);o=a}else o=e[n];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[r.leaf]=!0)};l(a),a[r.level]=0;var h=this.getid(t.id,a,o);a.uid=h,a[r.parent]=null,a[r.data]=a,void 0===a[r.expanded]&&(a[r.expanded]=!1);var d=function(e,i){if(!i)return void(e.records=new Array);for(var n=0;n<i.length;n++){var o=i[n];if(o){l(o),o[r.level]=e[r.level]+1,o[r.parent]=e,o[r.data]=o;var a=s.getid(t.id,o,n);o.uid=a==n&&null==t.id?e.uid+"_"+a:a,void 0===o[r.expanded]&&(o[r.expanded]=!1),d(o,o.records)}}};d(a,a.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){var i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){for(var c=new Array,o=0;o<t.hierarchy.groupingDataFields.length;o++)c.push(t.hierarchy.groupingDataFields[o].name);var i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,r){var s=this,n=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=e){if(void 0==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||r)){var o=s._source&&s._source.hierarchy?s._source.hierarchy.reservedNames:null;null==o&&(o=n()),e[o.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var a=function(r){if(r)for(var o=0;o<r.length;o++){var l=r[o];if(l.uid==i){var h=s._source&&s._source.hierarchy?s._source.hierarchy.reservedNames:null;return null==h&&(h=n()),e[h.parent]=l,e[h.level]=l[h.level]+1,l.records?l[h.leaf]=!1:(l.records=new Array,l[h.leaf]=!1),"last"==t?l.records.push(e):"number"==typeof t&&isFinite(t)?l.records.splice(t,0,e):l.records.splice(0,0,e),!0}l.records&&a(l.records)}};a(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(r){if(r)for(var s=0;s<r.length;s++){var n=r[s];if(n.uid==e){r.splice(s,1),t.recordids[e]&&delete t.recordids[e];var o=function(e){for(var i=0;i<e.length;i++){for(var r=e[i].uid,s=0;s<t.records.length;s++){var n=t.records[s];if(n.uid==r){t.records.splice(s,1);break}}e[i].records&&o(e[i].records)}};n.records&&o(n.records);for(var a=0;a<t.records.length;a++){var n=t.records[a];if(n.uid==e){t.records.splice(a,1);break}}return!0}n.records&&i(n.records)}};i(this.hierarchy)}else for(var r=0;r<this.records.length;r++){var s=this.records[r];if(s.uid==e)return this.records.splice(r,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,r=0;i>r;r++){var s=e.datafields[r];if(void 0!=s)if(void 0!=s.values){void 0==s.value&&(s.value=s.name),void 0==s.values.value&&(s.values.value=s.value);var n,o,a=new Array;t.pageable&&t.virtualmode?(n=t.pagenum*t.pagesize,o=n+t.pagesize,o>t.totalrecords&&(o=t.totalrecords)):t.virtualmode?(n=e.recordstartindex,o=e.recordendindex,o>t.totalrecords&&(o=t.totalrecords)):(n=0,o=t.records.length);for(var l=n;o>l;l++){var h=t.records[l],d=s.name,c=h[s.value];if(void 0!=a[c])h[d]=a[c];else for(var u=0;u<s.values.source.length;u++){var p=s.values.source[u],f=p[s.values.value];if(void 0==f&&(f=p.uid),f==c){var m=p[s.values.name];h[d]=m,a[c]=m;break}}}}else if(void 0!=s.value)for(var l=0;l<t.records.length;l++){var h=t.records[l];h[s.name]=h[s.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,r){var s=this,n=function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,s.totalrecords=t.totalrecords),t.records&&(s.records=t.records,s.cachedrecords=t.records),s.addForeignValues(i),r.uniqueDataFields){var n=s.getUniqueRecords(s.records,r.uniqueDataFields);s.records=n,s.cachedrecords=n}if(r.beforeLoadComplete){var o=r.beforeLoadComplete(s.records,data);void 0!=o&&(s.records=o,s.cachedrecords=o)}for(var a=0;a<s.records.length;a++){var l=s.records[a];void 0!=l&&void 0==l.uid&&(l.uid=s.getid(i.id,l,a))}s.buildHierarchy.call(s),e.isFunction(r.loadComplete)&&r.loadComplete(t),s.callDownloadComplete()};r.loadServerData(t,i,n)},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,r=t.length,s=new Array,n=new Array,o=0;i>o;o++){var a=e[o],l="";if(void 0!=a){for(var h=0;r>h;h++){var d=t[h];l+=a[d]+"_"}n[l]||(s[s.length]=a),n[l]=!0}}return s},getAggregatedData:function(t,i,r,s){var n=r;n||(n=this.records);var o={},a=new Array,l=n.length;if(0!=l&&void 0!=l){for(var h=0;l>h;h++)for(var d=n[h],c=0;c<t.length;c++){var u=t[c],p=d[u.name];if(u.aggregates){o[u.name]=o[u.name]||{},a[u.name]=a[u.name]||0,a[u.name]++;var f=function(t){for(obj in t){var i=o[u.name][obj];null==i&&(o[u.name][obj]=0,i=0),e.isFunction(t[obj])&&(i=t[obj](i,p,u.name,d,s)),o[u.name][obj]=i}},m=parseFloat(p);m=isNaN(m)?!1:!0,m&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=o[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==h?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void f(this);o[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=o[u.name][this];return null==e&&(e=0),o[u.name][this]=e,!0}"object"==typeof this&&f(this)})}}for(var c=0;c<t.length;c++){var u=t[c];if(o[u.name]||(o[u.name]={},e.each(u.aggregates,function(){o[u.name][this]=0})),void 0!=o[u.name].avg){var p=o[u.name].avg,g=a[u.name];o[u.name].avg=0===g||void 0==g?0:p/g}else void 0!=o[u.name].count&&(o[u.name].count=l);(o[u.name].stdev||o[u.name].stdevp||o[u.name]["var"]||o[u.name].varp)&&e.each(u.aggregates,function(){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var e=o[u.name][this],t=l,i=e/l,r=0,s=0;l>s;s++){var a=n[s],h=a[u.name];r+=(h-i)*(h-i)}var d="stdevp"==this||"varp"==this?t:t-1;0==d&&(d=1),"var"==this||"varp"==this?o[u.name][this]=r/d:("stdevp"==this||"stdev"==this)&&(o[u.name][this]=Math.sqrt(r/d))}}),u.formatStrings&&e.each(u.aggregates,function(t){var r=u.formatStrings[t];if(r)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var s=o[u.name][this];o[u.name][this]=e.jqx.dataFormat.formatnumber(s,r,i)}else if("object"==typeof this)for(obj in this){var s=o[u.name][obj];o[u.name][obj]=e.jqx.dataFormat.formatnumber(s,r,i)}})}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,r,s,n,o,a,l,h){var d=this;h||(h=0);for(var c=new Array,u=0;u<t.length;u++)c[u]=d.generatekey();i||(i="items"),r||(r="group"),n||(n="record"),a||(a="parentItem"),void 0===o&&(o="value");{var p=new Array,f=0,m=new Array,g=t.length;new Array}if(!l)var l=this.records;for(var v=l.length,w=function(t){var i=t;return s&&e.each(s,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},x=0;v>x;x++){var b=w(l[x]);id=b[d.uniqueId];var _=new Array,y=0;for(u=0;g>u;u++){var j=t[u],C=b[j];null!=C&&(_[y++]={value:C,hash:c[u]})}if(_.length!=g)break;for(var q=null,T="",S=-1,I=0;I<_.length;I++){S++;var k=_[I].value,B=_[I].hash;if(T=T+"_"+B+"_"+k,void 0==m[T]||null==m[T]){if(null==q){q={level:0},q[a]=null,q[r]=k,q[n]=b,q.expanded=void 0!==b.expanded?b.expanded:!1,o&&(q[o]=b[o]),q[i]=new Array;var H=p.length+h;(!this._source.id||"number"==typeof b.uid||isFinite(b.uid))&&(H="Row"+H),q.uid=H,p[f++]=q}else{var z={level:q.level+1};z[a]=q,z[r]=k,z[i]=new Array,z[n]=b,z.expanded=void 0!==b.expanded?b.expanded:!1,o&&(z[o]=b[o]),z.uid=q.uid+"_"+q[i].length,q[i][q[i].length]=z,q=z}m[T]=q}else q=m[T]}b&&(b.leaf=!0),null!=q?(null==this._source.id&&(b.uid=q.uid+"_"+q[i].length),b[a]=q,b.level=q.level+1,q[i][q[i].length]=b):b.uid||(b.uid=this.generatekey())}return p},getRecordsHierarchy:function(t,i,r,s,n){var o=new Array,a=this.records;if(n&&(a=n),0==this.records.length)return null;for(var l=null!=r?r:"items",h=[],d=a,c=d.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return s&&e.each(s,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},f=0;c>f;f++){var m=e.extend({},d[f]),g=m[i],v=m[t];h[v]={parentid:g,item:m}}for(var f=0;c>f;f++){var m=e.extend({},d[f]),g=m[i],v=m[t];if(void 0!=h[g]){var m={parentid:g,item:h[v].item},w=h[g].item;w[l]||(w[l]=[]);var x=w[l].length,b=m.item;u?void 0==b[u.parent]&&(b[u.parent]=w):void 0==b.parent&&(b.parent=w);var _=p(b);w[l][x]=_,h[g].item=w,h[v]=m}else{var b=h[v].item;u?void 0==b[u.parent]&&(b[u.parent]=null):void 0==b.parent&&(b.parent=null);var _=p(b);u?_[u.level]=0:_.level=0,o[o.length]=_}}if(0!=o.length){var y=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var r=t[i][l];r&&r.length>0?y(e+1,r):u?t[i][u.leaf]=!0:t[i].leaf=!0}};y(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,r){if(null==t||void 0==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var s=e(i).attr(t);if(null!=s&&s.toString().length>0)return s;var n=t.split(this.mapChar);if(n.length>1){for(var o=i,a=0;a<n.length;a++)void 0!=o&&(o=o[n[a]]);if(void 0!=o)return o}else if(void 0!=i[t])return i[t]}return r}var s=e(i).attr(t.name);if(null!=s&&s.toString().length>0)return s;if(t.map)try{var s=e(i).attr(t.map);if(null!=s&&s.toString().length>0)return s;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(l){return r}},loadjson:function(t,i,r){"string"==typeof t&&(t=e.parseJSON(t)),void 0==r.root&&(r.root=""),void 0==r.record&&(r.record="");var t=t||i;t||(t=[]);var s=this;if(""!=r.root){var n=r.root.split(s.mapChar);if(n.length>1){for(var o=t,a=0;a<n.length;a++)void 0!=o&&(o=o[n[a]]);t=o}else if(void 0!=t[r.root]?t=t[r.root]:e.each(t,function(){return this==r.root?(t=this,!1):void(void 0!=this[r.root]&&(t=this[r.root]))}),!t){var n=r.root.split(s.mapChar);if(n.length>0){for(var o=t,a=0;a<n.length;a++)void 0!=o&&(o=o[n[a]]);t=o}}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t.length)return void alert("JSON Parse error.");if(0==t.length)return void(this.totalrecords=0);var l=t.length;this.totalrecords=this.virtualmode?r.totalrecords||l:l,this.records=new Array,this.originaldata=new Array;var h=this.records,d=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(d=0,l=this.totalrecords);var c=0;this.virtualmode&&(d=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,c=d,d=0,l=this.totalrecords);var u=r.datafields?r.datafields.length:0;if(0==u){var p=t[0],f=new Array;for(obj in p){var m=obj;f[f.length]={name:m}}r.datafields=f,r.generatedfields=r.datafields,u=f.length}for(var g=d,v=d;l>v;v++){var w=t[v];if(void 0==w)break;if(!r.record||""==r.record||(w=w[r.record],void 0!=w)){var x=this.getid(r.id,w,v);if("object"==typeof x&&(x=v),!this.recordids[x]){this.recordids[x]=w;for(var b={},_=0;u>_;_++){var y=r.datafields[_],j="";if(void 0!=y&&null!=y){if(y.map){if(e.isFunction(y.map))j=y.map(w);else{var n=y.map.split(s.mapChar);if(n.length>0){for(var C=w,a=0;a<n.length;a++)void 0!=C&&(C=C[n[a]]);j=C}else j=w[y.map]}void 0!=j&&null!=j?j=this.getvaluebytype(j,y):void 0==j&&null!=j&&(j="")}if(""==j&&!y.map&&(j=w[y.name],void 0==j&&null!=j&&(j=""),void 0!=y.value&&void 0!=j)){var q=j[y.value];void 0!=q&&(j=q)}if(j=this.getvaluebytype(j,y),void 0!=y.displayname?b[y.displayname]=j:b[y.name]=j,"array"===y.type){var T=function(t){if(t)for(var i=0;i<t.length;i++){var n=t[i];if(n)for(var o=0;u>o;o++){var a=r.datafields[o],l="";if(void 0!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(n);else{var h=a.map.split(s.mapChar);if(h.length>0){for(var d=n,c=0;c<h.length;c++)void 0!=d&&(d=d[h[c]]);l=d}else l=n[a.map]}void 0!=l&&null!=l?l=this.getvaluebytype(l,a):void 0==l&&null!=l&&(l="")}if(""==l&&!a.map&&(l=n[a.name],void 0==l&&null!=l&&(l=""),void 0!=a.value&&void 0!=l)){var p=l[a.value];void 0!=p&&(l=p)}l=this.getvaluebytype(l,a),void 0!=a.displayname?n[a.displayname]=l:n[a.name]=l,"array"===a.type&&T.call(this,l)}}}};T.call(this,j)}}}(r.recordendindex<=0||d<r.recordendindex)&&(h[c+g]=e.extend({},b),h[c+g].uid=x,this.originaldata[c+g]=e.extend({},h[v]),g++)}}}this.records=h,this.cachedrecords=this.records},loadxml:function(t,i,r){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),void 0==r.root&&(r.root=""),void 0==r.record&&(r.record="");var t;t=e.jqx.browser.msie&&i&&void 0!=i.xml?e(r.root+" "+r.record,e.parseXML(i.xml)):t||e(r.root+" "+r.record,i),t||(t=[]);var s=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?r.totalrecords||s:s,this.records=new Array,this.originaldata=new Array;var n=this.records,o=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(o=0,s=this.totalrecords);var a=0;this.virtualmode&&(o=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,a=o,o=0,s=this.totalrecords);var l=r.datafields?r.datafields.length:0;if(0==l){var h=t[0],d=new Array;for(obj in h){var c=obj;d[d.length]={name:c}}r.datafields=d,r.generatedfields=r.datafields,l=d.length}for(var u=o,p=!1,f=o;s>f;f++){var m=t[f];if(void 0==m)break;var g=this.getid(r.id,m,f);if(!this.recordids[g]){this.recordids[g]=m;var v={},w=!1;r.hierarchy&&r.hierarchy.root&&(w=!0);for(var x=0;l>x;x++){var b=r.datafields[x],_="";if(void 0!=b&&null!=b){if(b.map)if(e.isFunction(b.map))_=b.map(m);else{var y=b.map.indexOf("[");if(0>y)if(_=e(b.map,m),1==_.length)_=_.text();else{p=!0;for(var j=new Array,C=0;C<_.length;C++)j.push(e(_[C]).text());_=j,w&&j.length>0&&(_=j[0])}else{var q=b.map.substring(0,y-1),T=b.map.indexOf("]"),S=b.map.substring(y+1,T);_=e(q,m).attr(S),void 0==_&&(_=e(m).attr(S)),void 0==_&&(_="")}""==_&&(_=e(m).attr(b.map),void 0==_&&(_=""))}if(""==_){if(_=e(b.name,m),1==_.length)_=_.text();else{for(var j=new Array,C=0;C<_.length;C++)j.push(e(_[C]).text());_=j,w&&j.length>0&&(_=j[0])}""==_&&(_=e(m).attr(b.name),void 0==_&&(_="")),""==_&&m.nodeName&&m.nodeName==b.name&&m.firstChild&&(_=e(m.firstChild).text())}_=this.getvaluebytype(_,b),void 0!=b.displayname?v[b.displayname]=_:v[b.name]=_}}(r.recordendindex<=0||o<r.recordendindex)&&(n[a+u]=e.extend({},v),n[a+u].uid=g,this.originaldata[a+u]=e.extend({},n[f]),u++)}}if(r.hierarchy&&r.hierarchy.root)for(var f=o;s>f;f++){var m=t[f],I=n[f];if(e(m).parent().length>0){var g=this.getid(r.id,e(m).parents(r.hierarchy.record+":first"));I.parentuid=g}else I.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var r=i.rowDelimiter||this.rowDelimiter||"\n",s=t.split(r),n=s.length,o=t.split("\r");1==n&&o.length>1&&(s=o,n=s.length),this.totalrecords=this.virtualmode?i.totalrecords||n:n,this.records=new Array,this.originaldata=new Array;var a=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,n=this.totalrecords);var h=0;this.virtualmode&&(l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,h=l,l=0,n=this.totalrecords);var d=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"	":",");for(var u=l;n>u;u++){var p=s[u],f=null;if(!this.recordids[f]){null==i.id&&(f=u,this.recordids[f]=p);for(var m={},g=s[u].split(c),v=0;d>v;v++)if(!(v>=g.length)){var w=i.datafields[v],x=g[v];w.map&&e.isFunction(w.map)&&(x=w.map(p)),w.type&&(x=this.getvaluebytype(x,w));var b=w.map||w.name||v.toString();m[b]=x,null!=i.id&&i.id===w.name&&(f=x,this.recordids[f]=p)}null==f&&(f=u),a[h+u]=e.extend({},m),a[h+u].uid=f,this.originaldata[h+u]=e.extend({},a[u])}}this.records=a,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var r=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var s=0;s<t.length;s++)t[s]=this.getvaluebytype(t[s],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var n=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(n=o)}t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n,null==t&&(t=r)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=r)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=r)}else("bool"==i.type||"boolean"==i.type)&&(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t&&""!==t?!1:"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return"undefined"==typeof e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t):!0},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){var e={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return e},expandFormat:function(e,t){t=t||"F";var i,r=e.patterns,s=t.length;if(1===s){if(i=r[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===s&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,r=e.getTime(),s=0,n=t.length;n>s;s++)if(i=t[s].start,null===i||r>=i)return s;return 0},toUpper:function(e){return e.split(" ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,r=e.length;r>i;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,r){var s=e.getFullYear();return!r&&t.eras&&(s-=t.eras[i].offset),s},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var r,s=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr),this.toUpperArray(s.namesShort)]),t=t.toUpperCase(),i?(r=this.arrayIndexOf(n[1],t),-1===r&&(r=this.arrayIndexOf(n[2],t))):r=this.arrayIndexOf(n[0],t),r},getMonthIndex:function(e,t,i){var r=e.months,s=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen;n||(e._upperMonths=n=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)]),t=this.toUpper(t);var a=this.arrayIndexOf(i?n[1]:n[0],t);return 0>a&&(a=this.arrayIndexOf(i?o[1]:o[0],t)),a},appendPreOrPostMatch:function(e,t){for(var i=0,r=!1,s=0,n=e.length;n>s;s++){var o=e.charAt(s);switch(o){case"'":r?t.push("'"):i++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(o),r=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if((void 0==i||null==i||""==i)&&(i=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var r;t.length>1&&(r=parseInt(t.slice(1),10));var s={},n=t.charAt(0).toUpperCase();switch(s.thousandsSeparator=i.thousandsseparator,s.decimalSeparator=i.decimalseparator,n){case"D":case"d":case"F":case"f":s.decimalPlaces=r;break;case"N":case"n":s.decimalPlaces=0;break;case"C":case"c":s.decimalPlaces=r,"before"==i.currencysymbolposition?s.prefix=i.currencysymbol:s.suffix=i.currencysymbol;
break;case"P":case"p":s.suffix=i.percentsymbol,s.decimalPlaces=r;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var o,a=0>e,l=e+"",h=s.decimalSeparator?s.decimalSeparator:".";if(this.isNumber(s.decimalPlaces)){var d=s.decimalPlaces,c=Math.pow(10,d);if(l=(e*c).toFixed(0)/c+"",o=l.lastIndexOf("."),d>0)for(0>o?(l+=h,o=l.length-1):"."!==h&&(l=l.replace(".",h));l.length-1-o<d;)l+="0"}else{var l=e+"";o=l.lastIndexOf("."),o>0&&void 0==d&&"."!==h&&(l=l.replace(".",h))}if(s.thousandsSeparator){var u=s.thousandsSeparator;o=l.lastIndexOf(h),o=o>-1?o:l.length;for(var p=l.substring(o),f=-1,m=o;m>0;m--)f++,f%3===0&&m!==o&&(!a||m>1)&&(p=u+p),p=l.charAt(m-1)+p;l=p}return l=s.prefix?s.prefix+l:l,l=s.suffix?l+s.suffix:l}return e},tryparsedate:function(e,t){(void 0==t||null==t)&&(t=this.defaultcalendar());var i=this;if(""==e)return null;if(null==e||e.substring||(e=e.toString()),null!=e&&"/Date("==e.substring(0,6)){var r=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,s=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==s){var n=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),s=null;n&&(s=new Date(1*n[1]+36e5*n[2]+6e4*n[3]))}if(null==s||"Invalid Date"==s||isNaN(s)){var o=r.exec(e);if(o){var a=new Date(parseInt(o[1]));if(o[2]){var l=parseInt(o[3]);"-"===o[2]&&(l=-l);var h=a.getUTCMinutes();a.setUTCMinutes(h-l)}if(!isNaN(a.valueOf()))return a}}return s}patterns=t.patterns;for(prop in patterns)if(s=i.parsedate(e,patterns[prop],t)){if("ISO"==prop){var d=i.parsedate(e,patterns.ISO2,t);if(d)return d}return s}if(null!=e){for(var d=null,c=[":","/","-"],u=!0,p=0;p<c.length;p++)-1!=e.indexOf(c[p])&&(u=!1);if(u){var f=new Number(e);if(!isNaN(f))return new Date(f)}}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var r=i[t];if(r)return r}else e._parseRegExp=i={};for(var s,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,h=0,d=this.getTokenRegExp();null!==(s=d.exec(n));){var c=n.slice(l,s.index);if(l=d.lastIndex,h+=this.appendPreOrPostMatch(c,o),h%2)o.push(s[0]);else{var u,p=s[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),a.push(s[0])}}this.appendPreOrPostMatch(n.slice(l),o),o.push("$");var m=o.join("").replace(/\s+/g,"\\s+"),g={regExp:m,groups:a};return i[t]=g},outOfRange:function(e,t,i){return t>e||e>i},expandYear:function(e,t){var i=new Date,r=this.getEra(i);if(100>t){var s=e.twoDigitYearMax;s="string"==typeof s?(new Date).getFullYear()%100+parseInt(s,10):s;var n=this.getEraYear(i,e,r);t+=n-n%100,t>s&&(t-=100)}return t},parsedate:function(e,t,i){(void 0==i||null==i)&&(i=this.defaultcalendar()),e=this.trim(e);var r=i,s=this.getparseregexp(r,t),n=new RegExp(s.regExp).exec(e);if(null===n)return null;for(var o,a=s.groups,l=null,h=null,d=null,c=null,u=null,p=0,f=0,m=0,g=0,v=null,w=!1,x=0,b=a.length;b>x;x++){var _=n[x+1];if(_){var y=a[x],j=y.length,C=parseInt(_,10);switch(y){case"dd":case"d":if(c=C,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(r,_,3===j),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(d=C-1,this.outOfRange(d,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=4>j?this.expandYear(r,C):C,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(p=C,12===p&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=C,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(f=C,this.outOfRange(f,0,59))return null;break;case"s":case"ss":if(m=C,this.outOfRange(m,0,59))return null;break;case"tt":case"t":if(w=r.PM&&(_===r.PM[0]||_===r.PM[1]||_===r.PM[2]),!w&&(!r.AM||_!==r.AM[0]&&_!==r.AM[1]&&_!==r.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=C*Math.pow(10,3-j),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(r,_,3===j),this.outOfRange(u,0,6))return null;break;case"zzz":var q=_.split(/:/);if(2!==q.length)return null;if(o=parseInt(q[0],10),this.outOfRange(o,-12,13))return null;var T=parseInt(q[1],10);if(this.outOfRange(T,0,59))return null;v=60*o+(this.startsWith(_,"-")?-T:T);break;case"z":case"zz":if(o=C,this.outOfRange(o,-12,13))return null;v=60*o;break;case"g":case"gg":var S=_;if(!S||!r.eras)return null;S=trim(S.toLowerCase());for(var I=0,k=r.eras.length;k>I;I++)if(S===r.eras[I].name.toLowerCase()){l=I;break}if(null===l)return null}}}var B,H=new Date,z=r.convert;if(B=H.getFullYear(),null===h?h=B:r.eras&&(h+=r.eras[l||0].offset),null===d&&(d=0),null===c&&(c=1),z){if(H=z.toGregorian(h,d,c),null===H)return null}else{if(H.setFullYear(h,d,c),H.getDate()!==c)return null;if(null!==u&&H.getDay()!==u)return null}if(w&&12>p&&(p+=12),H.setHours(p,f,m,g),null!==v){var L=H.getMinutes()-(v+H.getTimezoneOffset());H.setHours(H.getHours()+parseInt(L/60,10),L%60)}return H},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){function r(e,t){var i,r=e+"";return t>1&&r.length<t?(i=u[t-2]+r,i.substr(i.length-t,t)):i=r}function s(e,t){if(c)return c[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if((void 0==i||null==i)&&(i=this.defaultcalendar()),"string"==typeof e)return e;var n=e.toString()+"_"+t;if(this.datescache&&this.datescache[n])return this.datescache[n];if(!t||!t.length||"i"===t){var o;return o=this.formatDate(e,i.patterns.F,i)}var a=i.eras,l="s"===t;t=this.expandFormat(i,t),o=[];for(var h,d,c,u=["0","00","000"],p=0,f=this.getTokenRegExp();;){var m=f.lastIndex,g=f.exec(t),v=t.slice(m,g?g.index:t.length);if(p+=this.appendPreOrPostMatch(v,o),!g)break;if(p%2)o.push(g[0]);else{var w=g[0],x=w.length;switch(w){case"ddd":case"dddd":var b=3===x?i.days.namesAbbr:i.days.names;o.push(b[e.getDay()]);break;case"d":case"dd":d=!0,o.push(r(s(e,2),x));break;case"MMM":case"MMMM":var _=s(e,1);o.push(i.months[3===x?"namesAbbr":"names"][_]);break;case"M":case"MM":o.push(r(s(e,1)+1,x));break;case"y":case"yy":case"yyyy":_=this.getEraYear(e,i,this.getEra(e,a),l),4>x&&(_%=100),o.push(r(_,x));break;case"h":case"hh":h=e.getHours()%12,0===h&&(h=12),o.push(r(h,x));break;case"H":case"HH":o.push(r(e.getHours(),x));break;case"m":case"mm":o.push(r(e.getMinutes(),x));break;case"s":case"ss":o.push(r(e.getSeconds(),x));break;case"t":case"tt":_=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",o.push(1===x?_.charAt(0):_);break;case"f":case"ff":case"fff":o.push(r(e.getMilliseconds(),3).substr(0,x));break;case"z":case"zz":h=e.getTimezoneOffset()/60,o.push((0>=h?"+":"-")+r(Math.floor(Math.abs(h)),x));break;case"zzz":h=e.getTimezoneOffset()/60,o.push((0>=h?"+":"-")+r(Math.floor(Math.abs(h)),2)+":"+r(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&o.push(i.eras[this.getEra(e,a)].name);break;case"/":o.push(i["/"]);break;default:throw"Invalid date format pattern '"+w+"'."}}}var y=o.join("");return this.datescache||(this.datescache=new Array),this.datescache[n]=y,y}}),e.jqx.data={};var l,h,d=/#.*$/,c=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,u=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,f=/^\/\//,m=/\?/,g=/([?&])_=[^&]*/,v=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,w=/\s+/,x=(e.fn.load,{}),b={},_=["*/"]+["*"];try{h=location.href}catch(y){h=document.createElement("a"),h.href="",h=h.href}l=v.exec(h.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?r(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),r(t,i),t},ajaxSettings:{url:h,isLocal:u.test(l[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":_},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(x),ajaxTransport:t(b),ajax:function(t,r){function o(t,i,r,o){var l,d,c,u,p,f=i;2!==D&&(D=2,j&&clearTimeout(j),y=void 0,h=o||"",E.readyState=t>0?4:0,r&&(u=s(S,E,r)),t>=200&&300>t||304===t?(S.ifModified&&(p=E.getResponseHeader("Last-Modified"),p&&(e.lastModified[a]=p),p=E.getResponseHeader("Etag"),p&&(e.etag[a]=p)),304===t?(f="notmodified",l=!0):(l=n(S,u),f=l.state,d=l.data,c=l.error,l=!c)):(c=f,(!f||t)&&(f="error",0>t&&(t=0))),E.status=t,E.statusText=(i||f)+"",l?B.resolveWith(I,[d,f,E]):B.rejectWith(I,[E,f,c]),E.statusCode(z),z=void 0,q&&k.trigger("ajax"+(l?"Success":"Error"),[E,S,l?d:c]),H.fireWith(I,[E,f]),q&&(k.trigger("ajaxComplete",[E,S]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0),r=r||{};var a,h,u,y,j,C,q,T,S=e.jqx.data.ajaxSetup({},r),I=S.context||S,k=I!==S&&(I.nodeType||I instanceof e)?e(I):e.event,B=e.Deferred(),H=e.Callbacks("once memory"),z=S.statusCode||{},L={},P={},D=0,A="canceled",E={readyState:0,setRequestHeader:function(e,t){if(!D){var i=e.toLowerCase();e=P[i]=P[i]||e,L[e]=t}return this},getAllResponseHeaders:function(){return 2===D?h:null},getResponseHeader:function(e){var t;if(2===D){if(!u)for(u={};t=c.exec(h);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return D||(S.mimeType=e),this},abort:function(e){return e=e||A,y&&y.abort(e),o(0,e),this}};if(B.promise(E),E.success=E.done,E.error=E.fail,E.complete=H.add,E.statusCode=function(e){if(e){var t;if(2>D)for(t in e)z[t]=[z[t],e[t]];else t=e[E.status],E.always(t)}return this},S.url=((t||S.url)+"").replace(d,"").replace(f,l[1]+"//"),S.dataTypes=e.trim(S.dataType||"*").toLowerCase().split(w),null==S.crossDomain&&(C=v.exec(S.url.toLowerCase()),S.crossDomain=!(!C||C[1]===l[1]&&C[2]===l[2]&&(C[3]||("http:"===C[1]?80:443))==(l[3]||("http:"===l[1]?80:443)))),S.data&&S.processData&&"string"!=typeof S.data&&(S.data=e.param(S.data,S.traditional)),i(x,S,r,E),2===D)return E;if(q=S.global,S.type=S.type.toUpperCase(),S.hasContent=!p.test(S.type),q&&0===e.active++&&e.event.trigger("ajaxStart"),!S.hasContent&&(S.data&&(S.url+=(m.test(S.url)?"&":"?")+S.data,delete S.data),a=S.url,S.cache===!1)){var M=e.now(),O=S.url.replace(g,"$1_="+M);S.url=O+(O===S.url?(m.test(S.url)?"&":"?")+"_="+M:"")}(S.data&&S.hasContent&&S.contentType!==!1||r.contentType)&&E.setRequestHeader("Content-Type",S.contentType),S.ifModified&&(a=a||S.url,e.lastModified[a]&&E.setRequestHeader("If-Modified-Since",e.lastModified[a]),e.etag[a]&&E.setRequestHeader("If-None-Match",e.etag[a])),E.setRequestHeader("Accept",S.dataTypes[0]&&S.accepts[S.dataTypes[0]]?S.accepts[S.dataTypes[0]]+("*"!==S.dataTypes[0]?", "+_+"; q=0.01":""):S.accepts["*"]);for(T in S.headers)E.setRequestHeader(T,S.headers[T]);if(S.beforeSend&&(S.beforeSend.call(I,E,S)===!1||2===D))return E.abort();A="abort";for(T in{success:1,error:1,complete:1})E[T](S[T]);if(y=i(b,S,r,E)){E.readyState=1,q&&k.trigger("ajaxSend",[E,S]),S.async&&S.timeout>0&&(j=setTimeout(function(){E.abort("timeout")},S.timeout));try{D=1,y.send(L,o)}catch(N){if(!(2>D))throw N;o(-1,N)}}else o(-1,"No Transport");return E},active:0,lastModified:{},etag:{}});var j=[],C=/\?/,q=/(=)\?(?=&|$)|\?\?/,T=e.now();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=j.pop()||e.expando+"_"+T++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,r){var s,n,o,a=t.data,l=t.url,h=t.jsonp!==!1,d=h&&q.test(l),c=h&&!d&&"string"==typeof a&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&q.test(a);return"jsonp"===t.dataTypes[0]||d||c?(s=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,n=window[s],d?t.url=l.replace(q,"$1"+s):c?t.data=a.replace(q,"$1"+s):h&&(t.url+=(C.test(l)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return o||e.error(s+" was not called"),o[0]},t.dataTypes[0]="json",window[s]=function(){o=arguments},r.always(function(){window[s]=n,t[s]&&(t.jsonpCallback=i.jsonpCallback,j.push(s)),o&&e.isFunction(n)&&n(o[0]),o=n=void 0}),"script"):void 0}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(r,s){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,r||s(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var S,I=window.ActiveXObject?function(){for(var e in S)S[e](0,1)}:!1,k=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&o()||a()}:o,function(t){e.extend(e.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(e.jqx.data.ajaxSettings.xhr()),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||e.support.cors){var i;return{send:function(r,s){var n,o,a=t.xhr();if(t.username?a.open(t.type,t.url,t.async,t.username,t.password):a.open(t.type,t.url,t.async),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(o in r)a.setRequestHeader(o,r[o])}catch(l){}a.send(t.hasContent&&t.data||null),i=function(r,o){var l,h,d,c,u;try{if(i&&(o||4===a.readyState))if(i=void 0,n&&(a.onreadystatechange=e.noop,I&&delete S[n]),o)4!==a.readyState&&a.abort();else{l=a.status,d=a.getAllResponseHeaders(),c={},u=a.responseXML,u&&u.documentElement&&(c.xml=u);try{c.text=a.responseText}catch(p){}try{h=a.statusText}catch(p){h=""}l||!t.isLocal||t.crossDomain?1223===l&&(l=204):l=c.text?200:404}}catch(f){o||s(-1,f)}c&&s(l,h,c,d)},t.async?4===a.readyState?setTimeout(i,0):(n=++k,I&&(S||(S={},e(window).unload(I)),S[n]=i),a.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=1,i=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL"],o=new Array,a=new Array;this.evaluate=function(e){for(var i=!0,r=0;r<o.length;r++){var s=o[r].evaluate(e);i=0==r?s:a[r]==t||"or"==a[r]?i||s:i&&s}return i},this.getfilterscount=function(){return o.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":r=t;break;case"stringfilter":i=t;break;case"datefilter":s=t;break;case"booleanfilter":n=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=r.slice(0);break;case"stringfilter":t=i.slice(0);break;case"datefilter":t=s.slice(0);break;case"booleanfilter":t=n.slice(0)}return t};var l=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,r,s,n){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new c(t,i.toUpperCase());case"stringfilter":return new h(t,i.toUpperCase());case"datefilter":return new u(t,i.toUpperCase(),s,n);case"booleanfilter":return new d(t,i.toUpperCase());case"custom":return new p(t,i.toUpperCase(),r)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<o.length;t++){var i={value:o[t].filtervalue,condition:o[t].comparisonoperator,operator:a[t],type:o[t].type};o[t].data&&(i.id=o[t].data),e[t]=i}return e},this.addfilter=function(e,t){o[o.length]=t,t.key=l(),a[a.length]=e},this.removefilter=function(e){for(var t=0;t<o.length;t++)if(o[t].key==e.key){o.splice(t,1),a.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:0>e||e>o.length?null:a[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:0>e||e>o.length?null:void(a[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:0>e||e>o.length?null:o[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:0>e||e>o.length?null:(t.key=l(),void(o[e]=t))},this.clear=function(){o=new Array,a=new Array};var h=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,r=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NULL"==r)return!0;if("EQUAL"==r&&t==i)return!0;if("NOT_EQUAL"==r&&t!=i)return!0;if("EMPTY"!=r)return!1;if(""==t)return!0}var s="";try{s=t.toString()}catch(n){return!0}var o=function(t,i){switch(r){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},a=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=o(s,i);if(l)return l;var h=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,d=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array,p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);var m=i.indexOf(" ")>=0?i.split(" "):new Array;if(m.length>0)for(var f=0;f<m.length;f++)m[f]=e.trim(m[f]);if(h=h.concat(m),h=h.concat(c),d=d.concat(p),d=d.concat(u),h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" OR ")>=0&&a.push(h[f]);if(d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" AND ")>=0&&a.push(d[f]);for(var g=void 0,v=0;v<a.length;v++){var t=a[v],l=o(s,t),w=v<h.length?"and":"or";g=void 0==g?l:"or"==w?g||l:g&&l}return g}return o(s,i)}},d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==i?!0:!1;var r=e;switch(i){case"EQUAL":return r==t||r.toString()==t.toString();case"NOT_EQUAL":return r!=t&&r.toString()!=t.toString();default:return!1}}},c=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,r=this.comparisonoperator;if(null===t||void 0===t||""===t){if("NOT_NULL"==r)return!1;if("NULL"==r)return!0;switch(r){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==r)return!1;if("NOT_NULL"==r)return!0;var s=t;try{s=parseFloat(s)}catch(n){if(""!=t.toString())return!1}var o=function(t,i){switch(r){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},a=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=o(s,i);if(l)return l;i=i.toString();var h=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,d=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array;h=h.concat(c),d=d.concat(u);var p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);if(d=d.concat(p),h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" OR ")>=0&&a.push(h[f]);if(d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" AND ")>=0&&a.push(d[f]);for(var m=void 0,g=0;g<a.length;g++){var t=a[g];if(t&&t.indexOf&&t.indexOf("..")>=0){var v=t.toString().split("..");2==v.length&&(l=s>=v[0]&&s<=v[1])}else var l=o(s,t);var w=g<h.length?"and":"or";m=void 0==m?l:"or"==w?m||l:m&&l}return m}return i&&i.indexOf&&i.indexOf("..")>=0&&(a=i.toString().split(".."),2==a.length)?s>=a[0]&&s<=a[1]:o(s,i)}},u=function(t,i,r,s){if(this.filtervalue=t,this.type="datefilter",void 0!=r&&void 0!=s){var n=e.jqx.dataFormat.parsedate(t,r,s);if(null!=n)this.filterdate=n;else{var o=e.jqx.dataFormat.tryparsedate(t,s);null!=o&&(this.filterdate=o)}}else{var a=new Date(t);this.filterdate="NaN"==a.toString()||"Invalid Date"==a.toString()?e.jqx.dataFormat.tryparsedate(t):a}if(!this.filterdate){var a=new Date(t);this.filterdate="NaN"==a.toString()||"Invalid Date"==a.toString()?e.jqx.dataFormat.tryparsedate(t):a}this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,n=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NOT_NULL"==n)return!1;if("NULL"==n)return!0;switch(n){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==n)return!1;if("NOT_NULL"==n)return!0;var o=new Date;o.setFullYear(1900,0,1),o.setHours(12,0,0,0);try{var a=new Date(t);t="NaN"==a.toString()||"Invalid Date"==a.toString()?e.jqx.dataFormat.tryparsedate(t):a,o=t;var l=!1;if(void 0!=r&&void 0!=s&&(r.indexOf("t")>=0||r.indexOf("T")>=0||r.indexOf(":")>=0||r.indexOf("f")>=0)&&(l=!0,i&&-1==i.toString().indexOf(":"))){var h=e.jqx.dataFormat.tryparsedate(i.toString()+":00",s);null!=h&&(this.filterdate=h)}l||(o.setHours(0),o.setMinutes(0),o.setSeconds(0))}catch(d){if(""!=t.toString())return!1}if(null!=this.filterdate)i=this.filterdate;else if(i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var c=new Date(o);c.setHours(12,0,0,0);for(var u=i.split(":"),p=0;p<u.length;p++)0==p&&c.setHours(u[p]),1==p&&c.setMinutes(u[p]),2==p&&c.setSeconds(u[p]);i=c}l&&i&&i.setFullYear&&o&&o.getFullYear&&-1==r.indexOf("d")&&-1==r.indexOf("M")&&-1==r.indexOf("y")&&i.setFullYear(o.getFullYear(),o.getMonth(),o.getDate());var f=function(t,i){switch(null==t&&(t=""),n){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},m=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var h=f(o,i);if(h)return h;var g=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,v=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,w=i.indexOf(" and ")>=0?i.split(" and "):new Array,x=i.indexOf(" or ")>=0?i.split(" or "):new Array;g=g.concat(w),v=v.concat(x);var b=i.indexOf("|")>=0?i.split("|"):new Array;if(b.length>0)for(var p=0;p<b.length;p++)b[p]=e.trim(b[p]);if(v=v.concat(b),g.length>0)for(var p=0;p<g.length;p++)!g[p].indexOf(" OR ")>=0&&m.push(g[p]);if(v.length>0)for(var p=0;p<v.length;p++)!v[p].indexOf(" AND ")>=0&&m.push(v[p]);for(var _=void 0,y=0;y<m.length;y++){var t=m[y];if(t&&t.indexOf&&t.indexOf("..")>=0){var j=t.toString().split("..");2==j.length&&(h=o>=j[0]&&o<=j[1])}else var h=f(o,t);var C=y<g.length?"and":"or";_=void 0==_?h:"or"==C?_||h:_&&h}return _}return i&&i.indexOf&&i.indexOf("..")>=0&&(m=i.toString().split(".."),2==m.length)?o>=m[0]&&o<=m[1]:f(o,i)}},p=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e){return i(this.filtervalue,e,this.comparisonoperator)}}},e.jqx.longInt=function(){var e=this;e.longObj=new Object;var t=e.longObj;t.math=new Object,t.math.Long=new Object,t.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.math.Long.IntCache={},t.math.Long.fromInt=function(e){if(e>=-128&&128>e){var i=t.math.Long.IntCache[e];if(i)return i}var r=new t.math.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(t.math.Long.IntCache[e]=r),r},t.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.math.Long.ZERO:e<=-t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MIN_VALUE:e+1>=t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MAX_VALUE:0>e?t.math.Long.fromNumber(-e).negate():new t.math.Long(e%t.math.Long.TWO_PWR_32_DBL_|0,e/t.math.Long.TWO_PWR_32_DBL_|0)},t.math.Long.fromBits=function(e,i){return new t.math.Long(e,i)},t.math.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var r=i||10;if(2>r||r>36)throw new Error("radix out of range: "+r);if("-"===e.charAt(0))return t.math.Long.fromString(e.substring(1),r).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var s=t.math.Long.fromNumber(Math.pow(r,8)),n=t.math.Long.ZERO,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+a),r);if(8>a){var h=t.math.Long.fromNumber(Math.pow(r,a));n=n.multiply(h).add(t.math.Long.fromNumber(l))}else n=n.multiply(s),n=n.add(t.math.Long.fromNumber(l))}return n},t.math.Long.TWO_PWR_16_DBL_=65536,t.math.Long.TWO_PWR_24_DBL_=1<<24,t.math.Long.TWO_PWR_32_DBL_=t.math.Long.TWO_PWR_16_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_31_DBL_=t.math.Long.TWO_PWR_32_DBL_/2,t.math.Long.TWO_PWR_48_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_64_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_32_DBL_,t.math.Long.TWO_PWR_63_DBL_=t.math.Long.TWO_PWR_64_DBL_/2,t.math.Long.ZERO=t.math.Long.fromInt(0),t.math.Long.ONE=t.math.Long.fromInt(1),t.math.Long.NEG_ONE=t.math.Long.fromInt(-1),t.math.Long.MAX_VALUE=t.math.Long.fromBits(-1,2147483647),t.math.Long.MIN_VALUE=t.math.Long.fromBits(0,-2147483648),t.math.Long.TWO_PWR_24_=t.math.Long.fromInt(1<<24),t.math.Long.prototype.toInt=function(){return this.lowBits},t.math.Long.prototype.toNumber=function(){return this.highBits*t.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.math.Long.prototype.toString=function(i){var r=i||10;if(2>r||r>36)throw new Error("radix out of range: "+r);if(this.isZero())return"0";var s,n;if(this.isNegative()){if(this.equals(t.math.Long.MIN_VALUE)){var o=t.math.Long.fromNumber(r),a=this.div(o);return s=a.multiply(o).subtract(this),a.toString(r)+s.toInt().toString(r)}switch(r){case 2:case 8:case 16:return n="-"+this.negate().toString(2),e._negativeBinary(n,r);default:return n="-"+this.negate().toString(r)}}var l=t.math.Long.fromNumber(Math.pow(r,6));for(s=this,n="";;){var h=s.div(l),d=s.subtract(h.multiply(l)).toInt(),c=d.toString(r);if(s=h,s.isZero())return c+n;for(;c.length<6;)c="0"+c;n=""+c+n}},t.math.Long.prototype.getHighBits=function(){return this.highBits},t.math.Long.prototype.getLowBits=function(){return this.lowBits},t.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.math.Long.TWO_PWR_32_DBL_+this.lowBits},t.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0===(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.math.Long.prototype.isNegative=function(){return this.highBits<0},t.math.Long.prototype.isOdd=function(){return 1===(1&this.lowBits)},t.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.math.Long.prototype.negate=function(){return this.equals(t.math.Long.MIN_VALUE)?t.math.Long.MIN_VALUE:this.not().add(t.math.Long.ONE)},t.math.Long.prototype.add=function(e){var i=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,n=65535&this.lowBits,o=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=n+h,u+=p>>>16,p&=65535,u+=s+l,c+=u>>>16,u&=65535,c+=r+a,d+=c>>>16,c&=65535,d+=i+o,d&=65535,t.math.Long.fromBits(u<<16|p,d<<16|c)},t.math.Long.prototype.subtract=function(e){return this.add(e.negate())},t.math.Long.prototype.multiply=function(e){if(this.isZero())return t.math.Long.ZERO;if(e.isZero())return t.math.Long.ZERO;if(this.equals(t.math.Long.MIN_VALUE))return e.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(e.equals(t.math.Long.MIN_VALUE))return this.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.math.Long.TWO_PWR_24_)&&e.lessThan(t.math.Long.TWO_PWR_24_))return t.math.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,n=65535&this.lowBits,o=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=n*h,u+=p>>>16,p&=65535,u+=s*h,c+=u>>>16,u&=65535,u+=n*l,c+=u>>>16,u&=65535,c+=r*h,d+=c>>>16,c&=65535,c+=s*l,d+=c>>>16,c&=65535,c+=n*a,d+=c>>>16,c&=65535,d+=i*h+r*l+s*a+n*o,d&=65535,t.math.Long.fromBits(u<<16|p,d<<16|c)
},t.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.math.Long.ZERO;var i,r;if(this.equals(t.math.Long.MIN_VALUE)){if(e.equals(t.math.Long.ONE)||e.equals(t.math.Long.NEG_ONE))return t.math.Long.MIN_VALUE;if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ONE;var s=this.shiftRight(1);if(i=s.div(e).shiftLeft(1),i.equals(t.math.Long.ZERO))return e.isNegative()?t.math.Long.ONE:t.math.Long.NEG_ONE;r=this.subtract(e.multiply(i));var n=i.add(r.div(e));return n}if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var o=t.math.Long.ZERO;for(r=this;r.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),l=48>=a?1:Math.pow(2,a-48),h=t.math.Long.fromNumber(i),d=h.multiply(e);d.isNegative()||d.greaterThan(r);)i-=l,h=t.math.Long.fromNumber(i),d=h.multiply(e);h.isZero()&&(h=t.math.Long.ONE),o=o.add(h),r=r.subtract(d)}return o},t.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.math.Long.prototype.not=function(){return t.math.Long.fromBits(~this.lowBits,~this.highBits)},t.math.Long.prototype.and=function(e){return t.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.math.Long.prototype.or=function(e){return t.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.math.Long.prototype.xor=function(e){return t.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.math.Long.prototype.shiftLeft=function(e){if(e&=63,0===e)return this;var i=this.lowBits;if(32>e){var r=this.highBits;return t.math.Long.fromBits(i<<e,r<<e|i>>>32-e)}return t.math.Long.fromBits(0,i<<e-32)},t.math.Long.prototype.shiftRight=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var r=this.lowBits;return t.math.Long.fromBits(r>>>e|i<<32-e,i>>e)}return t.math.Long.fromBits(i>>e-32,i>=0?0:-1)},t.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var r=this.lowBits;return t.math.Long.fromBits(r>>>e|i<<32-e,i>>>e)}return 32===e?t.math.Long.fromBits(i,0):t.math.Long.fromBits(i>>>e-32,0)}}}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var r=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),this.displayfield=e.jqx.hasProperty(i,"displayField")?e.jqx.get(i,"displayField"):this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),this.text=e.jqx.hasProperty(i,"text")?e.jqx.get(i,"text"):this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsrenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")&&(this.buttonclick=e.jqx.get(i,"buttonClick")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"cellBeginEdit")&&(this.cellbeginedit=e.jqx.get(i,"cellBeginEdit")),e.jqx.hasProperty(i,"cellEndEdit")&&(this.cellendedit=e.jqx.get(i,"cellEndEdit")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!r.hasOwnProperty(s)&&!r.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+s+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={disabled:!1,width:600,height:400,pagerheight:28,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:25,columnsheight:25,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showaggregates:!1,showfilterrow:!1,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",sorttogglestates:2,rendergridrows:null,enableanimations:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:25,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return e.extend(!0,this,t),t},createInstance:function(){this.that=this,this.pagesize=parseInt(this.pagesize),this.toolbarheight=parseInt(this.toolbarheight),this.columnsheight=parseInt(this.columnsheight),this.filterrowheight=parseInt(this.filterrowheight),this.statusbarheight=parseInt(this.statusbarheight),this.groupsheaderheight=parseInt(this.groupsheaderheight);var t="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+this.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(this.element.innerText="",this.element.innerHTML="",15!=e.jqx.utilities.scrollBarSize&&(this.scrollbarsize=e.jqx.utilities.scrollBarSize),this.source){if(!this.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");this.source=new e.jqx.dataAdapter(this.source)}var i=this.source._source.datafields;i&&i.length>0&&(this.editmode=this.editmode.toLowerCase(),this.selectionmode=this.selectionmode.toLowerCase())}this.host.attr("role","grid"),this.host.attr("align","left"),this.element.innerHTML=t,this.host.addClass(this.toTP("jqx-grid")),this.host.addClass(this.toTP("jqx-reset")),this.host.addClass(this.toTP("jqx-rc-all")),this.host.addClass(this.toTP("jqx-widget")),this.host.addClass(this.toTP("jqx-widget-content")),this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var r=this.host.find("#verticalScrollBar"+this.element.id),s=this.host.find("#horizontalScrollBar"+this.element.id);if(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),!r.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(this.editors=new Array,this.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.groupsheader=this.host.find("#groupsheader"),this.groupsheader.addClass(this.toTP("jqx-grid-groups-header")),this.groupsheader.addClass(this.toTP("jqx-widget-header")),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.gridtable=null,this.isNestedGrid=this.host.parent()?9999==this.host.parent().css("z-index"):!1,this.touchdevice=this.isTouchDevice(),this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this.rowdetailstemplate&&(void 0==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="<div></div>"),void 0==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),void 0==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0)),this.showfilterrow&&!this.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(this.autorowheight&&!this.autoheight&&!this.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(this.virtualmode&&null==this.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(this.virtualmode&&!this.pageable&&this.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!this._testmodules()){if(this._builddataloadelement(),this._cachedcolumns=this.columns,25!=this.rowsheight&&this._measureElement("cell"),(25!=this.columnsheight||this.columngroups)&&this._measureElement("column"),this.source){var i=this.source.datafields;if(null==i&&this.source._source&&(i=this.source._source.datafields),i)for(var n=0;n<this.columns.length;n++){var o=this.columns[n];if(o&&o.cellsformat&&o.cellsformat.length>2)for(var a=0;a<i.length;a++)if(i[a].name==o.datafield&&!i[a].format){i[a].format=o.cellsformat;break}}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this._arrange(),this.pageable&&this._initpager&&this._initpager(),this.tableheight=null;var l=this.that,h=function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)};this.addHandler(this.content,"mousedown",function(){h()}),this.addHandler(this.content,"scroll",function(){return h(),!1}),this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect")),this._resizeWindow(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.hasTransform=e.jqx.utilities.hasTransform(this.host),"logical"==this.scrollmode&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight),e.jqx.isHidden(this.host)||(this.filterable||this.groupable||this.sortable)&&this._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var r=e(window).width(),s=e(window).height(),n=t.host.width(),o=t.host.height();if(t.autoheight&&(t._lastHostWidth=s),t._lastHostWidth!=n||t._lastHostHeight!=o){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=n,t._lastHostHeight!=o)}t._lastWidth=r,t._lastHeight=s,t._lastHostWidth=n,t._lastHostHeight=o});var i=t.host.width(),r=t.host.height();t._lastHostWidth=i,t._lastHostHeight=r}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),e(document.body).append(t);var i=t.outerHeight();return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var r=i.outerWidth()+20;return i.remove(),r},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,r=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(r(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(r(),t+=" jqxscrollbar.js"),this.host.jqxButton||(r(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(r(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(r(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(r(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(r(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(r(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(r(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(r(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(r(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(r(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(r(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var s=[],n=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||s.checkbox||(s.checkbox=!0,r(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||s.numberinput||(s.numberinput=!0,r(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||s.datetimeinput?i.host.jqxCalendar||s.calendar||(r(),t+=" jqxcalendar.js"):(r(),s.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||s.combobox?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||s.dropdownlist?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&n("dropdownlist");for(var o=0;o<this.columns.length;o++)if(void 0!=this.columns[o]){var a=this.columns[o].columntype;if(n(a),this.filterable&&this.showfilterrow){var a=this.columns[o].filtertype;("checkedlist"==a||"bool"==a)&&n("checkbox"),"date"==a&&n("datetimeinput")}}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(t){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var r=this.that;r._newmax=null;var s=r.host.width(),n=r.host.height();r._oldWidth||(r._oldWidth=s),r._oldHeight||(r._oldHeight=n),r._resizeTimer&&clearTimeout(r._resizeTimer);var o=5;r._resizeTimer=setTimeout(function(){if(r.resizingGrid=!0,!e.jqx.isHidden(r.host)){if(r.editcell&&(r.endcelledit(r.editcell.row,r.editcell.column,!0,!0),r._oldselectedcell=null),a!=r._oldHeight||1==i){var n=r.groupable&&r.groups.length>0,o=r.vScrollBar.css("visibility");if(!r.autoheight){if(r.virtualmode&&(r._pageviews=new Array),n||r.rowdetails||r.pageable){r._arrange(),r.prerenderrequired=!0;var a=Math.round(r.host.height())+2*r.rowsheight;realheight=r._gettableheight();var l=Math.round(a/r.rowsheight),h=Math.max(r.dataview.totalrows,r.dataview.totalrecords);r.pageable&&(h=r.pagesize,r.pagesize>Math.max(r.dataview.totalrows,r.dataview.totalrecords)&&r.autoheight?h=Math.max(r.dataview.totalrows,r.dataview.totalrecords):r.autoheight||r.dataview.totalrows<r.pagesize&&(h=Math.max(r.dataview.totalrows,r.dataview.totalrecords)));{h*r.rowsheight,r._getpagesize()}!r.pageable&&r.autoheight&&(l=h),r.virtualsizeinfo&&(r.virtualsizeinfo.visiblerecords=l),r.rendergridcontent(!0,!1),r._renderrows(r.virtualsizeinfo)}else{r._arrange(),r.virtualsizeinfo=r._calculatevirtualheight();var a=Math.round(r.host.height())+2*r.rowsheight;parseInt(a)>=parseInt(r._oldHeight)&&(r.prerenderrequired=!0),r._renderrows(r.virtualsizeinfo)}o!=r.vScrollBar.css("visibility")&&(r.vScrollInstance.setPosition(0),r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}}if(s!=r._oldWidth||1==t){var d=!1;if(r.editcell&&r.editcell.editor)switch(r.editcell.columntype){case"dropdownlist":if(d=r.editcell.editor.jqxDropDownList("isOpened")||r.editcell.editor.jqxDropDownList("isanimating")&&!r.editcell.editor.jqxDropDownList("ishiding"))return r.editcell.editor.jqxDropDownList({openDelay:0}),r.editcell.editor.jqxDropDownList("open"),void r.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(d=r.editcell.editor.jqxComboBox("isOpened")||r.editcell.editor.jqxComboBox("isanimating")&&!r.editcell.editor.jqxComboBox("ishiding"))return r.editcell.editor.jqxComboBox({openDelay:0}),r.editcell.editor.jqxComboBox("open"),void r.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(d)return d=r.editcell.editor.jqxDateTimeInput("isOpened")||r.editcell.editor.jqxDateTimeInput("isanimating")&&!r.editcell.editor.jqxDateTimeInput("ishiding"),r.editcell.editor.jqxDateTimeInput({openDelay:0}),r.editcell.editor.jqxDateTimeInput("open"),void r.editcell.editor.jqxDateTimeInput({openDelay:250})}var c=r.hScrollBar.css("visibility");r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths(),0==t&&r._oldWidth>s||i&&0!=r.dataview.rows.length||r._renderrows(r.virtualsizeinfo),c!=r.hScrollBar.css("visibility")&&r.hScrollInstance.setPosition(0)}r._oldWidth=s,r._oldHeight=a,r.resizingGrid=!1}},o)}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),s=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,s+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){if("visible"==t.vScrollBar.css("visibility")){var r=t.vScrollInstance.value;t.vScrollInstance.setPosition(r+i)}if("visible"==t.hScrollBar.css("visibility")){var r=t.hScrollInstance.value;t.hScrollInstance.setPosition(r+e)}t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,s+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){if("visible"==t.vScrollBar.css("visibility")){var r=t.vScrollInstance.value;t.vScrollInstance.setPosition(r+i)}if("visible"==t.hScrollBar.css("visibility")){var r=t.hScrollInstance.value;t.hScrollInstance.setPosition(r+e)}t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,r,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var r in t)r.toLowerCase()!==r&&(t[r.toLowerCase()]=t[r]);if(t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),void 0!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),void 0!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),i!==!1){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var r in this._filterrowcache)e(this._filterrowcache[r]).remove();
this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today"}},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array,this.gridmenu=e('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var i=e("<ul></ul>"),r='<div class="jqx-grid-sortasc-icon"></div>',s=e("<li>"+r+this.gridlocalization.sortascendingstring+"</li>"),n='<div class="jqx-grid-sortdesc-icon"></div>',o=e("<li>"+n+this.gridlocalization.sortdescendingstring+"</li>"),a='<div class="jqx-grid-sortremove-icon"></div>',l=e("<li>"+a+this.gridlocalization.sortremovestring+"</li>"),h='<div class="jqx-grid-groupby-icon"></div>',d=e("<li>"+h+this.gridlocalization.groupbystring+"</li>"),c=e("<li>"+h+this.gridlocalization.groupremovestring+"</li>"),u=e('<li type="separator"></li>'),p=e('<li class="filter" style="height: 175px;" ignoretheme="true"><div class="filter"></div></li>'),f=this.gridlocalization.sortascendingstring.length,m=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>f&&(f=this.gridlocalization.sortdescendingstring.length,m=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>f&&(f=this.gridlocalization.sortremovestring.length,m=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>f&&(f=this.gridlocalization.groupbystring.length,m=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>f&&(f=this.gridlocalization.groupremovestring.length,m=this.gridlocalization.groupremovestring));var g=200;m=e.trim(m).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var v=e("<span>"+m+"</span>");v.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(v),g=v.outerWidth()+60,v.remove();var w=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i.append(s),this.menuitemsarray[0]=s[0],i.append(o),this.menuitemsarray[1]=o[0],i.append(l),this.menuitemsarray[2]=l[0],w=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i.append(d),this.menuitemsarray[3]=d[0],i.append(c),this.menuitemsarray[4]=c[0],w+=2);var x=this._measureMenuElement(),b=w*x+9,_=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=p[0],this.menuitemsarray[6]=p[0],i.append(u),i.append(p),b+=180,e.jqx.browser.msie&&e.jqx.browser.version<8&&(b+=20);var y=e(p).find("div:first");g+=20,this._initfilterpanel(this,y,"",g),_=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}if(this.gridmenu.append(i),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",4990),e("#listBoxfilter2"+this.element.id).css("z-index",4990),e("#listBoxfilter3"+this.element.id).css("z-index",4990),e("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",4980)})),void 0==this.menuitemsarray[0]&&(b=65),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode&&t.filterable&&t._buildfilter){var r="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),s="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),n="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display"),o=e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus");if(o){var a=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,a),t.gridmenu.jqxMenu("close")}else if(!r&&!s&&!n){var a=e.data(document.body,"contextmenu"+t.element.id).column;t.gridmenu.jqxMenu("close"),t._buildfilter(t,p,a)}}}),"auto"!=this.popupwidth&&(g=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:g,height:b,autoCloseOnClick:_,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",p[0].id,"closeOnClick",!1),this.rtl){var j=this.that;e.each(i.find("li"),function(){e(this).addClass(j.toTP("jqx-rtl"))});var C=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};C(l),C(o),C(s),C(d),C(c)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var r=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var s=e("<span>"+i+"</span>");s.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(s),r=s.outerWidth()+60,s.remove();var n=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(n=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(n+=2);var o=27*n+3;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(o+=180,r+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(o+=20)),void 0==this.menuitemsarray[0]&&(o=65),"auto"!=this.popupwidth&&(r=this.popupwidth),this.gridmenu.jqxMenu({width:r,height:o})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,r=!1;if(void 0==t.target||void 0!=t.target&&void 0==t.target.className.indexOf)return void i.gridmenu.jqxMenu("close");if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter")){if(-1!=t.target.className.indexOf("jqx-grid-cell"))return void i.gridmenu.jqxMenu("close");if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){var s=(i.host.coord(),i.gridmenu.coord()),n=t.pageX,o=t.pageY;if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!r){try{if("default"===i.filtermode){var a=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,l=new Date;if(100>l-a)return;var h=e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(100>l-h)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var a=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,l=new Date;if(100>l-a)return;var h=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(100>l-h)return}}catch(d){}n>=s.left&&n<=s.left+i.gridmenu.width()&&o>=s.top&&o<=s.top+i.gridmenu.height()||i.gridmenu.jqxMenu("close")}}}},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var r=i.args,s=0;s<t.menuitemsarray.length;s++){var n=t.menuitemsarray[s];if(r==n){if(void 0!=e(r).attr("ignoretheme"))return;var o=e.data(document.body,"contextmenu"+t.element.id),a=o.column;t.filterable&&t.gridmenu.jqxMenu("close");var l=a.displayfield;if(null==l&&(l=a.datafield),null!=o)switch(s){case 0:t.sortby(l,"ascending",null);break;case 1:t.sortby(l,"descending",null);break;case 2:t.sortby(l,null,null);break;case 3:t.addgroup(a.datafield);break;case 4:t.removegroup(a.datafield);break;case 5:var h=e(t.menuitemsarray[6]);e(h).css("display","block");break;case 7:}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array;var i=this.hiddenboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that;this.heights=new Array;var i=this.heightboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that;this.details=new Array;var i=this.detailboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.details[i]=this.details}})},_getmenuitembyindex:function(e){return void 0==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var r=i.columnsmenu;e(i.element).trigger("mouseenter");for(var s=this,n=0;n<s.columns.records.length;n++)s.columns.records[n].datafield!=t&&e(s.columns.records[n].element).trigger("mouseleave");setTimeout(function(){"block"==e(r)[0].style.display&&e(r).trigger("click"),s._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var t=e.data(document.body,"contextmenu"+this.element.id);if(null!=t&&this.autoshowcolumnsmenubutton){if(this.enableanimations){e(t.columnsmenu).animate({"margin-left":0},"fast",function(){e(t.columnsmenu).css("display","none")});var i=this.rtl?0:-32;t.column.iconscontainer.animate({"margin-left":i},"fast")}else{e(t.columnsmenu).css("display","none");var i=this.rtl?0:-32;t.column.iconscontainer.css("margin-left",i)}e.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1;var r=this._getmenuitembyindex(5);if(r){var s=e(r).find("#filter1"+this.element.id),n=e(r).find("#filter2"+this.element.id),o=e(r).find("#filter3"+this.element.id);s.length>0&&"default"===this.filtermode&&(s.jqxDropDownList("hideListBox"),n.jqxDropDownList("hideListBox"),o.jqxDropDownList("hideListBox"))}}},scrolloffset:function(e,t){null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e){this._updating=!0,this._datachanged=!1,e===!0&&(this._batchupdate=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void this.render();if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(r){}}},10))},databind:function(t,i){if(this.loadingstate!==!0){"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var r=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),(void 0==t.loadallrecords||null==t.loadallrecords)&&(t.loadallrecords=!0),(void 0==t.sortcomparer||null==t.sortcomparer)&&(t.sortcomparer=null),(void 0==t.filter||null==t.filter)&&(t.filter=null),(void 0==t.sort||null==t.sort)&&(t.sort=null),(void 0==t.data||null==t.data)&&(t.data=null);var s=null;if(null!=t&&(s=void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!r.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var n=t._source.sortdirection;if("a"==n||"asc"==n||"ascending"==n||1==n)var o=!0;else var o=!1;this.sortdirection=null!=n?{ascending:o,descending:!o}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&r.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!r.pageable&&r.virtualmode&&(r.loadondemand=!0),r._loading=!1,r.dataview.isupdating()&&r.dataview.resumeupdate(!1),r.pageable&&r.pagerrenderer){if(!r._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");r._initpager()}if(r.source&&r.source.sortcolumn&&r.sortby&&!r.virtualmode)r.render(),r.source._source.sort||r.sortby(r.source.sortcolumn,r.source.sortdirection,r.source.sortcomparer),r.source.sortcolumn=null;else{var s=r.vScrollInstance.value,n=r.hScrollInstance.value,o=r.source?r.source.datatype:"array";if("local"!=o||"array"!=o){var a=null==r.virtualsizeinfo||null!=r.virtualsizeinfo&&0==r.virtualsizeinfo.virtualheight;if("cells"==i){var l=!1;if(r.filterable&&r._initfilterpanel&&r.dataview.filters.length&&(l=!0),0==t)return r.vScrollInstance.isScrolling()||r.hScrollInstance.isScrolling()||(r._cellscache=new Array,r._pagescache=new Array,r._renderrows(r.virtualsizeinfo),r.showfilterrow&&r.filterable&&r.filterrow&&r._updatelistfilters(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates()),r.sortcolumn&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer),r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),void(r.virtualmode&&!r._loading&&(r.loadondemand=!0,r._renderrows(r.virtualsizeinfo)));l?i="filter":void 0!=r.sortcolumn&&(i="sort")}!r.virtualmode||a||r.virtualmode&&r.pageable?1==r.initializedcall&&"pagechanged"==i?(s=0,r.groupable&&r.groups.length>0?(r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo)):(r.rendergridcontent(!0),r.pageable&&r.updatepagerdetails&&(r.updatepagerdetails(),r.autoheight?(r._updatepageviews(),r.autorowheight&&r._renderrows(this.virtualsizeinfo)):r.autorowheight&&(r._updatepageviews(),r._renderrows(this.virtualsizeinfo)))),r.showaggregates&&r._updateaggregates&&r._updateaggregates()):"filter"==i?r.virtualmode?(r._render(!0,!0,!1,!1,!1),r._updatefocusedfilter(),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo)):r._render(!0,!0,!1,!1,!1):"sort"==i?(r.virtualmode?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates()):(r._render(!0,!0,!1,!1,!1),r.sortcolumn&&!r.source.sort&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer)),r.source.sort&&r._updatefocusedfilter()):"data"==i?r._render(!0,!0,!1,!1,!1):"state"==i?r._render(!0,!0,!1,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode):r._render(!0,!0,!0,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode):r.virtualmode&&1==t&&!r.pageable?(r._render(!0,!0,!1,!1,!1),r._updatefocusedfilter(),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo)):r.virtualmode&&!r.pageable&&0==t&&void 0!=i?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates()):r.virtualmode&&0==r.dataview.totalrecords&&r.dataview.filters.length>0?r._render(!0,!0,!0,r.menuitemsarray&&!r.virtualmode):(r._pagescache=new Array,r._renderrows(r.virtualsizeinfo)),r.vScrollInstance.value!=s&&s<=r.vScrollInstance.max&&r.vScrollInstance.setPosition(s),r.hScrollInstance.value!=n&&n<=r.hScrollInstance.max&&r.hScrollInstance.setPosition(n)}}if(r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.pageable&&(r.pagerrightbutton&&(r.pagerrightbutton.jqxButton({disabled:!1}),r.pagerleftbutton.jqxButton({disabled:!1}),r.pagershowrowscombo.jqxDropDownList({disabled:!1})),r.pagerfirstbutton&&(r.pagerfirstbutton.jqxButton({disabled:!1}),r.pagerlastbutton.jqxButton({disabled:!1}))),r._raiseEvent(11),r.initializedcall)r._updateTouchScrolling();else{var h=function(){r._raiseEvent(0),r.initializedcall=!0,r.isInitialized=!0,r.ready&&r.ready(),r.renderstatusbar&&r.renderstatusbar(r.statusbar),r.rendertoolbar&&r.rendertoolbar(r.toolbar),r.autoloadstate&&r.loadstate&&r.loadstate(null,!0)};if(e.jqx.isHidden(r.host)?(r.readyInterval&&clearInterval(r.readyInterval),r.readyInterval=setInterval(function(){e.jqx.isHidden(r.host)||r.__isRendered&&(clearInterval(r.readyInterval),r.readyInterval=null,h(),r._initmenu())},200)):h(),null!=r.width&&-1!=r.width.toString().indexOf("%")||null!=r.height&&-1!=r.height.toString().indexOf("%"),"hidden"==r.host.css("visibility")){{e.jqx.browser.msie&&e.jqx.browser.version<8}"visible"==r.vScrollBar.css("visibility")&&r.vScrollBar.css("visibility","inherit"),r.autowidth||"visible"==r.hScrollBar.css("visibility")&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){"visible"==r.host.css("visibility")&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)}}},this.dataview.databind(t),this.dataview.isupdating()&&(void 0!=s?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){void 0!=e&&this.hScrollInstance.setPosition(e),void 0!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){if(this.autoheight&&!this.pageable)return!0;var t=this._getpagesize(),i=Math.floor(e/t);if(this._pageviews[i]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0;var r=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){var i=Math.floor(e/t);if(this.dataview.pagenum!=i){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(i),r=!0}}var s=this.vScrollInstance.value,n=this._gettableheight()-this.rowsheight,o=t*(e/t-i);if(o=Math.round(o),this._pageviews[i]){var a=this._pageviews[i].top,l=a+o*this.rowsheight;if(this.rowdetails)for(var h=t*i;e>h;h++)this.details[h]&&0==this.details[h].rowdetailshidden&&(l+=this.details[h].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=l+this.rowsheight&&(l=this.vScrollInstance.max),s>l?(this.scrolltop(l),r=!0):l>s+n+2&&(this.scrolltop(l-n),r=!0)}else if(this.pageable){var l=o*this.rowsheight;if(this.rowdetails)for(var h=t*i;t*i+o>h;h++)this.details[h]&&0==this.details[h].rowdetailshidden&&(l+=this.details[h].rowdetailsheight);(s>l||l>s+n)&&(this.scrollto(0,l),r=!0)}return r},ensurecellvisible:function(t,i){var r=this.that,s=this.hScrollBar.jqxScrollBar("value"),n=r.hScrollInstance.max;r.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(n=0);var o=this.ensurerowvisible(t),a=0;if(this.columns.records){var l=s;if("hidden"==this.hScrollBar.css("visibility"))return;var h=this.host.width(),d=0,c="visible"==this.vScrollBar.css("visibility")?20:0,u=!1;e.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=r.rtl?n-s:l;return a+this.width>t+h-c?(e=a+this.width-h+c,r.rtl&&(e=n-e),r.scrollleft(e),u=!0):t>=a&&(e=a-this.width,r.rtl&&(e=n-e),r.scrollleft(e),u=!0),0==d?(r.scrollleft(r.rtl?n:0),u=!0):d==r.columns.records.length-1&&"visible"==r.hScrollBar.css("visibility")&&(r.scrollleft(r.rtl?r.hScrollBar.jqxScrollBar("min"):r.hScrollBar.jqxScrollBar("max")),u=!0),!1}d++,a+=this.width}),u||r.scrollleft(l)}return o},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null==e||null==t?!1:(this.heightboundrows[e]={index:e,height:t},e=this.getrowvisibleindex(e),0>e?!1:(this.rows.records[e]?this.rows.records[e].height=t:(row=new i(this,null),row.height=t,this.rows.replace(e,row)),this.heights[e]=t,this.rendergridcontent(!0),!0))},getrowheight:function(e){return null==e?null:(e=this.getrowvisibleindex(e),0>e?!1:this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,r,s){if(!(void 0==t||null==t||0>t)){var n=t+"_";if(this._rowdetailscache[n]){var o=this._rowdetailscache[n].element;e(o).remove(),this._rowdetailscache[n]=null}var a=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:r,rowdetailshidden:s,key:a}},t=this.getrowvisibleindex(t),0>t?!1:this._setrowdetails(t,i,r,s,a)}},getcolumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,function(){return i++,this.datafield==t?!1:void 0}),i},_getcolumnat:function(e){var t=this.columns.records[e];return t},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){if(!isNaN(e)){var t=this.columns.records[e];return t}return null},_getcolumn:function(t){var i=null;return e.each(this._columns,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var r=this.getcolumn(e);if(null!=r){var s=r[t];r[t]=i;var n=this._getcolumn(e);switch(null!=n&&(n[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo);break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=s){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==r.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){if(null==e||null==t)return null;t=t.toLowerCase();var i=this.getcolumn(e);return i[t]},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,r,s){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=s)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:s};else{for(var n=null!=this.details[e]?this.details[e].detailskey:null,o={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:n},a=(this.that,0);a<this.detailboundrows.length;a++)if(void 0!=this.detailboundrows[a]){var l=this.detailboundrows[a];if(l.details.detailskey==n){l.details.rowdetailsheight=o.rowdetailsheight,l.details.rowdetailshidden=o.rowdetailshidden,l.details.rowdetails=o.rowdetails;break}}this.details[e]=o}return this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0},getrowdetails:function(e){return null==e?!1:(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null==e?!1:0>e?!1:this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(e=this.getrowvisibleindex(e),0>e)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);
if(e=this.getrowvisibleindex(e),0>e)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var r=this.vScrollInstance.value,s=!i.rowdetailshidden,n=this._setrowdetailsvisibility(t,i,s);return 0!==r&&"hidden"!==this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(r<=this.vScrollInstance.max?r:this.vScrollInstance.max),n}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var r=this.dataview.generatekey();this.details[e].detailskey=r,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var s=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}),this._setrowdetails(e,s.rowdetails,s.rowdetailsheight,s.rowdetailshidden)},getrowvisibleindex:function(e){if(void 0==e||null==e||0>e)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return void 0==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==e||null==e||0>e?!1:null==e?!1:(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==e||null==e||0>e?!1:null==e?!1:(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null==e?!1:(this.hiddens[e]=t,void 0==i||i?(this.rendergridcontent(!0),!0):!1)},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,r=new Array,s=new Array,n=t.groupable&&t.groups.length>0,o=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var a=this.dataview.pagesize;this.pageable&&n&&(a=this.dataview.rows.length);for(var l=0;a>l&&!(l>=this.dataview.rows.length);l++){var h=this.dataview.rows[l],d=null;t.rows.records[h.visibleindex]?(d=t.rows.records[h.visibleindex],d.setdata(h)):d=new i(t,h),d.hidden=this.hiddens[d.visibleindex],this.rowdetailstemplate&&(d.rowdetails=this.rowdetailstemplate.rowdetails,d.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,d.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var c=this.details[d.visibleindex];if(c?(d.rowdetails=c.rowdetails,d.rowdetailsheight=c.rowdetailsheight,d.rowdetailshidden=c.rowdetailshidden):this.rowdetailstemplate||(d.rowdetails=null),n&&this.pageable&&null!=d.parentbounddata){var u=r[d.parentbounddata.uniqueid];if(null!=u){var p=this._findgroupstate(u.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,d.parentbounddata,!p,!1),d.hidden=this.hiddens[d.visibleindex]}null!=u&&void 0!=u&&(d.parentrow=u,u.subrows[u.subrows.length++]=d)}if(!d.hidden){var f=h.visibleindex;this.heights[f]||(this.heights[f]=this.rowsheight),d.height=this.heights[f],this.rowdetails&&d.rowdetails&&!d.rowdetailshidden&&(d.height+=d.rowdetailsheight),r[d.uniqueid]=d,s[o++]=d,d.top=e,e+=d.height;var m=f;t.rows.replace(m,d)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),s.length>0&&(this._pagescache[this.dataview.pagenum]=s)}}},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight,t=Math.round(e/this.rowsheight);return t}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var e=(this.that,Math.round(this.host.height())+2*this.rowsheight);realheight=this._gettableheight();var t=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var i=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(i=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?i=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(i=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var r=i*this.rowsheight,s=0,n=0,o=0,a=this._getpagesize(),l=a*this.rowsheight,h=0;if(!this.pageable&&this.autoheight&&(t=i),i+a>0)for(;i+a>=h;){if(s+=l,i>h-a&&h>=i){var d=h-i;d>0&&(o-=l,this._pageviews[n-1]={top:o,height:l-d*this.rowsheight});break}this._pageviews[n++]={top:o,height:l},o=s,h+=a}return 1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),r>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),this.vScrollBar.jqxScrollBar("deferred"==this.scrollmode?{max:r}:{max:r-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=a,this.dataview.updateview(),{visiblerecords:t,virtualheight:r}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),r=Math.max(this.dataview.totalrows,this.dataview.totalrecords),s=r*this.rowsheight,n=0,o=0,a=0,l=0,h=0,d=this._getpagesize();if(this.pageable)this._updatepagedview&&(s=this._updatepagedview(r,s,0)),this.autoheight&&this._arrange();else for(var c=0;r>c;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(void 0==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),void 0==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),void 0==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(s-=e.rowsheight,s+=u.height),u.hidden)s-=u.height;else{o+=u.height;var p=0;this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(p=u.details.rowdetailsheight,o+=p,s+=p)),n+=u.height+p}h++,(h>=d||c==r-1)&&(this._pageviews[a++]={top:l,height:o},o=0,l=n,h=0)}var f=this._gettableheight();if(s>f)if(this.pageable&&this.gotopage&&(s=this._pageviews[0].height,0>s&&(s=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(f>=s||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),s-f>0)if("deferred"!=this.scrollmode){var m=s-f,g=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:m}),m!=g&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:s});else this.vScrollBar.jqxScrollBar({value:0,max:s});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:s}}},updatebounddata:function(e){"data"==e||"sort"==e||"filter"==e||"cells"==e||"pagechanged"==e||"pagesizechanged"==e||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;(this.virtualmode||!this.pageable)&&(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,0>e&&(e=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(t>=e||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var r=function(e){for(var i=0;i<t.columngroups.length;i++){var r=t.columngroups[i];if(r.name===e)return r}return null},i=0;i<this.columngroups.length;i++){var s=this.columngroups[i];if(s.groups||(s.groups=null),s.parentgroup){var n=r(s.parentgroup);n&&(s.parent=n,n.groups||(n.groups=new Array),-1===n.groups.indexOf(s)&&n.groups.push(s))}}for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(s.columngroup){var n=r(s.columngroup);n&&(n.groups||(n.groups=new Array),s.parent=n,-1===n.groups.indexOf(s)&&n.groups.push(s))}}for(var o=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i],a=s;for(s.level=0;a.parent;)a=a.parent,s.level++;var a=s,l=s.level;for(o=Math.max(o,s.level);a.parent;)a=a.parent,a&&(a.level=--l)}for(var h=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var r=h(e.groups[i]),s=0;s<r.length;s++)t.push(r[s]);return t},i=0;i<this.columngroups.length;i++){var s=this.columngroups[i],d=h(s);s.columns=d;for(var c=new Array,u=0,p=0;p<d.length;p++)c.push(this.columns.records.indexOf(d[p])),d[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),t>e?-1:e>t?1:0});for(var f=1;f<c.length;f++)if(c[f]!=c[f-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+o,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,r,s,n){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var o=this;return o.___hiddenTimer&&(clearInterval(o.___hiddenTimer),o.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(o.host)||(clearInterval(o.___hiddenTimer),o.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0!=i?i:!0,this._newmax=null,r)if(this._requiresupdate||0!=s&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var a=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){a.columns=a._columns,a.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){a.beginupdate();for(var i in e.newValue)a.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);a.endupdate()}else{var r=e.path.split(".");a.setcolumnproperty(a.columns[r[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(){a.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==s&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),r?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var l=this.columnsheight;if(l=this._preparecolumngroups(),this.columnsheader.height(this.showfilterrow&&this.filterable?l+this.filterrowheight:l),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,r),this.groups.length>0&&this.groupable){var h=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=h&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==n||1==n)&&this._updatelistfilters(!r),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){if(this.autoheight)return this._overlayElement&&this._overlayElement.remove(),void this._updateTouchScrolling();var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var r=this._overlayElement.css("left");this._overlayElement.css("left",r+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},rendergridcontent:function(e,t){if(this.updating())return!1;(void 0==e||null==e)&&(e=!1),this._requiresupdate=e;var i=this.prerenderrequired;this.prerenderrequired&&this._arrange();var r=this.that,t=t;if((null==t||void 0==t)&&(t=!0),this.tableheight=null,r.virtualsizeinfo=r.virtualsizeinfo||r._calculatevirtualheight(),r.pageable&&!r.autoheight&&r.dataview.totalrows<r.pagesize&&(r._requiresupdate=!0),t?r._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),r._renderrows(r.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),i){var s=this.tableheight;this._arrange(),s!=this.tableheight&&this.autoheight&&r._renderrows(r.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,r="";if(void 0!=this.columns&&void 0!=this.columns.records){var s=this.that,n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;e.each(this.columns.records,function(e,o){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var o=0,a="hidden"==s.vScrollBar[0].style.visibility?0:s.scrollbarsize+5;s.scrollbarautoshow&&(a=0);var l=i;o=parseFloat(this.width)*l/100,a+=n,void 0!=this._percentagewidth&&(o=parseFloat(this._percentagewidth)*(l-a)/100),o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),t-=o}else"auto"==this.width||this._width?r+=this.text:t-=this.width});var o=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>o)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var a=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var l=0;l<this.dataview.rows.length;l++)this.dataview.rows[l].group&&0===this.dataview.rows[l].level&&(a+=this.rowsheight);a>o?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;var n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(i-=n,this.columnsheader){var h=this.columnsheader.find("#columntable"+this.element.id);if(0!=h.length){var d=h.find(".jqx-grid-column-header"),c=0;e.each(this.columns.records,function(s){var n=e(d[s]),o=!1,a=this.width;if((-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(a=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,o=!0),"auto"==this.width||this._width||o)if(o)a<this.minwidth&&"auto"!=this.minwidth&&(a=this.minwidth,this.width=a),a>this.maxwidth&&"auto"!=this.maxwidth&&(a=this.maxwidth,this.width=a),parseInt(n[0].style.width)!=a&&(n.width(a),this.width=a);else{var l=Math.floor(t*(this.text.length/r.length));isNaN(l)&&(l=this.minwidth),1/0==l&&(l=0),0>l&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),l=10+$element.width(),$element.remove()),l<this.minwidth&&(l=this.minwidth),l>this.maxwidth&&(l=this.maxwidth),this._width="auto",this.width=l,n.width(this.width)}else parseInt(n[0].style.width)!=this.width&&n.width(this.width);parseInt(n[0].style.left)!=c&&n.css("left",c),this.hidden&&this.hideable||(c+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+c),h.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==c?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),void(this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var r=0,s=0,n="",o=this.host.width(),a=o,l=new Array,h=new Array,d=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,function(e,i){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)n+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)o-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)o-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var i=0,r="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;r+=d,i=parseFloat(this.width)*(a-r)/100,i<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),o-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),o-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):h[h.length]=this}),this.rtl){var c=0;l.reverse();for(var u=this.columns.records.length-1;u>=this.columns.records.length-l.length;u--)this.columns.replace(u,l[c++]);for(var p=0;p<h.length;p++)this.columns.replace(p,h[p])}else{for(var u=0;u<l.length;u++)this.columns.replace(u,l[u]);for(var p=0;p<h.length;p++)this.columns.replace(l.length+p,h[p])}var f=this.headerZIndex,m=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&m++;var g=t.columnsheader.height();this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var w=0;if(this.pageable){if(this.pageable)for(var x=0;x<this.dataview.rows.length;x++)this.dataview.rows[x].group&&0===this.dataview.rows[x].level&&(w+=this.rowsheight)}else var w=this.dataview.loadedrootgroups.length*this.rowsheight;w>v&&(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5)}else o-=this.scrollbarsize+5,a-=this.scrollbarsize+5;else this.autoheight||(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5);a-=d;var b=function(e,i){var r=t.columngroupslevel*t.columnsheight;return r-=i.level*t.columnsheight};if(e.each(this.columns.records,function(l){this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=b(this.datafield,this),g=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl"));var d=t.rtl?150+f+1:150+f-1,c=t.rtl?f++:f--,u=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(u[0].style.height=g+"px",u[0].style.bottom="0px",this.pinned&&(u[0].style.zIndex=d)),this.uielement=u,""!=this.classname&&this.classname&&u.addClass(this.classname);var p=this.width,v=!1;if(null===this.width&&(this.width="auto"),(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(p=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,v=!0),"auto"==this.width||this._width||v){if(v)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth),(void 0==this._percentagewidth||-1!=this.width.toString().indexOf("%"))&&(this._percentagewidth=this.width),u.width(p),this.width=p;else if(!this.hidden){var w=Math.floor(o*(this.text.length/n.length));isNaN(w)&&(w=this.minwidth),0>w&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),w=10+$element.width(),$element.remove()),w<this.minwidth&&(w=this.minwidth),w>this.maxwidth&&(w=this.maxwidth),this._width="auto",this.width=w,p=this.width,u.width(this.width)}}else p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),u[0].style.width=parseInt(p)+"px";this.hidden&&this.hideable&&u.css("display","none");var x=e(u.children()[0]),_=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");_+=" "+t.toTP("jqx-icon-arrow-down");var y=e('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+_+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||y.css("margin-left",-16),t.rtl&&y.css("left","0px"),this.columnsmenu=y[0],i[0].cells[l]=u[0],y[0].style.width=parseInt(t.columnsmenuwidth)+"px";var j=t.columnsmenu,C=!1,q=!1,T=t.groupable&&m>0&&m>r||t.rowdetails&&m>r;if(t.rtl&&(T=t.groupable&&m>0&&m>r||t.rowdetails&&m>r,T&=l>t.columns.records.length-1-m),T)r++,j&=!1,this.sortable=!1,this.editable=!1,q=!0;else{var S=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t);null==S&&(S=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(S=e(S)),j&=!0,C=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){x.append(e(S))}):this.renderer?x.append(e(S)):S&&(x[0].innerHTML=S),null!=S){var I=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');y.addClass(t.toTP("jqx-widget-header")),x.append(I);var k=I.children();this.sortasc=k[1],this.sortdesc=k[2],this.filtericon=k[0],this.iconscontainer=I,t.rtl&&(I.css("margin-left","0px"),I.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=u[0],j&&(t._handlecolumnsmenu(t,x,u,y,this),this.menu||y.hide()),i.append(u),t.groupable&&C){if(u[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,u)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,u);var B=this;if(t.addHandler(u,"click",function(e){return B.checkboxcolumn?!0:(t.sorttogglestates>0&&t._togglesort&&(t._loading||t._togglesort(B)),e.preventDefault(),void t._raiseEvent(7,{column:B.getcolumnproperties(),datafield:B.datafield,originalEvent:e}))}),B.resizable&&t.columnsresize&&!q){var H=!1,z="mousemove";t.isTouchDevice()&&t.touchmode!==!0&&(H=!0,z=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(u,z,function(i){var r=parseInt(i.pageX),s=5,n=parseInt(u.coord().left);if(t.hasTransform&&(n=e.jqx.utilities.getOffset(u).left),t.resizing)return!0;if(t._handlecolumnsresize){if(H){var o=t.getTouches(i),a=o[0];return r=a.pageX,s=40,r>=n+B.width-s?(t.resizablecolumn={columnelement:u,column:B},u.css("cursor","col-resize")):(u.css("cursor",""),t.resizablecolumn=null),!0}var l=B.width;if(t.rtl&&(l=0),r>=n+l-s){if(n+l+s>=r)return t.resizablecolumn={columnelement:u,column:B},u.css("cursor","col-resize"),!1;u.css("cursor",""),t.resizablecolumn=null}else u.css("cursor",""),n+l-s>r&&(B._animating||B._menuvisible||u.mouseenter()),t.resizablecolumn=null}})}if(u.css("left",s),this.hidden&&this.hideable||(s+=p),B.rendered){var L=B.rendered(e(x[0].firstChild),B.align,g);L&&null!=I&&I.hide()}if(B.checkboxcolumn){if(I&&I.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");x.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var P=x.find("div:first");P.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),B.checkboxelement=P;var D=P.data().jqxCheckBox.instance;t._checkboxcolumn=B,D.updated=function(e,i,r){t._checkboxcolumnupdating=!0,t.disabled&&(P.jqxCheckBox({disabled:t.disabled}),i=r),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),this.columnsheader.width(s>0?2+s:s),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(i.height(this.columngroups?this.columngroupslevel*this.columnsheight:this.columnsheight),!this.filterrow){var _=e("<div></div>");_[0].id="filterrow."+this.element.id,_.height(this.filterrowheight),this.filterrow=_
}this.filterrow.width(2+s),this.columnsheader.append(this.filterrow),this._updatefilterrow()}i[0].style.visibility=0==s?"hidden":"inherit",i.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var r=this.headerZIndex-t+this.columns.records.length,s=this.that,n=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header");s.rtl&&(n+=" "+s.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columngroupslevel-1;a++)for(var i=0;i<this.columngroups.length;i++){var l=this.columngroups[i],h=l.level;if(h===a){var d=h*this.columnsheight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=u(r):r.hidden||(t+=r.width,c=Math.min(parseFloat(r.element.style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsheight,f=r--,m=e('<div role="columnheader" style="z-index: '+f+';position: absolute;" class="'+n+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this));if(l.renderer){var g=e("<div style='height: 100%; width: 100%;'></div>"),v=l.renderer(l.text,l.align,p);g.html(v)}m.append(g),m[0].style.left=c+"px",0===c&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=p+"px",m[0].style.width=-1+l.width+"px",o.append(m),l.element=m,l.rendered&&l.rendered(g,l.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level,r=i*this.columnsheight,s=99999;if(t.groups){var n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=n(r):r.hidden||(t+=r.width,s=Math.min(parseFloat(r.element.style.left),s))}return t};t.width=n(t),t.left=s;var o=this.columnsheight,a=t.element;a[0].style.left=s+"px",a[0].style.top=r+"px",a[0].style.height=o+"px",a[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,r,s,n){t.dragmousedown=null,s[0].id=t.dataview.generatekey(),i.append(s),r[0].columnsmenu=s[0],n.element=r[0];var o=this.columnsmenuwidth+1,a=function(){if(!n.menu)return!1;if(!t.resizing){if(n._menuvisible&&t._hasOpenedMenu)return!1;if(n._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0)if(t.enableanimations){s.css("display","block"),s.stop(),n.iconscontainer.stop(),t.rtl?(s.css("margin-left",-o),s.animate({"margin-left":"0px"},"fast",function(){s.css("display","block"),n._animating=!1,n._menuvisible=!0})):(s.css("margin-left","0px"),s.animate({"margin-left":-o},"fast",function(){s.css("display","block"),n._animating=!1,n._menuvisible=!0}));var e=t.rtl?o:-(32+o);n.iconscontainer.animate({"margin-left":e},"fast")}else{s.css("display","block");var e=t.rtl?16:-48;n.iconscontainer.css("margin-left",e+"px"),n._animating=!1,n._menuvisible=!0}}},l="mouseenter";if(t.isTouchDevice()&&(l="touchstart"),t.addHandler(r,l,function(i){var s=parseInt(i.pageX),o=t.columnsresize&&n.resizable?3:0,l=parseInt(r.coord().left);t.hasTransform&&(l=e.jqx.utilities.getOffset(r).left);var h=n.width;if(t.rtl&&(h=0),0!=o&&s>=l+h-o&&l+h+o>=s)return!1;var d=t.vScrollInstance.isScrolling();n.menu&&t.autoshowcolumnsmenubutton&&!d&&!t.disabled&&a()}),!t.autoshowcolumnsmenubutton){s.css("display","block");var h=t.rtl?16:-48;n.iconscontainer.css("margin-left",h+"px"),s.css(t.rtl?{"margin-left":"0px"}:{"margin-left":-o})}t.addHandler(r,"mouseleave",function(){if(t.menuitemsarray&&t.menuitemsarray.length>0&&n.menu){var i=e.data(document.body,"contextmenu"+t.element.id);if(void 0!=i&&s[0].id==i.columnsmenu.id)return;if(t.autoshowcolumnsmenubutton)if(t.enableanimations){t.rtl?s.css("margin-left","0px"):s.css("margin-left",-o),s.stop(),n.iconscontainer.stop(),t.rtl?s.animate({"margin-left":-o},"fast",function(){s.css("display","none"),n._menuvisible=!1}):s.animate({"margin-left":0},"fast",function(){s.css("display","none"),n._menuvisible=!1});var r=t.rtl?0:-32;n.iconscontainer.animate({"margin-left":r},"fast")}else{s.css("display","none");var r=t.rtl?0:-32;n.iconscontainer.css("margin-left",r+"px"),n._menuvisible=!1}}});var d=!0,c="",u=e(n.filtericon);t.addHandler(s,"mousedown",function(){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),c=e.data(document.body,"contextmenu"+t.element.id),null!=c&&(c=c.column.datafield)}),t.addHandler(u,"mousedown",function(){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),c=e.data(document.body,"contextmenu"+t.element.id),null!=c&&(c=c.column.datafield)});var p=function(){if(!n.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=n.datafield&&(t.columns.records[i]._menuvisible=!1);var r=s.coord(!0),o=s.height();if(!d&&(d=!0,c==n.datafield))return t._closemenu(),!1;var a=t.host.coord(!0);t.hasTransform&&(a=e.jqx.utilities.getOffset(t.host),r=e.jqx.utilities.getOffset(s)),a.left+t.host.width()>parseInt(r.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",r.left,r.top+o):t.gridmenu.jqxMenu("open",s.width()+r.left-t.gridmenu.width(),r.top+o),t.gridmenu.width()<100&&t._arrangemenu(),t._hasOpenedMenu=!0;var l=t._getmenuitembyindex(0),h=t._getmenuitembyindex(1),u=t._getmenuitembyindex(2),p=t._getmenuitembyindex(3),f=t._getmenuitembyindex(4),m=t._getmenuitembyindex(5);if(null!=l&&null!=h&&null!=u){var g=n.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",l.id,!g),t.gridmenu.jqxMenu("disable",h.id,!g),t.gridmenu.jqxMenu("disable",u.id,!g),void 0!=n.displayfield)if(t.sortcolumn==n.displayfield){var v=t.getsortinformation();g&&(v.sortdirection.ascending?t.gridmenu.jqxMenu("disable",l.id,!0):t.gridmenu.jqxMenu("disable",h.id,!0))}else t.gridmenu.jqxMenu("disable",u.id,!0)}if(null!=p&&null!=f&&(t.groupable&&n.groupable?t.groups&&-1!=t.groups.indexOf(n.datafield)?(t.gridmenu.jqxMenu("disable",p.id,!0),t.gridmenu.jqxMenu("disable",f.id,!1)):(t.gridmenu.jqxMenu("disable",p.id,!1),t.gridmenu.jqxMenu("disable",f.id,!0)):(t.gridmenu.jqxMenu("disable",f.id,!0),t.gridmenu.jqxMenu("disable",p.id,!0))),null!=m){t._updatefilterpanel(t,m,n);var w=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(w+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(w+=2);var x=27*w+3;e.jqx.browser.msie&&e.jqx.browser.version<8&&(x+=20,e(m).height(190)),t.filterable&&t.showfiltermenuitems&&(n.filterable?(t.gridmenu.height(x+180),e(m).css("display","block")):(t.gridmenu.height(x),e(m).css("display","none")))}e.data(document.body,"contextmenu"+t.element.id,{column:n,columnsmenu:s[0]})};t.addHandler(u,"click",function(){return n.menu?(t.showfilterrow||("block"!=s[0].style.display&&r.trigger("mouseenter"),setTimeout(function(){"block"!=s[0].style.display&&r.trigger("mouseenter"),p()},200)),!1):!1}),t.addHandler(s,"click",function(){return n.menu?(p(),!1):!1}),t.isTouchDevice()&&t.addHandler(s,e.jqx.mobile.getTouchEventName("touchstart"),function(){return n.menu?(t._hasOpenedMenu?t._closemenu():p(),!1):!1})},_removecolumnhandlers:function(t){var i=this.that,r=e(t.element);if(r.length>0){i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave");var s=e(t.filtericon);if(i.removeHandler(s,"mousedown"),i.removeHandler(s,"click"),i.removeHandler(r,"click"),i.removeHandler(r,"mousemove"),i.columnsreorder&&(i.removeHandler(r,"mousedown.drag"),i.removeHandler(r,"mousemove.drag")),i.removeHandler(r,"dragstart"),r[0].columnsmenu){var n=e(r[0].columnsmenu);i.removeHandler(n,"click"),i.removeHandler(n,"mousedown"),i.removeHandler(n,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,r){var s="4px";if(r.columngroups?(s=i/2-this._columnheight/2,0>s&&(s=4),s+="px"):25!=this.columnsheight&&(s=this.columnsheight/2-this._columnheight/2,0>s&&(s=4),s+="px"),this.enableellipsis)return'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if("center"==t||"middle"==t)return'<div style="padding-bottom: 2px; text-align: center; margin-top: '+s+';"><a href="#">'+e+"</a></div>";var n='<a style="margin-top: '+s+"; float: "+t+';" href="#">'+e+"</a>";return n},_renderrows:function(t,i){var r=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(r.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var s=this.source.totalrecords;isNaN(s)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=s&&(r.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||r.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0))),r._prerenderrows(t),r._requiresupdate&&(r._requiresupdate=!1,r._updatepageviews());var n=function(){r._loading||(r.WinJS?MSApp.execUnsafeLocalFunction(function(){r._rendervisualrows()}):r._rendervisualrows(),r.virtualmode&&r.showaggregates&&r._updateaggregates&&r.refreshaggregates())},o=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){var a=function(){if(r.rendergridrows){var e=r._startboundindex;void 0==e&&(e=0);var t=e+1+r.dataview.pagesize;if(null!=e&&null!=t){var s=r.source._source?!0:!1,n=s?r.source._source.recordstartindex:r.source.recordstartindex;if(n!=e||1==i){if(s){if(t>=r.source._source.totalrecords&&(t=r.source._source.totalrecords,e=t-r.dataview.pagesize-1,0>e&&(e=0),r.source._source.recordendindex==t&&r.source._source.recordstartindex==e))return;r.source._source.recordstartindex=e,r.source._source.recordendindex=t}else r.source.recordstartindex=e,r.source.recordendindex=t;r.updatebounddata("cells")}}}};this.loadondemand&&(n(),a(),this.loadondemand=!1);var l=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?n():this.autoheight?n():l||o||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){n()},5)):n()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var h=this._getfirstvisualrow();if(null!=h){var d=function(){if(null==h)return"";var t="<table>",i=r.deferreddatafields;null==i&&r.columns.records.length>0&&(i=new Array,i.push(r.columns.records[0].displayfield));for(var s=0;s<i.length;s++){var n=i[s],o=r._getcolumnbydatafield(n);if(o){var a=r._getcellvalue(o,h);""!=o.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(a)?a=e.jqx.dataFormat.formatdate(a,o.cellsformat,r.gridlocalization):e.jqx.dataFormat.isNumber(a)&&(a=e.jqx.dataFormat.formatnumber(a,o.cellsformat,r.gridlocalization))),t+="<tr><td>"+a+"</td></tr>"}}return t+="</table>"},c=this.scrollfeedback?this.scrollfeedback(h.bounddata):d(h.bounddata);c!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=c,this._scrollelementcontent=c)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){r.hScrollInstance.isScrolling()||r.vScrollInstance.isScrolling()||(n(),r._scrollelement.css("visibility","hidden"),r._scrollelementoverlay.css("visibility","hidden"),clearInterval(r._scrolltimer),h&&r.ensurerowvisible(h.visibleindex))},100))}navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5);var l=void 0==this._browser?this._isIE10():this._browser;if((l||o)&&(this._updatedelay=5),l&&this.hScrollInstance.isScrolling())return void n();if(e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)n();else{var u=this._jqxgridrendertimer;null!=u&&clearTimeout(u),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(u=setTimeout(function(){n()},this._updatedelay),this._jqxgridrendertimer=u):(this._jqxgridrendertimer=u,n())}}if(r.autorowheight&&!r.autoheight&&this._pageviews.length>0){var p=this._gettableheight(),f=this._pageviews[0].height;if(f>p)if(this.pageable&&this.gotopage&&(f=this._pageviews[0].height,0>f&&(f=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(p>=f||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),f-p>0){if("deferred"!=this.scrollmode){var m=f-p,g=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:m}),Math.round(m)!=Math.round(g)&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:f});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=f)}},scrolling:function(){var e=this.vScrollInstance.isScrolling(),t=this.hScrollInstance.isScrolling();return{vertical:e,horizontal:t}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var r=this.table[0].rows.length,s=this.columnsrow,n=this.groupable&&this.groups.length>0?this.groups.length:0,o=this.columns.records.length-n,a=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var h=0;r>h;h++)for(var d=this.table[0].rows[h],c=0;n+o>c;c++){var u=d.cells[c];if(void 0!=u){var p=a[c];if(p.pinned&&(u.style.marginLeft=i+"px",0==h)){var f=s[0].cells[c];f.style.marginLeft=i+"px"}}}this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else if(this._haspinned||void 0==this._haspinned){for(var h=0;r>h;h++)for(var d=this.table[0].rows[h],c=0;n+o>c;c++){var u=d.cells[c];if(void 0!=u){var p=a[c];if(p.pinned){if(0==i&&""==u.style.marginLeft)continue;var m=null,g=null;if(this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(g=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(m=this.statusbar[0].cells[c]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==h){var f=s[0].cells[c];f.style.marginLeft=-parseInt(t)+"px",m&&(m.style.marginLeft=-parseInt(t)+"px"),g&&(g.style.marginLeft=-parseInt(t)+"px")}}else if(u.style.marginLeft=i+"px",0==h){var f=s[0].cells[c];f.style.marginLeft=i+"px",m&&(m.style.marginLeft=i+"px"),g&&(g.style.marginLeft=i+"px")}}}}this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var v=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(v=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+v+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,r,s){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+r};var n=0,o=-1,a=i+r,l=!1;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var h=0;i+r>h;h++){if(l||this.columns.records[h].pinned&&(l=!0),this.columns.records[h].hidden||(n+=this.columns.records[h].width),n>=e&&-1==o&&(o=h),n>t+e){a=h;break}}return a++,a>i+r&&(a=i+r),(-1==o||l)&&(o=0),{start:o,end:a}},_getfirstvisualrow:function(){var e=this.vScrollInstance,t=e.value,i=parseInt(t);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(i=0),!this.pageable){var r=this._findvisiblerow(i,this._pageviews);if(-1==r)return null;r!=this.dataview.pagenum?(this.dataview.pagenum=r,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var s=this._findvisiblerow(i,this._pagescache[this.dataview.pagenum]),n=this._pagescache[this.dataview.pagenum];return n&&n[0]?n[s]:void 0},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,r=t.value,s=i.value,n=parseInt(r),o=parseInt(s),a=this._gettableheight(),l=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(a+=29),"deferred"==this.scrollmode&&0!=this._newmax&&n>this._newmax&&null!=this._newmax&&(n=this._newmax);var h=t.isScrolling()||i.isScrolling()||this._keydown,d=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(n=0),!this.pageable){var c=this._findvisiblerow(n,this._pageviews);if(-1==c)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();c!=this.dataview.pagenum?(this.dataview.pagenum=c,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var p=this.columns.records.length-u,f=this._findvisiblerow(n,this._pagescache[this.dataview.pagenum]),m=this._pagescache[this.dataview.pagenum],g=f;0>g&&(g=0);var v=0,w=0,x=0,b=0,_=this.virtualsizeinfo.visiblerecords,y=this.groupable?this.groups.length:0,j=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(j+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(_=this.dataview.pagesize),d&&(j=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(j+=" "+this.toTP("jqx-touch")),this.autorowheight&&(j+=" jqx-grid-cell-wrap");var C=this.rowsheight,q=this._rendercell,T=!0,S=this._getvisualcolumnsindexes(o,l,u,p,d),I=S.start,k=S.end;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(g=0),g>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=m?m[g].bounddata.boundindex:0,this._startvisibleindex=null!=m?m[g].bounddata.visibleindex:0;for(var B=0;_>B&&_>w;B++){var H=void 0!=m?m[g+B]:null;if(null==H){if(g=-B,this._pagescache[this.dataview.pagenum+1])m=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var z=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){m=void 0;break}this.dataview.pagenum++,m=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),m=this._pagescache[this.dataview.pagenum])}while(void 0==m&&this.dataview.pagenum<z)}void 0!=m&&(H=m[g+B])}if(null!=H){if(H.hidden)continue;if(this._endboundindex=this._startboundindex+B,this._endvisibleindex=this._startvisibleindex+B,0==B){var L=Math.abs(n-H.top);this.table[0].style.top=-L+"px",b=-L}var P=this.table[0].rows[w];if(!P)continue;parseInt(P.style.height)!=H.height&&(P.style.height=parseInt(H.height)+"px"),x+=H.height;var D=this.rowdetails&&H.rowdetails,A=!H.rowdetailshidden;D&&A&&(P.style.height=parseInt(H.height-H.rowdetailsheight)+"px",_++);for(var E=this._isrowselected(T,H),M=I;k>M;M++){var O=M;this._rendervisualcell(q,j,E,D,A,d,y,P,H,O,w,h)}if(void 0!=H.group&&this._rendergroup&&this._rendergroup(y,P,H,u,p,w,l),this.autorowheight&&(this.autoheight||this.pageable)){for(var C=this.rowsheight,M=I;k>M;M++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[M].datafield&&this.editcell.row==this.getboundindex(H)?C=Math.max(C,this.editcell.editor.height()):P.cells[M].firstChild&&(C=Math.max(C,8+parseInt(P.cells[M].firstChild.offsetHeight)));P.style.height=parseInt(C)+"px",this.heights[this._startboundindex+B]=C,D&&A&&(C+=H.rowdetailsheight),H.height=C}if(this.visiblerows[this.visiblerows.length]=H,this.hittestinfo[this.hittestinfo.length]={row:H,visualrow:P,details:!1},D&&A){w++;var P=this.table[0].rows[w];this._renderrowdetails(j,P,H,u,p,w),this.visiblerows[this.visiblerows.length]=H,this.hittestinfo[this.hittestinfo.length]={row:H,visualrow:P,details:!0}}if(!this.autorowheight&&x+b>=a)break}else cansetheight=!0,this._clearvisualrow(o,d,w,u,p),a>=x+v+b&&(v+=C);w++}if(this._horizontalvalue=o,v>0&&"visible"==this.vScrollBar[0].style.visibility){var N=(parseInt(this.table.css("top")),this._pageviews[this._pageviews.length-1]),W=t.max,R=N.top+N.height-a;"visible"==this.hScrollBar.css("visibility")&&(R+=this.scrollbarsize+20),W==R||this.autorowheight||R>=0&&("deferred"!=this.scrollmode?(t.max=R,t.setPosition(t.max)):this._newmax!=R&&(this._newmax=R,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var F=0,U=0,$=0;$<this.visiblerows.length;$++){var V=this.visiblerows[$];V.top=F,F+=V.height,U+=V.height;var D=this.rowdetails&&V.rowdetails,A=!V.rowdetailshidden,P=this.table[0].rows[$];D&&A&&$++;for(var M=I;k>M;M++){var G=this.columns.records[M];if(!G.hidden&&!G.cellsrenderer){var X=P.cells[M],Y=0;if(X.firstChild){var Y=(V.height-parseInt(X.firstChild.offsetHeight)-8)/2;if(D&&A)var Y=(V.height-V.rowdetailsheight-e(X.firstChild).height()-8)/2}else var Y=(V.height-parseInt(e(X).height())-8)/2;if(Y>=0&&(Y=parseInt(Y)+4,X.firstChild&&-1==X.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=G.columntype&&"button"!=G.columntype)){if(this.editable&&this.editcell&&this.editcell.column==G.datafield&&this.editcell.row==this.getboundindex(V))continue;X.firstChild.style.marginTop=Y+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=U),this._arrange()}this._renderemptyrow()}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,r=0;r<t.cells.length;r++){var s=e(t.cells[r]);"none"==s.css("display")||i||(s.width()==this.host.width()||s.text()==this.gridlocalization.emptydatastring)&&(s[0].checkbox=null,s[0].button=null,i=!0,s[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var r=this.table[0].rows[0];this.table[0].style.top="0px";for(var s=0;s<r.cells.length;s++){var n=e(r.cells[s]);if("none"!=n.css("display")&&!t){n[0].checkbox=null,n[0].button=null,n[0].className=i,t=!0,n[0].innerHTML="";var o=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");o.text(this.gridlocalization.emptydatastring),n.append(o);var a=0;this.oldhscroll||(a=parseInt(this.table[0].style.marginLeft),this.rtl&&(n.css("z-index",999),n.css("overflow","visible"))),o.css("left",-a-o.width()/2),o.css("top",this._gettableheight()/2-o.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(o.css("margin-left","0px"),o.css("left",this.host.width()/2-o.width()/2));var l=Math.abs(parseInt(this.table[0].style.top));isNaN(l)&&(l=0),e(r).height(this._gettableheight()+l),n.css("margin-left","0px"),n.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}n.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance,i=t.value,r=parseInt(i),s=this.groupable&&this.groups.length>0;if(this.columns.records)for(var n=0;e>n;n++)this._clearvisualrow(r,s,n,0,this.columns.records.length)},_iscellselected:function(e,t,i){var r=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var n=this.getrowboundindexbyid(t.bounddata.uid);for(var o in this.selectedcells)o==n+"_"+i&&(r=!0);return r}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||void 0==t.bounddata.dataindex)for(var o in this.selectedcells)o==s+t.bounddata.boundindex+"_"+i&&(r=!0);else for(var o in this.selectedcells)o==s+t.bounddata.dataindex+"_"+i&&(r=!0);else for(var o in this.selectedcells)if(o==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||void 0==t.bounddata.dataindex){for(var o in this.selectedcells)if(o==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else for(var o in this.selectedcells)if(o==s+t.bounddata.dataindex+"_"+i){r=!0;break}}else for(var o in this.selectedcells)if(o==s+t.bounddata.boundindex==this.selectedrowindex){r=!0;break}return r},_isrowselected:function(e,t){var i=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var s=this.getrowboundindexbyid(t.bounddata.uid);return void 0==s||-1==s?!1:(-1!=this.selectedrowindexes.indexOf(s)&&(i=!0),i||(i=s==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):r+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,r,s,n,o,a,l,h,d,c,u){var p=this.columns.records[d];if(p.hidden){var f=l.cells[d];return void(f.innerHTML="")}cellvalue=this._getcellvalue(p,h);var f=l.cells[d],m=i;if(-1!=this.selectionmode.indexOf("cell")&&(r=this.dataview.filters.length>0?this.selectedcells[h.bounddata.dataindex+"_"+p.datafield]?!0:!1:this.selectedcells[h.boundindex+"_"+p.datafield]?!0:!1,this.editcell&&this.editcell.row===h.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(r=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(r=this._iscellselected(!0,h,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)m+=" "+p.cellclassname;else{var g=p.cellclassname(this.getboundindex(h),p.datafield,cellvalue,h.bounddata);g&&(m+=" "+g)}var v=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn;if(v&&(m+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(m+=o?" "+this.toTP("jqx-grid-cell-pinned"):" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==h.group){var w=h.visibleindex;w>=this.altstart&&(this.altstart+w)%(1+this.altstep)==0&&(m+=v?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(a>=d){if(o||this.rowdetails){var x=e(f),b=this.columns.records[d].width;f.style.width!=parseInt(b)+"px"&&x.width(b)}}else if((o||this.rowdetails)&&this._hiddencolumns){var x=e(f),b=this.columns.records[d].width;parseInt(f.style.width)!=b&&x.width(b)}var _=!0;if(this.rowdetails&&s&&(n&&!o?m+=" "+this.toTP("jqx-grid-details-cell"):o&&(m+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==h.group&&d==l.cells.length-a-1){var y=this.toThemeProperty("jqx-icon-arrow-down");if(n)m+=" "+this.toTP("jqx-grid-group-expand-rtl"),m+=" "+y;else{m+=" "+this.toTP("jqx-grid-group-collapse-rtl");var y=this.toThemeProperty("jqx-icon-arrow-left");m+=" "+y}return _=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}}else if(void 0==h.group&&d==a){var y=this.toThemeProperty("jqx-icon-arrow-down");if(n)m+=" "+this.toTP("jqx-grid-group-expand"),m+=" "+y;else{m+=" "+this.toTP("jqx-grid-group-collapse");var y=this.toThemeProperty("jqx-icon-arrow-right");m+=" "+y}return _=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}return r&&_&&d>=a&&(m+=" "+this.toTP("jqx-grid-cell-selected"),m+=" "+this.toTP("jqx-fill-state-pressed")),f.className!=m&&(f.className=m),void 0!=h.group?(cellvalue="",f.title="",void(f.innerHTML="")):void t(this,p,h,cellvalue,f,u)},_rendercell:function(t,i,r,s,n,o){var a=s+"_"+i.visibleindex;if("number"==i.columntype||null!=i.cellsrenderer)var a=r.uniqueid+"_"+i.visibleindex;if("number"==i.columntype&&(s=r.visibleindex),t.editcell&&void 0==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(r)&&t._showcelleditor)return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,n,!1,!1):t._showcelleditor(t.editcell.row,i,n,t.editcell.init))}else if(t.editcell.row==t.getboundindex(r)&&t.editcell.column==i.datafield&&(t.editcell.element=n,t.editcell.editing&&t._showcelleditor))return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init));var l=t._defaultcellsrenderer(s,i),h=t._cellscache[a];if(h){if("inline"==i.columntype){if(t._renderinlinecell(t,n,i,r,s),null!=i.cellsrenderer){var d=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata);void 0!=d&&(n.innerHTML=d)}return}if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===s&&(s=null);var c=0==n.innerHTML.toString().length;if(!n.checkbox||t.groupable||c?t._rendercheckboxcell(t,n,i,r,s):(n.checkboxrow=t.getboundindex(r),""==s&&(s=!1),"1"==s&&(s=!0),"0"==s&&(s=!1),1==s&&(s=!0),0==s&&(s=!1),"true"==s&&(s=!0),"false"==s&&(s=!1),null!=s||i.threestatecheckbox||(s=!1),i.checkboxcolumn&&(s=!1,t.dataview.filters.length>0&&!t.virtualmode&&void 0!=r.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(r.bounddata.dataindex)&&(s=!0):-1!=t.selectedrowindexes.indexOf(r.bounddata.boundindex)&&(s=!0)),t.disabled||(n.checkboxinstance?n.checkboxinstance._setState(s):n.checkbox.jqxCheckBox("_setState",s))),null!=i.cellsrenderer){var d=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata);void 0!=d&&(n.innerHTML=d)
}return}}else if("button"==i.columntype&&t.host.jqxButton)return""==s&&(s=!1),null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata)),""==n.innerHTML&&(n.buttonrow=t.getboundindex(r),n.button=null,t._renderbuttoncell(t,n,i,r,s)),void(n.button&&!t.groupable?(n.buttonrow=t.getboundindex(r),n.button.val(s)):t._renderbuttoncell(t,n,i,r,s));var u=h.element;if(null!=i.cellsrenderer||n.childNodes&&0==n.childNodes.length||t.groupable||t.rowdetails)n.innerHTML!=u&&(n.innerHTML=u);else if(n.innerHTML.indexOf("editor")>=0)n.innerHTML=u;else if(o){var p=u.indexOf(">"),f=u.indexOf("</"),m=u.substring(p+1,f),g=n.childNodes[0];if(m.indexOf(">")>=0)n.innerHTML=u;else if(g.childNodes[0])m!=g.childNodes[0].nodeValue&&(m.indexOf("&")>=0?n.innerHTML=u:g.childNodes[0].nodeValue=m);else{var v=document.createTextNode(m);g.appendChild(v)}}else n.innerHTML!=u&&(n.innerHTML=u);return void(t.enabletooltips&&i.enabletooltips&&(n.title=h.title))}if("checkbox"==i.columntype)return t._rendercheckboxcell(t,n,i,r,s),t._cellscache[a]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(n.title=s));if("button"==i.columntype)return null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata)),t._renderbuttoncell(t,n,i,r,s),t._cellscache[a]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(n.title=s));if("number"==i.columntype)s=r.visibleindex;else if("inline"==i.columntype)return t._renderinlinecell(t,n,i,r,s),t._cellscache[a]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(n.title=s));var u=null;u=null!=i.cellsrenderer?i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata):l,null==u&&(u=l);var w=s;return t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?w=e.jqx.dataFormat.formatdate(w,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(w=e.jqx.dataFormat.formatnumber(w,i.cellsformat,this.gridlocalization))),n.title=w),t.WinJS?e(n).html(u):n.innerHTML=u,t._cellscache[a]={element:n.innerHTML,title:w},!0},_isIE10:function(){if(void 0==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,i+="User-agent header: "+navigator.userAgent,-1!=i.indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i){e(i);i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,r,s,n){if(t.host.jqxCheckBox){var o=e(i);if(""===n&&(n=r.threestatecheckbox?null:!1),"1"==n&&(n=!0),"0"==n&&(n=!1),1==n&&(n=!0),0==n&&(n=!1),"true"==n&&(n=!0),"false"==n&&(n=!1),r.checkboxcolumn){n=!1;var a=this.getboundindex(s);-1!=this.selectedrowindexes.indexOf(a)&&(n=!0)}if(0==o.find(".jqx-checkbox").length){i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:r.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:n}),this.editable&&r.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),r.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(s);var l=e.data(i.firstChild,"jqxCheckBox").instance;l.updated=function(s,n,o){if(t.disabled){n=o;for(var a=t.table[0].rows.length,l=t._getcolumnindex(r.datafield),h=0;a>h;h++){var d=t.table[0].rows[h].cells[l].firstChild;d&&e(d).jqxCheckBox({disabled:t.disabled})}}if(r.editable&&!t.disabled){var a=t.table[0].rows.length,l=t._getcolumnindex(r.datafield);if(void 0==t.editrow){if(r.cellbeginedit){var c=r.cellbeginedit(i.checkboxrow,r.datafield,r.columntype,!n);if(0==c)return void t.setcellvalue(i.checkboxrow,r.datafield,!n,!0)}if("selectedrow"!==t.editmode)for(var h=0;a>h;h++){var d=t.table[0].rows[h].cells[l].firstChild;d&&e(d).jqxCheckBox("destroy")}t.editcell&&0==t.editcell.validated?t.setcellvalue(i.checkboxrow,r.datafield,!n,!0):"selectedrow"!==t.editmode||null==t.editcell?(t._raiseEvent(17,{rowindex:i.checkboxrow,datafield:r.datafield,value:o,columntype:r.columntype}),t.setcellvalue(i.checkboxrow,r.datafield,n,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,datafield:r.datafield,oldvalue:o,value:n,columntype:r.columntype})):t.setcellvalue(i.checkboxrow,r.datafield,n,!1,!1)}}else r.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(n?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))}}else i.checkboxrow=this.getboundindex(s),e(i.firstChild).jqxCheckBox("_setState",n)}},_renderbuttoncell:function(t,i,r,s,n){if(t.host.jqxButton){var o=e(i);if(""==n&&(n=!1),0==o.find(".jqx-button").length){i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(n),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:r.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(s);var a=this.isTouchDevice();if(a){var l=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),l,function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)})}else i.buttonrow=t.getboundindex(s),e(i.firstChild).val(n)}},_clearvisualrow:function(t,i,r,s,n){var o=this.toTP("jqx-grid-cell");i&&(o=" "+this.toTP("jqx-grid-group-cell")),o+=" "+this.toTP("jqx-grid-cleared-cell");for(var a=this.table[0].rows,l=0;s+n>l;l++)if(a[r]){var h=a[r].cells[l];h.className!=o&&(h.className=o);var d=this.columns.records[l];if(this._horizontalvalue!=t&&!d.pinned&&1==this.oldhscroll){h.style.marginLeft=-t+"px"}var c=d.width;c<d.minwidth&&(c=d.minwidth),c>d.maxwidth&&(c=d.maxwidth),parseInt(h.style.width)!=c&&(e(h)[0].style.width="auto"!=c?c+"px":c),""!=h.title&&(h.title=""),""!=h.innerHTML&&(h.innerHTML="")}a[r]&&parseInt(a[r].style.height)!=this.rowsheight&&(a[r].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null==t?!1:t.expanded},_findgroup:function(e){var t=null;return this.expandedgroups[e]?this.expandedgroups[e]:t},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,function(){return this.datafield==t?(i=this.text,r=this,!1):void 0}),this._columnsbydatafield[t]={label:i,column:r},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this.text,r=this,!1):void 0}),this.__columnsbydatafield[t]=r,this.__columnsbydatafield[t]},isscrollingvertically:function(){var e=this.vScrollBar.jqxScrollBar("isScrolling");return e},_renderrowdetails:function(t,i,r,s,n){if(void 0!=i){var o=e(i),a=0,l=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var h=0;n>=h;h++){var d=e(i.cells[h]);d[0].innerHTML="",d[0].className="jqx-grid-details-cell"}var d=e(i.cells[a]);if("none"==d[0].style.display){for(var c=i.cells[a],u=2,p=a;void 0!=c&&"none"==c.style.display&&10>u;)c=i.cells[p+u-1],u++;d=e(c)}if(this.rtl)for(var f=s;n>f;f++)i.cells[f].innerHTML="",i.cells[f].className="jqx-grid-details-cell";d.css("width","100%"),o.height(r.rowdetailsheight),d[0].className=t;var m=this.getboundindex(r),g=m+"_";if(this._rowdetailscache[g]){var v=this._rowdetailscache[g],w=v.html;if(this.initrowdetails){if(this._rowdetailscache[g].element){var x=this._rowdetailscache[g].element,b=d.coord(),_=this.gridcontent.coord(),y=parseInt(b.top)-parseInt(_.top),j=parseInt(b.left)-parseInt(_.left);this.rtl&&(j=0),e(x).css("top",y),e(x).css("left",j),e(x).css("display","block"),e(x).width(this.host.width()-l),this.layoutrowdetails&&this.layoutrowdetails(m,x,this.element,this.getrowdata(m))}}else d[0].innerHTML=w}else{d[0].innerHTML="",this.enablerowdetailsindent||(l=0);var C='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+l+'px;">'+r.rowdetails+"</div>";if(this.rtl)var C='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+l+'px;">'+r.rowdetails+"</div>";if(this._rowdetailscache[g]={id:i.id,html:C},this.initrowdetails){var x=e(C)[0];e(this.gridcontent).prepend(e(x)),e(x).css("position","absolute"),e(x).width(this.host.width()-l),e(x).height(d.height());var b=d.coord();e(x).css("z-index",9999),this.isTouchDevice()&&e(x).css("z-index",99999),e(x).addClass(this.toThemeProperty("jqx-widget-content"));var b=d.coord(),_=this.gridcontent.coord(),y=parseInt(b.top)-parseInt(_.top),j=parseInt(b.left)-parseInt(_.left);e(x).css("top",y),e(x).css("left",j),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var q=e(e(x).children()[0]);""!=q[0].id&&(q[0].id=q[0].id+m),this.initrowdetails(m,x,this.element,this.getrowdata(m)),this._rowdetailscache[g].element=x,this._rowdetailselementscache[m]=x}else d[0].innerHTML=C}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var r="4px";if(25!=this.rowsheight&&(r=this.rowsheight/2-this._cellheight/2,0>r&&(r=4),r+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div style="text-overflow: ellipsis; overflow: hidden; padding-bottom: 2px; text-align: center; margin-top: '+r+';">'+t+"</div>";if("left"==i.cellsalign)return'<div style="overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin-right: 2px; margin-left: 4px; margin-top: '+r+';">'+t+"</div>";if("right"==i.cellsalign)return'<div style="overflow: hidden;  text-overflow: ellipsis; padding-bottom: 2px; text-align: right; margin-right: 2px; margin-left: 4px; margin-top: '+r+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+r+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+r+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var r=this.getcellvalue(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),r},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var r=this.getcellvaluebyid(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),r},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrenderedrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},_getcellresult:function(e,t,i){var r=this.getcolumn(i);if(null==r||void 0==r)return null;var s=r.getcolumnproperties(),n=s.hidden,o=s.width,a=s.pinned,l=s.cellsalign,h=s.cellsformat,d=this.getrowheight(t);return 0==d?null:{value:e,row:t,column:i,datafield:i,width:o,height:d,hidden:n,pinned:a,align:l,format:h}},setcellvaluebyid:function(e,t,i,r,s){var n=this.getrowboundindexbyid(e);return this.setcellvalue(n,t,i,r,s)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,r,s,n){if(null==t||null==i)return!1;var o=parseInt(t),a=o,l=t;isNaN(o)||(l=this.getrowdata(o));var h=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(h=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var d="",c="";if(null==l||l[i]===r)return this._updating||0==s||this._renderrows(this.virtualsizeinfo),!1;if(null!==l[i]||""!==r){var u=this._getcolumnbydatafield(i),p="string",f=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(f){var m="";e.each(f,function(){return this.name==u.displayfield?(this.type&&(m=this.type),!1):void 0}),m&&(p=m),c=l[u.displayfield]}if(d=l[i],!u.nullable||null!=r&&""!==r&&u.nullable&&void 0===r.label){if(e.jqx.dataFormat.isNumber(d)||"number"==p||"float"==p||"int"==p||"decimal"==p&&"date"!=p)r=new Number(r),r=parseFloat(r),isNaN(r)&&(r=0);else if((e.jqx.dataFormat.isDate(d)||"date"==p)&&""!=r){var g=r;g=new Date(g),"Invalid Date"!=g&&null!=g?r=g:"Invalid Date"==g&&(g=new Date,r=g)}if(l[i]===r)return void(this._updating||0==s||this._renderrows(this.virtualsizeinfo))}var v=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(l[i]=r,v){var w=this.source._source.localdata;w._updating||(w._updating=!0,w[t][i]=r,w._updating=!1)}var x=this.getrenderedrowdata(o,!0);if(x){if(x[i]=r,null!=r&&null!=r.label){var u=this._getcolumnbydatafield(i);l[u.displayfield]=r.label,x[u.displayfield]=r.label,l[i]=r.value,x[i]=r.value,v&&!w._updating&&(w._updating=!0,w[t][i]=r.value,w[t][u.displayfield]=r.label,w._updating=!1)}if(h&&void 0!=l.dataindex&&(a=l.dataindex,this.dataview.cachedrecords[l.dataindex][i]=r,null!=r&&void 0!=r.label&&(this.dataview.cachedrecords[l.dataindex][i]=r.value,this.dataview.cachedrecords[l.dataindex][u.displayfield]=r.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var b=o;h&&void 0!=l.dataindex&&(b=l.dataindex);var _=this.source._source._localdata()[b];this.source.suspendKO=!0;var y=_;if(y[i]&&y[i].subscribe)null!=r&&null!=r.label?(y[u.displayfield](r.label),y[i](r.value)):y[i](r);else{var f=this.source._source.datafields,j=null;if(f&&e.each(f,function(){return this.name==i?(j=this.map,!1):void 0}),null==j)null!=r&&null!=r.label?(y[i]=r.value,y[u.displayfield]=r.label):y[i]=r;else{var C=j.split(this.source.mapChar);if(C.length>0){for(var q=y,T=0;T<C.length-1;T++)q=q[C[T]];q[C[C.length-1]]=r}}this.source._source._localdata.replace(_,e.extend({},y))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var S=this.getsortinformation();this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(S.sortcolumn,S.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this.source.updaterow&&(void 0==n||1==n)){var I=!1,k=this.that,B=function(e){0==e&&(k.setcellvalue(t,i,d,!0,!1),d!=c&&k.setcellvalue(t,k.getcolumn(i).displayfield,c,!0,!1))};try{var H=this.getrowid(o);I=this.source.updaterow(H,l,B),void 0==I&&(I=!0)}catch(z){return I=!1,k.setcellvalue(t,i,d,!0,!1),void(d!=c&&k.setcellvalue(t,k.getcolumn(i).displayfield,c,!0,!1))}}var L=this.vScrollInstance.value;if(this._updating&&1!=s&&(s=!1),1==s||void 0==s){var k=this.that,P=function(){k.pageable&&k.updatepagerdetails&&(k.updatepagerdetails(),(k.autoheight||k.autorowheight)&&k._updatepageviews())},D=this.groupable&&this.groups.length>0;h&&!D?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),P(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!D?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),P(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(L),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var A=this.getcolumn(i).filtertype;("list"==A||"checkedlist"==A)&&this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:r,value:r,oldvalue:d}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e;if(isNaN(i)||(r=this.getrowdata(i)),null!=r){var s=r[t];return s}return null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,r=0;r<this.dataview.records.length;r++){var s=this.dataview.records[r];s&&i.push(s)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){var e=this;e&&i.push(e)});var n=0;return this.pageable&&(n=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-n?i.slice(0,this.source._source.totalrecords-n):i}if(this.dataview.sortdata){for(var i=new Array,r=0;t>r;r++){var o={};o=e.extend({},this.dataview.sortdata[r].value),i[r]=o}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return r;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){if(void 0==e&&(e=0),this.virtualmode){var t=this.dataview.records[e];return t}var t=this.getboundrows()[e];return t},getrenderedrowdata:function(e,t){if(void 0==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e),r=this.dataview.loadedrecords[i];return r}var i=this.getrowvisibleindex(e);if(i>=0){if(this.groupable&&this.groups.length>0)var r=this.dataview.loadedrecords[i];else{var r=this.dataview.loadedrecords[i];if(this.pageable&&(void 0==t||0==t))var r=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return r}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(void 0!==t[i].dataindex){if(t[i].dataindex===e)return t[i].visibleindex}else if(t[i].boundindex===e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){var i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum];if(void 0==i)break;e.push(i)}return e}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(var e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i=this.dataview.loadedrecords[t];if(void 0==i)break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(void 0==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}else{var i=null,r=this.dataview.filters.length>0;if(e>=0&&e<this.dataview.bounditems.length&&!r){if(this.groupable&&this.groups.length>0)var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];else var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}if(this.dataview.filters.length>0){var i=this.getboundrows()[e];return i&&null!=i.uid?i.uid:null}}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,r){if(void 0!=t&&void 0!=i){var s=this.that,n=!1;s._datachanged=!0;var o=function(t,i,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var n=!1;e.isArray(i)?(e.each(i,function(e){n=t.dataview.updaterow(this,s[e],!1)}),t.dataview.refresh()):n=t.dataview.updaterow(i,s);var o=t.vScrollInstance.value;if((void 0==r||1==r)&&(void 0==t._updating||0==t._updating)&&t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var a=t.dataview.recordsbyid["id"+i],l=t.dataview.records.indexOf(a),h=t.source._source._localdata()[l];t.source.suspendKO=!0,t.source._source._localdata.replace(h,e.extend({},a)),t.source.suspendKO=!1}var d=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(d&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var c=t.getrowboundindexbyid(i);t.source._source.localdata.set(c,s),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(o),n};if(this.source.updaterow){var a=function(e){1==e||void 0==e?o(s,t,i):n=!1};try{n=this.source.updaterow(t,i,a),void 0==n&&(n=!0)}catch(l){n=!1}}else n=o(s,t,i);return n}return!1},deleterow:function(t,i){if(void 0!=t){this._datachanged=!0;var r=!1,s=this.that,n=this.getrowboundindexbyid(t);void 0!=n&&(this.selectedrowindexes.indexOf(n)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(n),1),this.selectedrowindex==n&&(this.selectedrowindex=-1));var o=function(t,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var s=!1,o=t.vScrollInstance.value;if(e.isArray(r))e.each(r,function(){s=t.dataview.deleterow(this,!1)}),t.dataview.refresh();else var s=t.dataview.deleterow(r);(void 0==t._updating||0==t._updating)&&(void 0==i||1==i)&&(t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1);var a=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(a&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(n,1),t.source._source.localdata._updating=!1)),t.dataview.sortby){var l=t.getsortinformation();t.dataview.clearsortdata(),t.dataview.sortby(l.sortcolumn,l.sortdirection?l.sortdirection.ascending:null)}return t.vScrollInstance.setPosition(o),s};if(this.source.deleterow){var a=function(e){(1==e||void 0==e)&&o(s,t)};try{this.source.deleterow(t,a),void 0==r&&(r=!0)}catch(l){r=!1}}else r=o(s,t);return r}return!1},addrow:function(t,i,r){if(void 0!=i){this._datachanged=!0,void 0==r&&(r="last");var s=!1,n=this.that;if(null==t){var o=this.dataview.filters&&this.dataview.filters.length>0,a=o?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var l=new Array;e.each(i,function(e){var t=n.dataview.getid(n.dataview.source.id,i[e],a+e);l.push(t)}),t=l}else for(t=this.dataview.getid(this.dataview.source.id,i,a);null!=this.dataview.recordsbyid["id"+t];)t++}var h=function(t,i,r,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var n=t.vScrollInstance.value,o=!1;e.isArray(r)?(e.each(r,function(e){void 0!=this.dataindex&&delete this.dataindex;var r=null;null!=i&&null!=i[e]&&(r=i[e]),o=t.dataview.addrow(r,this,s,!1)}),t.dataview.refresh()):(void 0!=r&&void 0!=r.dataindex&&delete r.dataindex,o=t.dataview.addrow(i,r,s)),(void 0==t._updating||0==t._updating)&&(t._render(!0,!0,!1,!1),t.invalidate()),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(r),t.source.suspendKO=!1);var a=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(a&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var l=t.getrowboundindexbyid(i);t.source._source.localdata.set(l,r),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition("deferred"!=t.scrollmode?n:0),o};if(this.source.addrow){var d=function(e,s){(1==e||void 0==e)&&(void 0!=s&&(t=s),h(n,t,i,r))};try{s=this.source.addrow(t,i,r,d),void 0==s&&(s=!0)}catch(c){s=!1}if(0==s)return!1}else h(this,t,i,r);return s}return!1},_findvisiblerow:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;(void 0==t||null==t)&&(t=this.rows.records);for(var r=t.length;r>=i;){mid=parseInt((i+r)/2);var s=t[mid];if(void 0==s)break;if(s.top>e&&s.top+s.height>e)r=mid-1;else{if(!(s.top<e&&s.top+s.height<e))return mid;i=mid+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(void 0!=t.gridcontent){void 0==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,r=0,s=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(s=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),s=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(s=t.dataview.totalrecords),t.rowdetails&&(s+=t.dataview.pagesize),t.columns.records){for(var n=t.columns.records.length,o=t.table[0].rows,a=0;s>a;a++){var l=o[a];if(!l)break;for(var h=l.cells,d=0,c=0;n>c;c++){var u=t.columns.records[c],p=u.width,f=h[c];parseInt(f.style.left)!=d&&(f.style.left=d+"px"),parseInt(f.style.width)!=p&&(f.style.width=p+"px"),u.hidden&&u.hideable?f.style.display="none":d+=parseFloat(p)}0==r&&(t.table.width(parseFloat(d)+2),r=d)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,r=e.vScrollBar[0].style.visibility;"visible"==r&&(i=e.scrollbarsize+3),e.scrollbarautoshow&&(i=0);var s=e.element.style.width;if(s=s.toString().indexOf("%")>=0?e.host.width():parseInt(s),parseInt(e.table[0].style.width)-2>s-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==r){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var n=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(n)&&n>0&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",n+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",n))}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),void 0==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;" height="100%"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var r=i.groupable&&i.groups.length>0,s=0;i.table[0].rows=new Array;var n=i.toTP("jqx-grid-cell");r&&(n=" "+i.toTP("jqx-grid-group-cell"));var o=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(o=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),o=i.dataview.rows.length,o<i.dataview.pagesize&&(o=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(o=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(o=i.dataview.rows.length),i.rowdetails&&(o+=i.autoheight||i.autorowheight?i.dataview.pagesize:o),!i.columns.records)return;var a=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),e.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&i.host.attr("hideFocus","true");var h=i.tableZIndex;o*a>h&&(h=o*a);var d=(0==i.dataview.records.length,i.isTouchDevice(),"");i._hiddencolumns=!1;for(var c=0;o>c;c++){var u='<div role="row" style="position: relative; height='+i.rowsheight+'px;" id="row'+c+i.element.id+'">';if(l){var u='<div role="row" style="position: relative; z-index: '+h+"; height:"+i.rowsheight+'px;" id="row'+c+i.element.id+'">';h--}for(var p=0,f=0;a>f;f++){var m=i.columns.records[f],g=m.width;if(g<m.minwidth&&(g=m.minwidth),g>m.maxwidth&&(g=m.maxwidth),i.rtl){var v=h-a+2*f,w='<div role="gridcell" style="left: '+p+"px; z-index: "+v+"; width:"+g+"px;";h--}else var w='<div role="gridcell" style="left: '+p+"px; z-index: "+h--+"; width:"+g+"px;";m.hidden&&m.hideable?(w+="display: none;",i._hiddencolumns=!0,h++):p+=g,w+='" class="'+n+'"></div>',u+=w}0==s&&(i.table.width(parseInt(p)+2),s=p),u+="</div>",d+=u}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(d)}):i.table[0].innerHTML=d,i.table[0].rows=new Array;for(var x=i.table.children(),c=0;o>c;c++){var b=x[c];i.table[0].rows.push(b),b.cells=new Array;for(var _=e(b).children(),f=0;a>f;f++)b.cells.push(_[f])}if(0==o){var p=0;if(i.showemptyrow){var u=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>');i.table.append(u),u.height(i.rowsheight),i.table[0].rows[0]=u[0],i.table[0].rows[0].cells=new Array}for(var f=0;a>f;f++){var m=i.columns.records[f],g=m.width;
if(i.showemptyrow){var w=e('<div style="position: absolute; height: 100%; left: '+p+"px; z-index: "+h--+"; width:"+g+'px;" class="'+n+'"></div>');w.height(i.rowsheight),u.append(w),i.table[0].rows[0].cells[f]=w[0]}g<m.minwidth&&(g=m.minwidth),g>m.maxwidth&&(g=m.maxwidth),m.hidden&&m.hideable||(p+=g)}i.table.width(parseInt(p)+2),s=p}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,r=!1,s=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:void 0==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,r=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var n=0,o=0;o<i.columns.records.length;o++){var a=i.columns.records[o].width;"auto"==a?(a=i._measureElementWidth(i.columns.records[o].text),n+=a):n+=a}"hidden"!=i.vScrollBar.css("visibility")&&(n+=i.scrollbarsize+4),e=n,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:void 0==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,s=!0);var l=function(){var e=0,t=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0;return e+=t,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=20),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){var h=0;t=h+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)}else{var h=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=h+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i._loading&&(t=250,i.dataloadelement.height(t)),t+=l(),t>1e4&&(t=1e4));null!=e?(e=parseInt(e),r?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),r&&(e=i.host.width(),2>=e&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(s||(t=parseInt(t)),s?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),s&&!i.autoheight&&(t=i.host.height(),0==t&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var d=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),d+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.statusbar.width(i.showaggregates?i.table?Math.max(e,i.table.width()):e:e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",d);var c=i.groupsheader.height()+1;d+=c,t>c&&(t-=parseInt(c))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=d+"px"&&i.groupsheader.css("top",d);var c=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0,u=d+c+"px";i.content[0].style.top!=u&&i.content.css("top",d+i.groupsheaderheight)}var p=i.scrollbarsize;isNaN(p)&&(p=parseInt(p),isNaN(p)?p="17px":p+="px"),p=parseInt(p);var f=4,m=2,g=0;"visible"==i.vScrollBar[0].style.visibility&&(g=p+f),"visible"==i.hScrollBar[0].style.visibility&&(m=p+f+2);var v=0;i.pageable&&(v=i.pagerheight,m+=i.pagerheight),i.showstatusbar&&(m+=i.statusbarheight,v+=i.statusbarheight),i.hScrollBar[0].style.height!=p+"px"&&(i.hScrollBar[0].style.height=parseInt(p)+"px"),(i.hScrollBar[0].style.top!=d+t-f-p-v+"px"||"0px"!=i.hScrollBar[0].style.left)&&i.hScrollBar.css({top:d+t-f-p-v+"px",left:"0px"});var w=i.hScrollBar[0].style.width,x=!1,b=!1;0==g?w!=e-2+"px"&&(i.hScrollBar.width(e-2),x=!0):w!=e-p-f+"px"&&(i.hScrollBar.width(e-p-f+"px"),x=!0),i.autoheight||(i.vScrollBar[0].style.width!=p+"px"&&(i.vScrollBar.width(p),b=!0),i.vScrollBar[0].style.height!=parseInt(t)-m+"px"&&(i.vScrollBar.height(parseInt(t)-m+"px"),b=!0),(i.vScrollBar[0].style.left!=parseInt(e)-parseInt(p)-f+"px"||i.vScrollBar[0].style.top!=d+"px")&&i.vScrollBar.css({left:parseInt(e)-parseInt(p)-f+"px",top:d})),i.rtl&&(i.vScrollBar.css({left:"0px",top:d}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:p+2}));var _=i.vScrollInstance;_.disabled=i.disabled,i.autoheight||b&&_.refresh();var y=i.hScrollInstance;y.disabled=i.disabled,x&&y.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var j=function(e){"visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(p)+3),e.bottomRight.height(parseInt(p)+4),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+e.statusbarheight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight}))):e.bottomRight[0].style.visibility="hidden"};if(j(this),i.content[0].style.width!=e-g+"px"&&i.content.width(e-g),i.content[0].style.height!=t-m+3+"px"&&i.content.height(t-m+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=d+"px"&&i.content.css("top",d),i.rtl&&(i.content.css("left",g),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var C=i.table.width();e-g>C&&i.content.css("left",e-C)}if(i.showstatusbar&&(i.statusbar.css("top",d+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:d+t-f-p-v+i.statusbarheight+"px"}),i.statusbar.css("top",1+d+t-p-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),j(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",d+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var q=-2;if("visible"==i.vScrollBar[0].style.visibility&&(q=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var T=q+i.table.width()-i.host.width();T>=0&&i.hScrollBar.jqxScrollBar("max",T),"visible"==i.hScrollBar[0].style.visibility&&0==T&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;t>i;i++){for(var r=this.table[0].rows[i],s=r.cells,n=s.length,o=0;n>o;o++)e(r.cells[o]).remove(),r.cells[o]=null,delete r.cells[o];r.cells=null,r.cells&&delete r.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(a){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(var i=0;i<this.columns.records.length;i++){var l=this.columns.records[i];this._removecolumnhandlers(this.columns.records[i]),l.element&&(e(l.element).remove(),e(l.sortasc).remove(),e(l.sortdesc).remove(),e(l.filtericon).remove(),e(l.menu).remove(),l.element=null,l.uielement=null,l.sortasc=null,l.sortdesc=null,l.filtericon=null,l.menu=null,delete l.element,delete l.uielement,delete l.sortasc,delete l.sortdesc,delete l.filtericon,delete l.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(a){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var h=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,c=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),h),this.removeHandler(e(document),d),this.removeHandler(e(document),c)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var h=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,c=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(e(document),h),this.removeHandler(e(document),d),this.removeHandler(e(document),c)}if(this.removeHandler(e(window),"resize."+this.element.id),this.groupable){var h="mousemove.grouping"+this.element.id,d="mousedown.grouping"+this.element.id,c="mouseup.grouping"+this.element.id;this.removeHandler(e(document),h),this.removeHandler(e(document),d),this.removeHandler(e(document),c)}if(this.columnsreorder){var h="mousemove.reorder"+this.element.id,d="mousedown.reorder"+this.element.id,c="mouseup.reorder"+this.element.id;this.removeHandler(e(document),h),this.removeHandler(e(document),d),this.removeHandler(e(document),c),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader.remove(),delete this.columnsheader,this.selectionarea.remove(),delete this.selectionarea,this.menuitemsarray&&this.menuitemsarray.length)for(var u=this.menuitemsarray.length,i=0;u>i;i++)e(this.menuitemsarray[i]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent.remove(),delete this.gridcontent,this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var r=i?i.length>0:!1;if(this.autogeneratecolumns){var s=new Array;if(i)e.each(i,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};s.push(e)});else if(this.source.records.length>0){var n=this.source.records[0];for(obj in n)if("uid"!=obj){var o={width:100,datafield:obj,text:obj};s.push(o)}}this.columns=s}if(this.columns&&this.columns.records)for(var a=0;a<this.columns.records.length;a++)this._removecolumnhandlers(this.columns.records[a]);var l=this.that,h=new e.jqx.collection(this.element),d=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(){var e=new t(l,this);e.visibleindex=d++,e.width=l.groupindentwidth,h.add(e),e.grouped=!0,e.filterable=!1,e.sortable=!1,e.editable=!1,e.resizable=!1,e.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn){var o=new t(l,this);o.visibleindex=d++,o.width=l.groupindentwidth,o.pinned=!0,o.editable=!1,o.filterable=!1,o.draggable=!1,o.groupable=!1,o.resizable=!1,h.add(o),l._haspinned=!0}if("checkbox"==this.selectionmode){var o=new t(l,null);o.visibleindex=d++,o.width=l.groupindentwidth,o.checkboxcolumn=!0,o.editable=!1,o.columntype="checkbox",o.groupable=!1,o.draggable=!1,o.filterable=!1,o.resizable=!1,o.datafield="_checkboxcolumn",h.add(o)}var c=new Array;e.each(this.columns,function(e){if(void 0!=l.columns[e]){var i=new t(l,this);if(i.visibleindex=d++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(l._haspinned=!0),null==this.datafield)l.source&&l.source._source&&"array"==l.source._source.datatype&&(r||(l.source._source.datafields?l.source._source.datafields.push({name:e.toString()}):(l.source._source.datafields=new Array,l.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(c[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");c[this.datafield]=!0}h.add(i)}}),this.rtl&&h.records.reverse(),this.columns=h},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(void 0==i&&(i={owner:null}),this._trigger!==!1){var r=this.events[t];this._camelCase||(r=r.toLowerCase()),args=i,args.owner=this;var s=new e.Event(r);s.owner=this,s.args=args;var n=this.host.trigger(s);return i=s.args,n}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;if(t!=i)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;this.hScrollInstance.setPosition(e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.value-2*this.horizontalscrollbarstep:0:this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.value+2*this.horizontalscrollbarstep:this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.setPosition(e.value+this.rowsheight<=e.max?parseInt(e.value)+this.rowsheight:e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.setPosition(e.value-this.rowsheight>=e.min?parseInt(e.value)-this.rowsheight:e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,function(){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),r=t.host.width(),s=t.host.height(),n=!1,o=!1,a=!1;if((e.pageY<i.top||e.pageY>i.top+s)&&(n=!0,o=!0),(e.pageX<i.left||e.pageX>i.left+r)&&(n=!0,a=!0),n){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var l=t.editcell.editor.jqxDateTimeInput("container").coord().top,h=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!o||!(e.pageY<l||e.pageY>h))return;n=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){var l=t.editcell.editor.jqxComboBox("container").coord().top,h=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height();if(!o||!(e.pageY<l||e.pageY>h))return;n=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){var l=t.editcell.editor.jqxDropDownList("container").coord().top,h=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height();if(!o||!(e.pageY<l||e.pageY>h))return;n=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var d=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],c=function(i){var r=t.editcell.editor.data();if(r[i]&&r[i].instance.container&&"block"==r[i].instance.container[0].style.display){var s=r[i].instance,a=s.container.coord().top,l=s.container.coord().top+s.container.height();return o&&(e.pageY<a||e.pageY>l)?(n=!0,s.close(),!0):!1}},u=0;u<d.length;u++){var p=c(d[u]);if(0==p)return}}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):void 0!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue)>=5?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(){if(t.virtualsizeinfo){t._closemenu();{var r=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))};void 0==t._browser?t._isIE10():t._browser}navigator&&-1!=navigator.userAgent.indexOf("Safari")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},.01)):r(),i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){return!t.editcell&&t.enablemousewheel?(t.wheel(e,t),!1):void 0},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var r="mousedown.jqxgrid";i&&(r=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,r,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var r=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,r}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){if(t.editable&&t.begincelledit&&"dblclick"==t.editmode)t._handledblclick(i,t);else if(e.jqx.browser.msie&&e.jqx.browser.version<9){t._handlemousedown(i,t)}return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){return t._handlemousemove?t._handlemousemove(e,t):void 0},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){return t._handlemousemoveselection?t._handlemousemoveselection(e,t):void 0},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var n=function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(i){}};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(o){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t._overlayElement[0].style.visibility=t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?"visible":"hidden")}),t.addHandler(t.content,"mouseleave",function(){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(){return t.__drag===!0?!1:void 0}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){return t.enablebrowserselection?!0:t.showfilterrow&&e(i.target).ischildof(t.filterrow)?!0:t.editcell?void(i.stopPropagation&&i.stopPropagation()):!1}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){t._keydown=!0&&!t.editcell;var r=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(t.handlekeyboardnavigation){var s=t.handlekeyboardnavigation(i);if(1==s)return!1}if(t.editable&&t.editcell&&(13==r||27==r)&&t._handleeditkeydown&&(n=t._handleeditkeydown(i,t)),27==r&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.focused&&!t.isNestedGrid){if(13==r&&0==n)return n;var n=!0,r=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(n=t._handleeditkeydown(i,t)),n&&t.keyboardnavigation&&t._handlekeydown)return n=t._handlekeydown(i,t),n||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),n}return!0}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var r=!0;if(t.handlekeyboardnavigation){var s=t.handlekeyboardnavigation(i);if(1==s)return!1}return t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),i.stopPropagation()):r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),r||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),r}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==t&&(t=0);var r=this.vScrollInstance,s=this.hScrollInstance,n=r.value;"visible"!=this.vScrollBar.css("visibility")&&(n=0);var o=s.value;"visible"!=this.hScrollBar.css("visibility")&&(o=0),"deferred"==this.scrollmode&&null!=this._newmax&&n>this._newmax&&(n=this._newmax);{var a=parseInt(n)+i;parseInt(o)+t}if(null!=this.visiblerows&&0!=this.visiblerows.length){var l=!1,h=this._findvisiblerow(a,this.visiblerows);if(h>=0){var d=this.visiblerows[h],c=this.rowdetails&&d.rowdetails,u=!d.rowdetailshidden;if(c){var p=this.visiblerows[h-1];if(p==d&&(d=p,h--),u){var f=e(this.hittestinfo[h].visualrow).position().top+parseInt(this.table.css("top")),m=e(this.hittestinfo[h].visualrow).height();i>=f&&f+m>=i||(h++,d=this.visiblerows[h],l=!0)}}}return{index:h,row:d,details:l}}}},getcellatposition:function(t,i){var r=this.that,s=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,o=this.showtoolbar?this.toolbarheight:0;n+=o;var a=this.host.coord();this.hasTransform&&(a=e.jqx.utilities.getOffset(this.host));var l=t-a.left,h=i-s-a.top-n,d=this._hittestrow(l,h),c=d.row,u=d.index,p=this.table[0].rows[u];if(this.dataview&&0==this.dataview.records.length){for(var f=this.table[0].rows,m=0,g=0;g<f.length;g++){if(h>=m&&h<m+this.rowsheight){p=f[g];break}m+=this.rowsheight}c={boundindex:g}}if(null==p)return!0;for(var v=this.hScrollInstance,w=v.value,x=0,g=(this.groupable?this.groups.length:0,0);g<p.cells.length;g++){var b=parseInt(e(this.columnsrow[0].cells[g]).css("left")),t=b-w;if(r.columns.records[g].pinned&&(t=b),!r.columns.records[g].hidden){var _=t+e(this.columnsrow[0].cells[g]).width();if(_>=l&&l>=t){x=g;break}}}if(null!=c){var y=this._getcolumnat(x);return{row:this.getboundindex(c),column:y.datafield,value:this.getcellvalue(this.getboundindex(c),y.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader))return!0;var r;t.which?r=3==t.which:t.button&&(r=2==t.button);var s;if(t.which?s=2==t.which:t.button&&(s=1==t.button),s)return!0;if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var n=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0,a=this.showtoolbar?this.toolbarheight:0;o+=a;var l=this.host.coord();if(this.hasTransform){l=e.jqx.utilities.getOffset(this.host);var h=this._getBodyOffset();l.left-=h.left,l.top-=h.top}var d=parseInt(t.pageX),c=parseInt(t.pageY);if(this.isTouchDevice()){var u=i.getTouches(t),p=u[0];d=parseInt(p.pageX),c=parseInt(p.pageY),1==i.touchmode&&void 0!=p._pageX&&(d=parseInt(p._pageX),c=parseInt(p._pageY))}var f=d-l.left,m=c-n-l.top-o;if(this.pageable&&!this.autoheight&&this.gotopage){var g=this.pager.coord().top-l.top-o-n;if(m>g)return}var v=this._hittestrow(f,m);if(v&&!v.details){var w=v.row,x=v.index,b=t.target.className,_=this.table[0].rows[x];if(null==_)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-o,clickedrow:_};var y=this.hScrollInstance,j=y.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(j=y.max-y.value);var C=-1,q=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(j-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(j=-parseInt(this.content.css("left"))));for(var T=0;T<_.cells.length;T++){var S=parseInt(e(this.columnsrow[0].cells[T]).css("left")),d=S-j;i.columns.records[T].pinned&&!i.rtl&&(d=S);var I=this._getcolumnat(T);if(null==I||!I.hidden){var k=d+e(this.columnsrow[0].cells[T]).width();
if(k>=f&&f>=d){C=T,i.mousecaptureposition.clickedcell=T;break}}}if(this.rtl&&this._haspinned)for(var T=_.cells.length-1;T>=0&&i.columns.records[T].pinned;T--){var S=e(this.columnsrow[0].cells[T]).coord().left-this.host.coord().left,d=S,I=this._getcolumnat(T);if(null==I||!I.hidden){var k=d+e(this.columnsrow[0].cells[T]).width();if(k>=f&&f>=d){C=T,i.mousecaptureposition.clickedcell=T;break}}}if(null!=w&&C>=0){this._raiseEvent(1,{rowindex:this.getboundindex(w),visibleindex:w.visibleindex,row:w,group:w.group,rightclick:r,originalEvent:t});var I=this._getcolumnat(C),B=this.getcellvalue(this.getboundindex(w),I.datafield);if(this.editable&&this.editcell&&I.datafield==this.editcell.column&&this.getboundindex(w)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(w),column:I?I.getcolumnproperties():null,row:w,visibleindex:w.visibleindex,datafield:I?I.datafield:null,columnindex:C,value:B,rightclick:r,originalEvent:t}),this.isTouchDevice())if("checkbox"==I.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(x,I.datafield),!0}else if("button"==I.columntype&&this._overlayElement)return I.buttonclick&&I.buttonclick(_.cells[C].buttonrow,t),!0;var H=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(w)&&(this._raiseEvent(22,{rowindex:this.getboundindex(w),row:w,visibleindex:w.visibleindex,group:w.group,rightclick:r,originalEvent:t}),this._clickedcolumn==I.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(w),row:w,visibleindex:w.visibleindex,column:I?I.getcolumnproperties():null,datafield:I?I.datafield:null,columnindex:C,value:B,rightclick:r,originalEvent:t}),H=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(r)return!0;H||(this._clickedrowindex=this.getboundindex(w),this._clickedcolumn=I.datafield);var z=e.jqx.utilities.getBrowser();if("msie"==z.browser&&parseInt(z.version)<=7&&(0==C&&this.rowdetails&&(b="jqx-grid-group-collapse"),q>0&&q>=C&&(b="jqx-grid-group-collapse")),-1!=b.indexOf("jqx-grid-group-expand")||-1!=b.indexOf("jqx-grid-group-collapse"))this.rtl?q>0&&C>_.cells.length-q-1&&this._togglegroupstate?this._togglegroupstate(w.bounddata,!0):C==_.cells.length-1-q&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(w.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):q>0&&q>C&&this._togglegroupstate?this._togglegroupstate(w.bounddata,!0):C==q&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(w.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=w.boundindex){var L=this.selectedrowindexes.slice(0),P=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){("multiplecellsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode)&&(t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array));var D=!1,A=this.getboundindex(w);(i._oldselectedrow===A||"none"===i.selectionmode)&&(D=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=A&&"singlerow"==i.selectionmode)&&(this._applyrowselection(A,!0,!1,null,I.datafield),this._selectrowwithmouse(i,v,L,I.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=I.datafield&&(this._selectrowwithmouse(i,v,L,I.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(A,I.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(P=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=A}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode){if(D&&!i.editcell){if("checkbox"!==I.columntype){i.beginrowedit(this.getboundindex(w))}}else if(i.editcell&&!D&&"none"!=i.selectionmode){i.endrowedit(i.editcell.row)}}else{var E="click"==i.editmode||P&&"selectedcell"==i.editmode;if(-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(E=!0),E&&void 0!=w.boundindex&&I.editable){{i.begincelledit(this.getboundindex(w),I.datafield,I.defaulteditorvalue)}-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(A,I.datafield,!1,!1)}-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!P&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(){},_rowPropertyChanged:function(){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,function(e){var t=this;e>0&&(i+=", "),i+="[";var r=0;for(obj in t)r>0&&(i+=", "),i+="{"+obj+":"+t[obj]+"}",r++;i+="]"}),i},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized)switch(i=i.toLowerCase()){case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(25!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":s!=r&&(25!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":r!=s&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":r!=s&&t._rendercolumnheaders();break;case"rendergridrows":r!=s&&t.updatebounddata();break;case"editmode":r!=s&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":s!=r&&(e.jqx.utilities.setTheme(r,s,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:s}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0));break;case"showtoolbar":case"toolbarheight":r!=s&&(t._arrange(),t.refresh());break;case"showstatusbar":r!=s&&(t.statusbar&&(s?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":r!=s&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":r!=s&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":r!=s&&t.rendergridcontent();break;case"showrowdetailscolumn":r!=s&&t.render();break;case"scrollbarsize":r!=s&&t._arrange();break;case"width":case"height":r!=s&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading&&t.vScrollInstance.setPosition(0));break;case"altrows":case"altstart":case"altstep":r!=s&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":r!=s&&t._initpager();break;case"selectedrowindex":t.selectrow(s);break;case"selectionmode":r!=s&&("none"==s&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==s&&t._render(!1,!1,!0,!1,!1));break;case"showheader":s?t.columnsheader.css("display","block"):t.columnsheader.css("display","none");break;case"virtualmode":r!=s&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":r!=s&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t._serializeObject(t._cachedcolumns)!==t._serializeObject(s)){var n=!1;t.filterable&&r&&r.records&&e.each(r.records,function(){this.filter&&(n=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),n&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t._initializeColumns();break;case"autoheight":r!=s&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":r!=s&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(r!=s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof s){var o="The expected value type is: Int.";if("pagesize"!=i)var o="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+i+". "+o)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=s&&s.length>0&&(t.pagesize=parseInt(s[0]),t.dataview.pagesize=parseInt(s[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(r)!==t._serializeObject(s)&&(t.dataview.groups=s,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":r!=s&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=s&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=s&&t.rendertoolbar(t.toolbar);break;case"disabled":s?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:s}),t.pagerleftbutton.jqxButton({disabled:s}),t.pagershowrowscombo.jqxDropDownList({disabled:s}),t.pagergotoinput.attr("disabled",s)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:s}),t.pagerlastbutton.jqxButton({disabled:s}))),t.vScrollBar.jqxScrollBar({disabled:s}),t.hScrollBar.jqxScrollBar({disabled:s}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return void 0==this.records[e]?!0:!1},this.initialize=function(e){1>e&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null==e?!1:(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null==e||void 0==e?!1:null==t?!1:e>=0?e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t):!1},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t?(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0):!1},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(0>e)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,void 0==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var r=t._source?!0:!1,s=null;r?(s=t,t=t._source):s=new e.jqx.dataAdapter(t,{autoBind:!1});var n=function(e){s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.virtualmode=e.virtualmode,s._options.totalrecords=e.totalrecords,s._options.originaldata=e.originaldata,s._options.recordids=e.recordids,s._options.cachedrecords=new Array,s._options.pagenum=e.pagenum,s._options.pageable=e.pageable,void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async),void 0!=t.updaterow&&(s._options.updaterow=t.updaterow),void 0!=t.addrow&&(s._options.addrow=t.addrow),void 0!=t.deleterow&&(s._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),s._options.pagesize=e.pagesize},o=function(i){if(i.totalrecords=s.totalrecords,i.virtualmode){var r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(void 0!=t.recordstartindex&&(r.startindex=parseInt(t.recordstartindex)),void 0!=t.recordendindex?r.endindex=parseInt(t.recordendindex):i.grid.pageable||(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords))),r.data=s.records,i.grid.rendergridrows&&i.totalrecords>0){var n=0;if(t.records=i.grid.rendergridrows(r),t.records.length&&(n=t.records.length),t.records&&!t.records[r.startindex]){var o=new Array,a=r.startindex;e.each(t.records,function(){o[a]=this,a++,n++}),t.records=o}if(0==n&&t.records&&e.each(t.records,function(){n++}),n>0&&n<r.endindex-r.startindex&&!i.grid.groupable)for(var l=t.records[0],h=0;h<r.endindex-r.startindex-n;h++){var d={};for(obj in l)d[obj]="";t.records.push&&t.records.push(d)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=s.originaldata,i.records=s.records,i.recordids=s.recordids,i.cachedrecords=s.cachedrecords};n(this),this.source=t,void 0!==i&&(uniqueId=i);var a=this.that;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata){s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&s.dataBind();var l=function(i){if(void 0!=i&&""!=i){var r=s._changedrecords[0];if(r){var n=new Array;e.each(s._changedrecords,function(e){var t=this.index,r=this.record;switch(a.grid._updateFromAdapter=!0,i){case"update":var o=a.grid.getrowid(t);return e==s._changedrecords.length-1?a.grid.updaterow(o,r):a.grid.updaterow(o,r,!1),void(a.grid._updateFromAdapter=!1);case"add":return a.grid.addrow(null,r),void(a.grid._updateFromAdapter=!1);case"remove":var o=a.grid.getrowid(t);return void n.push(o)}}),n.length>0&&(a.grid.deleterow(n,!1),a.grid._updateFromAdapter=!1)}if("update"==i)return}var l=a.totalrecords;o(a,i),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!this._updating){this._updating=!0;var r=a.grid.getrowid(i.index);switch(i.type){case"add":var n=e.extend({},i.object[i.index]),o=s.getid(t.id,n,i.index);a.grid.addrow(o,n);break;case"delete":a.grid.deleterow(r);break;case"update":if(i.path&&i.path.split(".").length>1){var l=i.path.split(".");a.grid.setcellvalue(i.index,l[l.length-1],i.newValue)}else{var n=e.extend({},i.object[i.index]);a.grid.updaterow(r,n)}}this._updating=!1}}),"updateData"==i?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(l!=a.totalrecords))};l(),s.bindBindingUpdate(a.grid.element.id,l)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata){s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&s.dataBind();var l=function(e){var i=a.totalrecords;o(a),"updateData"==e?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(i!=a.totalrecords))};return l(),void s.bindBindingUpdate(a.grid.element.id,l)}for(var h=0,d={},c=0;c<this.filters.length;c++){var u=this.filters[c].datafield,p=this.filters[c].filter,f=p.getfilters();d[u+"operator"]=p.operator;for(var m=0;m<f.length;m++){f[m].datafield=u;var g=f[m].value;if("datefilter"==f[m].type)if(f[m].value&&f[m].value.toLocaleString){var v=this.grid.getcolumn(f[m].datafield);if(v.cellsformat){var w=this.grid.source.formatDate(f[m].value,v.cellsformat,this.grid.gridlocalization);d["filtervalue"+h]=w?w:f[m].value.toLocaleString()}else d["filtervalue"+h]=g.toString()}else d["filtervalue"+h]=g.toString();else d["filtervalue"+h]=g.toString(),f[m].data&&(d["filterid"+h]=f[m].data.toString()),f[m].id&&(d["filterid"+h]=f[m].id.toString());d["filtercondition"+h]=f[m].condition,d["filteroperator"+h]=f[m].operator,d["filterdatafield"+h]=u,h++}}d.filterscount=h,d.groupscount=a.groups.length;for(var c=0;c<a.groups.length;c++)d["group"+c]=a.groups[c];void 0==t.recordstartindex&&(t.recordstartindex=0),(void 0==t.recordendindex||0==t.recordendindex)&&(a.grid.height&&-1==a.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(a.grid.height)/a.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/a.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),this.pageable&&(t.recordendindex=this.pagesize)),this.pageable&&(t.recordstartindex=this.pagenum*this.pagesize,t.recordendindex=(this.pagenum+1)*this.pagesize),e.extend(d,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var x=s._options.data;s._options.data?e.extend(s._options.data,d):(t.data&&e.extend(d,t.data),s._options.data=d);var l=function(){var i=e.jqx.browser.msie&&e.jqx.browser.version<9,r=function(){var e=a.totalrecords;o(a),t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(e!=a.totalrecords)};if(i)try{r()}catch(s){}else r()};s.unbindDownloadComplete(a.grid.element.id),s.bindDownloadComplete(a.grid.element.id,l),!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind?s.dataBind():a.grid.isInitialized||a.grid.autobind||l(),s._options.data=x}},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var s=e(i).attr(t);if(null!=s&&s.toString().length>0)return s}return r},this.getvaluebytype=function(t,i){var r=t;if("date"==i.type){var s=new Date(t);t=("NaN"==s.toString()||"Invalid Date"==s.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):s,null==t&&(t=r)}else if("float"==i.type){var t=parseFloat(t);isNaN(t)&&(t=r)}else if("int"==i.type){var t=parseInt(t);isNaN(t)&&(t=r)}else"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t?!1:"");return t},this.setpaging=function(e){void 0!=e.pageSize&&(this.pagesize=e.pageSize),void 0!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){var r=this.filters&&this.filters.length>0&&!this.virtualmode;if(!r&&void 0!=t&&void 0!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);var s=this.recordsbyid["id"+e],n=this.records.indexOf(s);return-1==n?!1:(this.records[n]=t,this.cachedrecords&&(this.cachedrecords[n]=t),(1==i||void 0==i)&&this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:s,Data:t},!0)}if(this.filters&&this.filters.length>0){for(var o=this.cachedrecords,s=null,n=-1,a=0;a<o.length;a++)if(o[a].uid==e){s=o[a],n=a;break}if(s){var l=this.that;for(var h in t)l.cachedrecords[n][h]=t[h];return(1==i||void 0==i)&&this.refresh(),!0}}return!1},this.addrow=function(e,t,i,r){if(void 0!=t){if(!e||this.recordsbyid["id"+e]){t.uid=this.getid(this.source.id,t,this.totalrecords);for(var s=this.recordsbyid["id"+t.uid];null!=s;){var n=Math.floor(1e4*Math.random()).toString();t.uid=n,s=this.recordsbyid["id"+n]}}else t.uid=e;return t[this.source.id]||void 0!=this.source.id&&(t[this.source.id]=t.uid),"last"==i?this.records.push(t):"number"==typeof i&&isFinite(i)?this.records.splice(i,0,t):this.records.splice(0,0,t),this.filters&&this.filters.length>0&&("last"==i?this.cachedrecords.push(t):"number"==typeof i&&isFinite(i)?this.cachedrecords.splice(i,0,t):this.cachedrecords.splice(0,0,t)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(1==r||void 0==r)&&this.refresh(),this.changedrecords[t.uid]={Type:"New",Data:t},!0}return!1},this.deleterow=function(e,t){if(void 0!=e){var i=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+e]&&!i){var r=this.recordsbyid["id"+e],s=this.records.indexOf(r);return this.changedrecords[e]={Type:"Delete",Data:this.records[s]},this.records.splice(s,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(1==t||void 0==t)&&this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var n=this.cachedrecords,r=null,s=-1,o=0;o<n.length;o++)if(n[o].uid==e){r=n[o],s=o;break}if(r)return this.cachedrecords.splice(s,1),(1==t||void 0==t)&&(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,r,s,n,o,a){var l=this.that,h=new Array,d=t,c=i,u=r,p=s,f=c.length,m=0,g=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var v=Object.size(d);this.totalrecords=v,e.each(this.records,function(){var t=this,i=0;return e.each(t,function(e){l.columns[i++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();var o=0;if(!this.groupable)return void this.updateview();var a=this.totalrecords}else var o=0,a=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var w=o;w=this.loadgrouprecords(0,o,a,u,g,p,c,f,h)}else m=this.loadflatrecords(o,a,u,g,p,c,f,h);return f>g&&c.splice(g,f-g),this.totalrows=this.groups.length>0&&this.groupable?w:m,h},this.loadflatrecords=function(t,i,r,s,n,o,a,l){var h=this.that,d=t,c=t;i=Math.min(i,this.totalrecords);for(var u=null!=this.sortdata,p=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||""==this.source.datatype),u?this.sortdata:this.records),f=t;i>f;f++){var m={};u?(m=e.extend({},p[f].value),id=m[h.uniqueId],m.boundindex=p[f].index,void 0==m.uid&&(m.uid=h.getid(h.source.id,m,m.boundindex)),h.recordsbyid["id"+m.uid]=p[f].value,h.loadedrecords[d]=m,m.uniqueid=h.generatekey(),h.bounditems[m.boundindex]=m):(m=e.extend({},p[f]),id=m[h.uniqueId],m.boundindex=d,h.loadedrecords[d]=m,void 0==m.uid&&(m.uid=h.getid(h.source.id,m,d)),h.recordsbyid["id"+m.uid]=p[f],m.uniqueid=h.generatekey(),h.bounditems[this.bounditems.length]=m),(s>=a||id!=o[s][h.uniqueId]||n&&n[id])&&(l[l.length]=s),o[s]=m,s++,m.visibleindex=c,c++,d++}if(h.grid.summaryrows){var g=d;e.each(h.grid.summaryrows,function(){var t=e.extend({},this);t.boundindex=i++,h.loadedrecords[g]=t,t.uniqueid=h.generatekey(),h.bounditems[h.bounditems.length]=t,o[s]=t,s++,t.visibleindex=c,c++,g++})}return c},this.updateview=function(e,t){var i=this.that,r=this.pagesize*this.pagenum,s=0,n=new Array,o=this.filters,a=this.updated,l=n.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var h=this.pagesize*(1+this.pagenum);return h>this.totalrecords&&(h=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,h,o,s,a,n,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,s,a,n,l,[]),this.totalrows=n.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var d=this.pagesize;0==d&&(d=Math.min(100,this.totalrecords));var c=d*this.pagenum;if(0==this.loadedrecords.length&&(c=0),null!=e&&null!=t?this.loadflatrecords(e,t,o,s,a,n,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,s,a,n,l,[]),this.totalrows=this.loadedrecords.length,this.rows=n,n.length>=d)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)n=this._updategroupsinpage(i,o,r,s,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum);u++){var p=u<this.loadedrecords.length?this.loadedrecords[u]:null;null!=p&&((!this.pagesize||r>=this.pagesize*this.pagenum&&r<=this.pagesize*(this.pagenum+1))&&(n[s]=p,s++),r++)}if((0==n.length||n.length<this.pagesize)&&!this.pageable&&this.virtualmode){s=n.length;for(var f=n.length,u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum)-f;u++){var p={};p.boundindex=u+f,p.visibleindex=u+f,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[u+f]=p,n[s]=p,s++}}this.rows=n},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){void 0==t&&(t=!0);var i=this.rows.length,r=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var s="",n=this.cachedrecords.length,o=new Array;this.totalrecords=0;var a=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var l=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)o=this.source.filter(this.filters,a,n),void 0==o&&(o=new Array),this.records=o;else if(null==this.source.filter||void 0==this.source.filter){for(var h=0;n>h;h++){for(var d=a[h],c=void 0,u=0;l>u;u++){var s=this.filters[u].filter,p=d[this.filters[u].datafield],f=s.evaluate(p);c=void 0==c?f:"or"==s.operator?c||f:c&&f}c?(o[o.length]=e.extend({dataindex:h},d),this._dataIndexToBoundIndex[h]={boundindex:o.length-1}):this._dataIndexToBoundIndex[h]=null}this.records=o}if(this.sortdata){var m=this.sortfield;if(this.sortcache[m]){this.sortdata=null;var g=this.sortcache[m].direction;return this.sortcache[m]=null,void this.sortby(this.sortfield,g)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var a=this.cachedrecords;if(this.records=a,this.sortdata){var m=this.sortfield;if(this.sortcache[m]){this.sortdata=null;var g=this.sortcache[m].direction;return this.sortcache[m]=null,void this.sortby(this.sortfield,g)}}}var v=this.reload(this.records,this.rows,this.filter,this.updated,t);this.updated=null,null!=this.rowschangecallback&&(r!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),i!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:rows.length}}),(v.length>0||i!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:rows.length,diff:v}}))}},this}}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;e>i;i++){var r=t[i];if(r){var s=this.getboundindex(r);void 0!=s&&(this.selectedrowindexes[i]=s)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;e>i;i++){var r=t[i];r?delete this.selectedrowindexes[i]:this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})
},selectrow:function(e,t){this._applyrowselection(e,!0,t),t!==!1&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;this._checkboxcolumn.checkboxelement.jqxCheckBox(i===t?{checked:!0}:0===i?{checked:!1}:{checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),t!==!1&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,t!==!1)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});return this.selectedrowindexes=new Array,this.selectedcells=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1===e?void(this._trigger=!0):(this._renderrows(this.virtualsizeinfo),this._trigger=!0,void("checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})))},getselectedrowindex:function(){if(-1==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(obj in this.selectedcells)e[e.length]=this.selectedcells[obj];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var r=t[i],s=0;s<this.columns.records.length;s++){var n=(r+"_"+this.columns.records[s].datafield,{rowindex:r,datafield:this.columns.records[s].datafield});e.push(n)}return e},deleteselection:function(){var e=this,t=e.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(t=this._getcellsforcopypaste()),null!=t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],s=e.getcolumn(r.datafield),n=e.getcellvalue(r.rowindex,r.datafield);if(s&&""!==n){var o=null;"checkbox"==s.columntype&&(s.threestatecheckbox||(o=!1)),e._raiseEvent(17,{rowindex:r.rowindex,datafield:r.datafield,value:n}),i==t.length-1?(e.setcellvalue(r.rowindex,r.datafield,o,!0),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,o,!0)):(e.setcellvalue(r.rowindex,r.datafield,o,!1),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,o,!0)),e._raiseEvent(18,{rowindex:r.rowindex,datafield:r.datafield,oldvalue:n,value:o})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this;this.clipboardselection={},this._clipboardselection=[];var r=i.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(r=this._getcellsforcopypaste()),null!=r&&r.length>0){for(var s=999999999999999,n=-1,o=0;o<r.length;o++){var a=r[o],l=i.getcolumn(a.datafield);if(null!=l){var h=i.getcelltext(a.rowindex,a.datafield),d=this.getrowdisplayindex(a.rowindex);this.clipboardselection[d]||(this.clipboardselection[d]={}),this.clipboardselection[d][a.datafield]=h,s=Math.min(s,d),n=Math.max(n,d)}}for(var c=s;n>=c;c++){var u=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[c]&&e.each(this.clipboardselection[c],function(e,r){u>0&&(t+="	");var s=r;null==r&&(s=""),i._clipboardselection[i._clipboardselection.length-1][u]=s,u++,t+=s}),n>c&&(t+="\r\n")}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),r=e[0].datafield,s=this._getcolumnindex(r);if(this.selectedrowindexes=new Array,this.selectedcells=new Array,!this._clipboardselection)return;for(var n=0;n<this._clipboardselection.length;n++)for(var o=0;o<this._clipboardselection[n].length;o++){var a=this.getcolumnat(s+o);if(a){var l=this.getrowboundindex(i+n),h=this.getcell(l,a.datafield),d=null;if(d=this._clipboardselection[n][o],null!=d){if(a.cellsformat&&(-1!=a.cellsformat.indexOf("p")||-1!=a.cellsformat.indexOf("c")||-1!=a.cellsformat.indexOf("n")||-1!=a.cellsformat.indexOf("f"))){d.indexOf(this.gridlocalization.currencysymbol)>-1&&(d=d.replace(this.gridlocalization.currencysymbol,""));var c=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r};d=c(d,this.gridlocalization.thousandsseparator,""),d=d.replace(this.gridlocalization.decimalseparator,"."),d.indexOf(this.gridlocalization.percentsymbol)>-1&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(var u="",p=0;p<d.length;p++){var f=d.substring(p,p+1);"-"===f&&(u+="-"),"."===f&&(u+="."),null!=f.match(/^[0-9]+$/)&&(u+=f)}d=u,d=d.replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}this._raiseEvent(17,{rowindex:l,datafield:h.datafield,value:d}),this.setcellvalue(l,h.column,d,!1),this._raiseEvent(18,{rowindex:l,datafield:h.datafield,oldvalue:this.getcellvalue(h.rowindex,h.datafield),value:d}),this._applycellselection(l,h.datafield,!0,!1)}}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},_applyrowselection:function(e,t,i,r){if(null==e)return!1;var s=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:s}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==r&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var n=this.getrowdata(e);n&&void 0!==n.dataindex?e=n.dataindex:n&&void 0===n.dataindex&&void 0!=n.uid&&(e=this.getrowboundindexbyid(n.uid))}var o=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==o?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(o,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(o>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var a=this.selectedrowindexes[o];this.selectedrowindexes.splice(o,1),this._raiseEvent(3,{rowindex:a,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(void 0==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,r){if(null==e)return!1;if(null==t)return!1;this.selectedrowindex;if("singlecell"==this.selectionmode){var s=this.selectedcell;null!=s&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield}),this.selectedcells=new Array}if("multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode){var s=this.selectedcell;null!=s&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield})}var n=e+"_"+t;if(this.dataview.filters.length>0){var o=this.getrowdata(e);if(o&&void 0!==o.dataindex){e=o.dataindex;var n=e+"_"+t}else if(o&&void 0===o.dataindex&&o.uid){e=this.getrowboundindexbyid(o.uid);var n=e+"_"+t}}var a={rowindex:e,datafield:t};return i?(this.selectedcell=a,this.selectedcells[n]?("multiplecells"==this.selectionmode||"multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode)&&(delete this.selectedcells[n],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)):(this.selectedcells[n]=a,this.selectedcells.length++,this._raiseEvent(15,a))):(delete this.selectedcells[n],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)),(void 0==r||r)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1;return e.each(this.selectedcells,function(){return i++,this[t]?!1:void 0}),i},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,r=this.toTP("jqx-grid-cell-selected"),s=this.toTP("jqx-fill-state-pressed"),n=this.toTP("jqx-grid-cell-hover"),o=this.toTP("jqx-fill-state-hover"),a=0;t>a;a++)for(var l=i[a],h=l.cells.length,d=l.cells,c=0;h>c;c++){var u=d[c],p=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(r),p.removeClass(s)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(n),p.removeClass(o))}},_selectpath:function(e,t){var i=this,r=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,s=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(s>=r){var n=this._getcolumnindex(this._lastClickedCell.column),o=this._getcolumnindex(t),a=Math.min(n,o),l=Math.max(n,o);this.selectedcells=new Array;for(var h=this.dataview.loadedrecords,d=r;s>=d;d++)for(var c=a;l>=c;c++){var e=h[d];this._applycellselection(i.getboundindex(e),i._getcolumnat(c).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,r=this.dataview.loadedrecords;if(i>=t){this.selectedrowindexes=new Array;for(var s=t;i>=s;s++){var e=r[s],n=this.getrowboundindex(s);this._applyrowselection(n,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,r,s,n){var o=t.row;if(void 0!=o){var a=t.index;if(void 0!=this.hittestinfo[a]){var l=this.hittestinfo[a].visualrow;if(!this.hittestinfo[a].details){{l.cells[0].className}if(!o.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==n||1==s)){var h=this.getboundindex(o);if(this.dataview.filters.length>0){var d=this.getrowdata(h);if(d&&(h=d.dataindex,void 0==h))var h=this.getboundindex(o)}var c=-1!=i.indexOf(h),u=this.getboundindex(o)+"_"+r;if(-1!=this.selectionmode.indexOf("cell")){var p=void 0!=this.selectedcells[u];if(void 0!=this.selectedcells[u]&&p?this._selectcellwithstyle(e,!1,a,r,l):this._selectcellwithstyle(e,!0,a,r,l),n&&void 0==this._lastClickedCell){var f=this.getselectedcells();f&&f.length>0&&(this._lastClickedCell={row:f[0].rowindex,column:f[0].datafield})}n&&this._lastClickedCell&&(this._selectpath(o.visibleindex,r),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(c?s?this._applyrowselection(this.getboundindex(o),!1):this._selectrowwithstyle(e,l,!1,r):this._selectrowwithstyle(e,l,!0,r),n&&void 0==this._lastClickedCell){var m=this.getselectedrowindexes();m&&m.length>0&&(this._lastClickedCell={row:m[0],column:r})}if(n&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var g=this._lastClickedCell?Math.min(this._lastClickedCell.row,o.visibleindex):0,v=this._lastClickedCell?Math.max(this._lastClickedCell.row,o.visibleindex):0,w=this.dataview.loadedrecords,x=g;v>=x;x++){var o=w[x];o&&this._applyrowselection(this.getboundindex(o),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,l,!0,r),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,a,r,l);n||(this._lastClickedCell={row:o.visibleindex,column:r})}}}}},_selectcellwithstyle:function(t,i,r,s,n){var o=e(n.cells[t._getcolumnindex(s)]);o.removeClass(this.toTP("jqx-grid-cell-hover")),o.removeClass(this.toTP("jqx-fill-state-hover")),i?(o.addClass(this.toTP("jqx-grid-cell-selected")),o.addClass(this.toTP("jqx-fill-state-pressed"))):(o.removeClass(this.toTP("jqx-grid-cell-selected")),o.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,r){var s=i.cells.length,n=0;t.rowdetails&&t.showrowdetailscolumn?this.rtl?(s-=1,s-=this.groups.length):n=1+this.groups.length:this.groupable&&(this.rtl?s-=this.groups.length:n=this.groups.length);for(var o=n;s>o;o++){var a=i.cells[o];r?(e(a).removeClass(this.toTP("jqx-grid-cell-hover")),e(a).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(a).addClass(this.toTP("jqx-grid-cell-selected")),e(a).addClass(this.toTP("jqx-fill-state-pressed")))):(e(a).removeClass(this.toTP("jqx-grid-cell-hover")),e(a).removeClass(this.toTP("jqx-grid-cell-selected")),e(a).removeClass(this.toTP("jqx-fill-state-hover")),e(a).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(t,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins){var r=i.multipleselectionbegins(t);if(r===!1)return!0}var s=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,o=this.showtoolbar?this.toolbarheight:0;n+=o;var a=this.host.coord();if(this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();a.left-=l.left,a.top-=l.top}"0px"===this.host.css("border-top-width")&&(n-=2);var h=t.pageX,d=t.pageY-n;if(Math.abs(this.mousecaptureposition.left-h)>3||Math.abs(this.mousecaptureposition.top-d)>3){var c=parseInt(this.columnsheader.coord().top);this.hasTransform&&(c=e.jqx.utilities.getOffset(this.columnsheader).top),h<a.left&&(h=a.left),h>a.left+this.host.width()&&(h=a.left+this.host.width());var u=a.top+s;u>d&&(d=u+5);var p=parseInt(Math.min(i.mousecaptureposition.left,h)),f=-5+parseInt(Math.min(i.mousecaptureposition.top,d)),m=parseInt(Math.abs(i.mousecaptureposition.left-h)),g=parseInt(Math.abs(i.mousecaptureposition.top-d));if(p-=a.left,f-=a.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var h=p,v=h+m,w=i.hScrollInstance,x=w.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(x=w.max-w.value),"hidden"!=this.vScrollBar[0].style.visibility);var b=i.table[0].rows[0],_=0,y=i.mousecaptureposition.clickedcell,j=y,C=!1,q=0,T=b.cells.length;i.mousecaptureposition.left<=t.pageX&&(q=y);for(var S=q;T>S;S++){var I=parseInt(e(this.columnsrow[0].cells[S]).css("left")),k=I-x;if(i.columns.records[S].pinned)k=I;else{var B=this._getcolumnat(S);if(!(null!=B&&B.hidden||i.groupable&&i.groups.length>0&&S<i.groups.length)){var H=k+e(this.columnsrow[0].cells[S]).width();if(i.mousecaptureposition.left>t.pageX){if(H>=h&&h>=k){j=S,C=!0;break}}else if(H>=v&&v>=k){j=S,C=!0;break}}}}C||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e){return i.groupable&&i.groups.length>0&&e<i.groups.length?!0:this.pinned||this.hidden?void 0:(j=e,!1)}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(j=b.cells.length-1));var z=y;y=Math.min(y,j),j=Math.max(z,j),f+=5,f+=n;for(var L=(i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow),0),P=-1,D=-1,A=0,S=0;S<i.table[0].rows.length;S++){var E=e(i.table[0].rows[S]);0==S&&(A=E.coord().top);var M=E.height(),O=A-a.top;if(-1==P&&O+M>=f){for(var N=!1,W=0;W<i.groups.length;W++){var R=E[0].cells[W].className;if(-1!=R.indexOf("jqx-grid-group-collapse")||-1!=R.indexOf("jqx-grid-group-expand")){N=!0;break}}if(N)continue;P=S}if(A+=M,i.groupable&&i.groups.length>0){for(var N=!1,W=0;W<i.groups.length;W++){var R=E[0].cells[W].className;if(-1!=R.indexOf("jqx-grid-group-collapse")||-1!=R.indexOf("jqx-grid-group-expand")){N=!0;break}}if(N)continue;for(var _=0,F=i.groups.length;F<E[0].cells.length;F++){var U=E[0].cells[F];""==e(U).html()&&_++}if(_==E[0].cells.length-i.groups.length)continue}if(-1!=P&&(L+=M),O+M>f+g){D=S;break}}if(-1!=P){f=e(i.table[0].rows[P]).coord().top-a.top-n-2;var $=0;this.filterable&&this.showfilterrow&&($=this.filterrowheight),parseInt(i.table[0].style.top)<0&&f<this.rowsheight+$&&(f-=parseInt(i.table[0].style.top),L+=parseInt(i.table[0].style.top)),g=L;var V=e(this.columnsrow[0].cells[y]),G=e(this.columnsrow[0].cells[j]);if(p=parseInt(V.css("left")),m=parseInt(G.css("left"))-parseInt(p)+G.width()-2,p-=x,i.editcell&&i.editable&&i.endcelledit&&(y!=j||P!=D)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(m),this.selectionarea.height(g),this.selectionarea.css("left",p),this.selectionarea.css("top",f)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i.mousecaptured=!1,!0;if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(s-=2);var n=this.showtoolbar?this.toolbarheight:0;s+=n;var o=this.selectionarea.coord(),a=this.host.coord();this.hasTransform&&(a=e.jqx.utilities.getOffset(this.host),o=e.jqx.utilities.getOffset(this.selectionarea));var l=o.left-a.left,h=o.top-r-a.top-s,d=h,c=l+this.selectionarea.width(),u=l,p=new Array,f=new Array;if("multiplerowsextended"==i.selectionmode){for(;h<d+this.selectionarea.height();){var m=this._hittestrow(l,h),g=m.row,v=m.index;-1!=v&&(f[v]||(f[v]=!0,p[p.length]=m)),h+=20}var d=0;e.each(p,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==d?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),d++)})}else{"multiplecellsadvanced"==i.selectionmode&&(h+=2);var w=i.hScrollInstance,x=w.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(x=w.max-w.value),"hidden"!=this.vScrollBar[0].style.visibility&&(x-=this.scrollbarsize+4));var b=i.table[0].rows[0],_=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&_>0&&(i.selectedcells=new Array);for(var y=_;d+y>h;){var m=i._hittestrow(l,h);if(m){var g=m.row,v=m.index;if(-1!=v&&!f[v]){f[v]=!0;for(var j=0;j<b.cells.length;j++){var C=parseInt(e(i.columnsrow[0].cells[j]).css("left"))-x,q=C+e(i.columnsrow[0].cells[j]).width();(u>=C&&q>=u||c>=C&&q>=c||C>=u&&c>=C)&&i._applycellselection(i.getboundindex(g),i._getcolumnat(j).datafield,!0,!1)}}h+=5}else h+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),r=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),r=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;e>t;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length,t=e-1;t>=0;t--){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length>0)return!0;if(i.disabled)return!1;var r=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0;if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(r>=33&&40>=r))return!0;if(t.altKey)return i._cancelkeydown=!1,!0;if(void 0!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0;if("selectedrow"===i.editmode)return!0;if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;var s=!1;if(t.altKey)return!0;if((t.ctrlKey||t.metaKey)&&this.clipboard){var n=String.fromCharCode(r).toLowerCase();if("c"==n||"x"==n){var o=this.copyselection();if(window.clipboardData)window.clipboardData.setData("Text",o);else{var a=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');a.val(o),e("body").append(a),a.select(),setTimeout(function(){document.designMode="off",a.select(),a.remove(),i.focus()},100)}}else if("v"==n){var l=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(l),l.select();var h=this;setTimeout(function(){h._clipboardselection=new Array;for(var e=l.val(),t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("	").length>0){var r=t[i].split("	");if(1==r.length&&i==t.length-1&&""==r[0])continue;r.length>0&&h._clipboardselection.push(r)}h.pasteselection(),l.remove(),h.focus()},100)}"x"==n&&(this.deleteselection(),this.host.focus())}var d=Math.round(i._gettableheight()),c=Math.round(d/i.rowsheight),u=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var p=i.getselectedcell();if(null!=p){var f=this.getrowvisibleindex(p.rowindex),m=f,g=p.datafield,v=i._getcolumnindex(g),w=(i.columns.records.length,function(e,n,o){var a=function(e,t){var r=i.dataview.loadedrecords[e];if(void 0!=r&&null!=t){(o||void 0==o)&&i.clearselection();var n=i.getboundindex(r);return i.selectcell(n,t),i._oldselectedcell=i.selectedcell,s=!0,i.ensurecellvisible(e,t),!0}return!1};if(a(e,n)||(i.ensurecellvisible(e,n),a(e,n),i.virtualmode&&i.host.focus()),t.shiftKey&&9!=r){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,n);var l=i.dataview.loadedrecords[e],h=i.getboundindex(l);return void(i.selectedcell={rowindex:h,datafield:n})}}else t.shiftKey||(i._lastClickedCell={row:e,column:n})}),x=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,b=function(){w(0,g,!x)},_=function(){var e=u.rowscount-1;w(e,g,!x)},y=9==r&&!t.shiftKey,j=9==r&&t.shiftKey;(y||j)&&(x=!1);var C=t.ctrlKey||t.metaKey;if(C&&37==r){var q=i._getfirstvisiblecolumn(v);null!=q&&w(m,q.datafield)}else if(C&&39==r){var T=i._getlastvisiblecolumn(v);null!=T&&w(m,T.datafield)}else if(39==r||y){var S=i._getnextvisiblecolumn(v);null!=S?w(m,S.datafield,!x):y||(s=!0)}else if(37==r||j){var q=i._getprevvisiblecolumn(v);null!=q?w(m,q.datafield,!x):j||(s=!0)}else if(36==r)b();else if(35==r)_();else if(33==r)if(m-c>=0){var I=m-c;w(I,g,!x)}else b();else if(34==r)if(u.rowscount>m+c){var I=m+c;w(I,g,!x)}else _();else 38==r?C?b():m>0?w(m-1,g,!x):s=!0:40==r&&(C?_():u.rowscount>m+1?w(m+1,g,!x):s=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var m=i.getselectedrowindex();if(null==m||-1==m)return!0;m=this.getrowvisibleindex(m);var k=function(e,n){var o=function(e){var t=i.dataview.loadedrecords[e];if(void 0!=t){var r=i.getboundindex(t),o=i.selectedrowindex;(n||void 0==n)&&i.clearselection(),i.selectedrowindex=o,i.selectrow(r,!1);var a=i.ensurerowvisible(e);return(!a||i.autoheight||i.groupable)&&i._rendervisualrows(),s=!0,!0}return!1};if(o(e)||(i.ensurerowvisible(e),o(e,n),i.virtualmode&&setTimeout(function(){o(e,n)},25),i.virtualmode&&i.host.focus()),t.shiftKey&&9!=r){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},x=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,b=function(){k(0,!x)},_=function(){var e=u.rowscount-1;k(e,!x)},C=t.ctrlKey||t.metaKey;if(36==r||C&&38==r)b();else if(35==r||C&&40==r)_();else if(33==r)if(m-c>=0){var I=m-c;k(I,!x)}else b();else if(34==r)if(u.rowscount>m+c){var I=m+c;k(I,!x)}else _();else 38==r?m>0?k(m-1,!x):s=!0:40==r&&(u.rowscount>m+1?k(m+1,!x):s=!0)}return s?(i.autosavestate&&i.savestate&&i.savestate(),!1):!0},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var r,s,n,o,a;if(i.enablehover||"multiplerows"==i.selectionmode){r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;var l=this.showtoolbar?this.toolbarheight:0;if(s+=l,n=this.host.coord(),this.hasTransform){n=e.jqx.utilities.getOffset(this.host);var h=this._getBodyOffset();n.left-=h.left,n.top-=h.top}o=t.pageX-n.left,a=t.pageY-r-n.top-s}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0;if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var d=this._hittestrow(o,a);if(d){var c=d.row,u=d.index;if((-1==this.hoveredrow||-1==u||this.hoveredrow!=u||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=u&&void 0!=c)){var p=this.hittestinfo[u].visualrow;if(null!=p&&!(this.hittestinfo[u].details||t.clientX>e(p).width()+e(p).coord().left)){var f=0,m=p.cells.length;if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(m-=1,m-=this.groups.length):f=1+this.groups.length:this.groupable&&(this.rtl?m-=this.groups.length:f=this.groups.length),0!=p.cells.length){var g=p.cells[f].className;if(!(c.group||this.selectionmode.indexOf("row")>=0&&-1!=g.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=u,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(var v=f;m>v;v++){var w=p.cells[v];e(w).addClass(this.toTP("jqx-grid-cell-hover")),e(w).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(w,t.pageX,t.pageY)}else{var x=-1,b=this.hScrollInstance,_=b.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(_=b.max-b.value);for(var v=f;m>v;v++){var y=parseInt(e(this.columnsrow[0].cells[v]).css("left"))-_,j=y+e(this.columnsrow[0].cells[v]).width();if(j>=o&&o>=y){x=v;break}}if(-1!=x){var w=p.cells[x];if(this.cellhover&&this.cellhover(w,t.pageX,t.pageY),-1==w.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var C=this._getcolumnat(x);if(C&&this.editcell.row==u&&this.editcell.column==C.datafield)return}e(w).addClass(this.toTP("jqx-grid-cell-hover")),e(w).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_initpager:function(){var t=this.that,i=this.gridlocalization.pagergotopagestring,r=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),s=(this.pagerheight-17)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var n=this.pagerrenderer();null!=n&&this.pagerdiv.append(e(n)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",s),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||e('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||e('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=e('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var o=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(o);var a=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(a),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var l=this.rtl?"right":"left";this.pagerbuttons.css("float",l),this.pagerlastbutton.css("float",l),this.pagerfirstbutton.css("float",l),this.pagerrightbutton.css("float",l),this.pagerleftbutton.css("float",l),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()
}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var h=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(h);var d=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(d),this.rtl||this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var c=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:c,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:16,theme:this.theme});for(var u=0,p=0;p<c.length;p++)this.pagesize>=c[p]&&(u=p);this.pagershowrows[0].innerHTML=r,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:u}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var t=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){t.vScrollInstance&&t.vScrollInstance.setPosition(0),null!=t.editcell&&t.endcelledit&&t.endcelledit(t.editcell.row,t.editcell.column,!0,!1);var i=e.args.index,r=t.dataview.pagenum*t.dataview.pagesize,s=c[i],n=t.pagesize;t.pagesize=parseInt(s),isNaN(t.pagesize)&&(t.pagesize=10),t.pagershowrowscombo.jqxDropDownList(s>=100?{width:"auto"}:{width:44}),t.dataview.pagesize=t.pagesize;var o=Math.floor(r/t.dataview.pagesize);t.prerenderrequired=!0,t._requiresupdate=!0,t._raiseEvent(10,{pagenum:o,oldpagesize:n,pagesize:t.dataview.pagesize}),t.gotopage(o),t.autoheight&&t._updatesizeonwindowresize&&(t._updatesize(!0),setTimeout(function(){t._updatesize(!0)},500))}});var f=this.pagergotoinput.find("input");f.addClass(this.toThemeProperty("jqx-grid-pager-input")),f.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(f,"keydown"),this.removeHandler(f,"change"),this.addHandler(f,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var i=f.val();return i=parseInt(i),isNaN(i)||t.gotopage(i-1),!1}}),this.addHandler(f,"change",function(){var e=f.val();e=parseInt(e),isNaN(e)||t.gotopage(e-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+this.element.id,function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),h.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage())});var m=this;if("simple"===this.pagermode){var g=this.pagerfirstbutton,v=this.pagerlastbutton;this.addHandler(v,"mouseenter",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseenter",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mouseleave",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseleave",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mousedown",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mousedown",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(v,"mouseup",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mouseup",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+name+this.element.id,function(){d.removeClass(m.toThemeProperty("jqx-icon-arrow-right-selected")),h.removeClass(m.toThemeProperty("jqx-icon-arrow-left-selected")),a&&(a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected")),o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(g,"click",function(){if(!g.jqxButton("disabled"))if(m.rtl){var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}else m.gotopage(0)}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(m.rtl)m.gotopage(0);else{var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var t=this.pagergotoinput.find("input");t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-pager-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var i=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i);var r=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(r.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(r),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var s=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");s.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(s);var n=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(n),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var o=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};o(this,this.pagerrightbutton),o(this,this.pagerleftbutton);var a=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){r.addClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){r.removeClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){r.addClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){r.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if((null==e||void 0==e)&&(e=0),-1==e&&(e=0),!(0>e)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var r=Math.ceil(t/this.pagesize);if(e>=r&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=r-1),0>e&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var s=e*this.dataview.pagesize,n=s+this.dataview.pagesize;if(null!=s&&null!=n)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var o=this.host.height()-this._gettableheight();height=o+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var t=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize;i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords);var r=this.dataview.totalrecords;this.summaryrows&&(r+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=r)),t++;var s=Math.ceil(r/this.dataview.pagesize);if(s>=1&&s--,s++,"simple"!==this.pagermode){var n=this.pagergotoinput.find("input");n.val(this.dataview.pagenum+1)}else{var o="",a=this.pagerbuttonscount;0!=a&&a||(a=5);var l=0;for(this.rtl&&(l=a-1);this.rtl&&l>=0||!this.rtl&&a>l;){var h=1+l,d=this.dataview.pagenum/a,c=Math.floor(d);h+=c*a;var u=this.toTP("jqx-grid-pager-number");if(u+=" "+this.toTP("jqx-rc-all"),h>s)break;if(this.rtl||0==l&&h>a&&(o+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+h)+"'>...</a>"),this.dataview.pagenum===h-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(l===a-1){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),s>=1+h&&(o+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+h)+"'>...</a>")}this.dataview.pagenum===h-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),o+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+h+"'>"+h+"</a>"}else if(o+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+h+"'>"+h+"</a>",l===a-1){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),s>=1+h&&(o+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+h)+"'>...</a>")}if(this.rtl){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),0==l&&h>a&&(o+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+h)+"'>...</a>")}this.rtl?l--:l++}var p=this.pagerbuttons.find("a");this.removeHandler(p,"click"),this.removeHandler(p,"mouseenter"),this.removeHandler(p,"mouseleave"),this.pagerbuttons[0].innerHTML=o;var f=this,m=function(){f.addHandler(p,"click",function(t){var i=e(t.target).attr("data-page");return f.gotopage(parseInt(i)-1),!1}),f.addHandler(p,"mouseenter",function(t){e(t.target).addClass(f.toTP("jqx-fill-state-hover"))}),f.addHandler(p,"mouseleave",function(t){e(t.target).removeClass(f.toTP("jqx-fill-state-hover"))})},p=this.pagerbuttons.find("a");m(p)}this.pagergotoinput.attr("title","1 - "+s),0==i&&t>i&&(t=0),this.pagerdetails[0].innerHTML=this.rtl?r+this.gridlocalization.pagerrangestring+i+"-"+t:t+"-"+i+this.gridlocalization.pagerrangestring+r,t>i&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var r=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var s=this.dataview.rows.length,n=0;s>n;n++){var o=this.dataview.rows[n].visibleindex,a={index:o,height:this.heights[o],hidden:this.hiddens[o],details:this.details[o]};if(void 0==this.heights[o]&&(this.heights[o]=this.rowsheight,a.height=this.rowsheight),void 0==this.hiddens[o]&&(this.hiddens[o]=!1,a.hidden=!1),void 0==this.details[o]&&(this.details[o]=null),a.height!=r.rowsheight&&(t-=r.rowsheight,t+=a.height),a.hidden)t-=a.height;else{i+=a.height;var l=0;this.rowdetails&&a.details&&a.details.rowdetails&&!a.details.rowdetailshidden&&(l=a.details.rowdetailsheight,i+=l,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework),function(e){e.jqx.dataview.sort=function(){this.sortby=function(t,i,r){var s=Object.prototype.toString;if(null==i)return this.sortdata=null,void this.refresh();void 0==i&&(i=!0),i="a"==i||"asc"==i||"ascending"==i||1==i?!0:!1;var n=t;this.sortfield=t,this.sortfielddirection=i?"asc":"desc",void 0==this.sortcache&&(this.sortcache={}),this.sortdata=[];var o=[],a=!1;if("constructor"==n&&(n=""),!this.virtualmode&&null!=this.sortcache[n]){var l=this.sortcache[n];o=l._sortdata,l.direction==i?o.reverse():(!l.direction&&i&&o.reverse(),a=!0),o.length<this.totalrecords&&(this.sortcache={},a=!1,o=[])}Object.prototype.toString="function"==typeof t?t:function(){return this[t]};var h=this.records,d=(this.that,"");if(this.source.datafields&&e.each(this.source.datafields,function(){return this.name==t?(this.type&&(d=this.type),!1):void 0}),0==o.length)if(h.length)for(var c=h.length,u=0;c>u;u++){var p=h[u];if(null!=p){var f=p,m=f.toString();o.push({sortkey:m,value:f,index:u})}}else{var g=!1;for(obj in h){var p=h[obj];if(void 0==p){g=!0;break}var f=p;o.push({sortkey:f.toString(),value:f,index:obj})}g&&e.each(h,function(e,t){o.push({sortkey:t.toString(),value:t,index:e})})}if(!a)if(null==r){this._sortcolumntype=d;var v=this;o.sort(function(e,t){return v._compare(e,t,d)})}else o.sort(r);i||o.reverse(),Object.prototype.toString=s,this.sortdata=o,this.sortcache[n]={_sortdata:o,direction:i},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(t,i,r){var t=t.sortkey,i=i.sortkey;if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;if(e.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return i>t?-1:t>i?1:0;case"date":case"time":return i>t?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},e.extend(e.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var t=this.that,i=this.getsortcolumn();if(this.sortdirection){var r=function(i,r){var s=t.getcolumn(i);s&&(r.ascending?e.jqx.aria(s.element,"aria-sort","ascending"):r.descending?e.jqx.aria(s.element,"aria-sort","descending"):e.jqx.aria(s.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&r(this._oldsortinfo.column,{ascending:!1,descending:!1}),r(i,this.sortdirection)}this._oldsortinfo={column:i,direction:this.sortdirection},this.sortdirection&&e.each(this.columns.records,function(){var r=e.data(document.body,"groupsortelements"+this.displayfield);null==i||this.displayfield!=i?(e(this.sortasc).hide(),e(this.sortdesc).hide(),null!=r&&(r.sortasc.hide(),r.sortdesc.hide())):t.sortdirection.ascending?(e(this.sortasc).show(),e(this.sortdesc).hide(),null!=r&&(r.sortasc.show(),r.sortdesc.hide())):(e(this.sortasc).hide(),e(this.sortdesc).show(),null!=r&&(r.sortasc.hide(),r.sortdesc.show()))})},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(e,t,i,r,s){if(this._loading&&s!==!1)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),void 0!=e){var n=this.that;if(void 0==i&&null!=n.source.sortcomparer&&(i=n.source.sortcomparer),ascending="a"==t||"asc"==t||"ascending"==t||1==t?!0:!1,n.sortdirection=null!=t?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},n.sortcolumn=null!=t?e:null,n.source.sort||n.virtualmode){if(n.dataview.sortfield=e,n.dataview.sortfielddirection=null==t?"":ascending?"asc":"desc",n.source.sort&&!this._loading)return n.source.sort(e,t),void n._raiseEvent(6,{sortinformation:n.getsortinformation()})}else n.dataview.sortby(e,t,i);if(r===!1)return;n.groupable&&n.groups.length>0?(n._render(!0,!1,!1),n._updategroupheadersbounds&&n.showgroupsheader&&n._updategroupheadersbounds()):(n.pageable&&n.dataview.updateview(),n._updaterowsproperties(),n.rendergridcontent(!0)),n._raiseEvent(6,{sortinformation:n.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled&&e.sortable&&t.sortable){var i=t.getsortinformation(),r=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(r=i.sortdirection.ascending,r=t.sorttogglestates>1?1==r?!1:null:!r):r=!0,t.sortby(e.displayfield,r,null)}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){for(var i=this.columns.records.length,r=0,s=this,n=0;i>n;n++){var o=this.columns.records[n],a=o.width;a<o.minwidth&&(a=o.minwidth),a>o.maxwidth&&(a=o.maxwidth);var l=e(this.filterrow[0].cells[n]);l.css("left",r);var h=!0;if(l.width()==a&&(h=!1),t&&(h=!0),l.width(a),l[0].left=r,o.hidden&&o.hideable?l.css("display","none"):r+=a,h)if(o.createfilterwidget&&"custom"==o.filtertype)o.createfilterwidget(o,l);else if(o.filterable){var d=function(t,i){var r=e(i.children()[0]);r.width(a-10),r.attr("disabled",t.disabled)};switch(o.filtertype){case"number":case"input":e(l.children()[0]).width(a),l.find("input").width(a-30),l.find("input").attr("disabled",s.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:s.theme,disabled:s.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:s.theme,disabled:s.disabled,width:a-10}):d(this,l);break;case"textbox":case"default":d(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:s.theme,disabled:s.disabled,width:a-10}):d(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:s.theme,disabled:s.disabled}):d(this,l)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(r)+2),c.height(this.filterrowheight)},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,r=0;i>r;r++){var s=this.columns.records[r],n=e(this.filterrow[0].cells[r]);if(("string"!=typeof t||s.displayfield==t)&&s.filterable){var o=function(t,i){var r=e(i.children()[0]);r.val(""),r[0]&&(t["_oldWriteText"+r[0].id]="")};switch(s.filtertype){case"number":case"input":if(n.find("input").val(""),this.host.jqxDropDownList){var a=e(e(e(n).children()[0]).children()[1]);a.jqxDropDownList("clearSelection");var l=0;if(0==l){var h=this._getfiltersbytype("number"==s.filtertype?"number":"string"),d=h.indexOf("contains");-1!=d&&null==s.filtercondition&&(l=d)}a.jqxDropDownList({selectedIndex:l}),a.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?e(n.children()[0]).jqxDateTimeInput("setDate",null):o(this,n);break;case"textbox":case"default":o(this,n);break;case"list":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("clearSelection"):o(this,n);break;case"checkedlist":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("checkAll",!1):o(this,n);break;case"bool":case"boolean":this.host.jqxCheckBox?e(n.children()[0]).jqxCheckBox({checked:null}):o(this,n)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,r=0;t>r;r++){var s=new e.jqx.filter,n=this.columns.records[r];if(n.filterable&&null!==n.datafield){var o=i._getcolumntypebydatafield(n),a=i._getfiltertype(o),l=1,h=!0,d=(n.filtertype,function(e,t,r){var s=!0;if(e._filterwidget){var n=e._filterwidget.val();if(""!=n){var o="equal";if("stringfilter"==t)var o="contains";if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&n.indexOf(i.gridlocalization.decimalseparator)>=0&&(n=n.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var a=0;if(-1!=n.indexOf(">")&&(o="greater_than",a=1),-1!=n.indexOf("<")&&(o="less_than",a=1),-1!=n.indexOf("=")&&("greater_than"==o?(o="greater_than_or_equal",a=2):"less_than"==o?(o="less_than_or_equal",a=2):(o="equal",a=1)),0!=a&&(n=n.substring(a),n.length<1))return!1}if(void 0!=e.filtercondition&&(o=e.filtercondition),"datefilter"==t)var h=r.createfilter(t,n,o,null,e.cellsformat,i.gridlocalization);else var h=r.createfilter(t,n,o);r.addfilter(l,h)}else s=!1}return s});switch(n.filtertype){case"range":case"date":if(n._filterwidget.jqxDateTimeInput)if("range"==n.filtertype){var c=n._filterwidget.jqxDateTimeInput("getRange");if(null!=c&&null!=c.from&&null!=c.to){var u="GREATER_THAN_OR_EQUAL",p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(c.from.getFullYear(),c.from.getMonth(),c.from.getDate());var f=new Date(0);f.setHours(0),f.setMinutes(0),f.setFullYear(c.to.getFullYear(),c.to.getMonth(),c.to.getDate()),f.setHours(c.to.getHours()),f.setMinutes(c.to.getMinutes()),f.setSeconds(c.to.getSeconds());var m=s.createfilter(a,p,u);s.addfilter(0,m);var g="LESS_THAN_OR_EQUAL",v=s.createfilter(a,f,g);s.addfilter(0,v)}else h=!1}else{var c=n._filterwidget.jqxDateTimeInput("getDate");if(null!=c){var p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(c.getFullYear(),c.getMonth(),c.getDate());var m=s.createfilter(a,p,"EQUAL");s.addfilter(0,m)}else h=!1}else h=d(n,a,s);break;case"input":if(n._filterwidget){var c=n._filterwidget.find("input").val(),w=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),x=s.getoperatorsbyfiltertype(a)[w];if(i.updatefilterconditions){var b=i.updatefilterconditions(a,s.getoperatorsbyfiltertype(a));void 0!=b&&s.setoperatorsbyfiltertype(a,b);var x=s.getoperatorsbyfiltertype(a)[w]}var _="NULL"==x||"NOT_NULL"==x,y="EMPTY"==x||"NOT_EMPTY"==x;void 0!=c&&c.length>0||_||y?(m=s.createfilter(a,c,x,null,n.cellsformat,i.gridlocalization),s.addfilter(0,m)):h=!1}else h=!1;break;case"number":if(n._filterwidget){var c=n._filterwidget.find("input").val();","==i.gridlocalization.decimalseparator&&c.indexOf(i.gridlocalization.decimalseparator)>=0&&(c=c.replace(i.gridlocalization.decimalseparator,"."));var w=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),x=s.getoperatorsbyfiltertype(a)[w];if(i.updatefilterconditions){var b=i.updatefilterconditions(a,s.getoperatorsbyfiltertype(a));void 0!=b&&s.setoperatorsbyfiltertype(a,b);var x=s.getoperatorsbyfiltertype(a)[w]}var _="NULL"==x||"NOT_NULL"==x,y="EMPTY"==x||"NOT_EMPTY"==x;void 0!=c&&c.length>0||_||y?(m=s.createfilter(a,new Number(c),x,null,n.cellsformat,i.gridlocalization),s.addfilter(0,m)):h=!1}else h=!1;break;case"textbox":case"default":h=d(n,a,s);break;case"bool":case"boolean":if(n._filterwidget.jqxCheckBox){var c=n._filterwidget.jqxCheckBox("checked");if(null!=c){var u="equal",j=s.createfilter(a,c,u);s.addfilter(l,j)}else h=!1}else h=d(n,a,s);break;case"list":var C=n._filterwidget.jqxDropDownList("listBox");if(C.selectedIndex>0){var q=C.getItem(C.selectedIndex),c=q.label,T=q.value,u="equal";""===c&&(u="NULL");var j=s.createfilter(a,c,u);s.addfilter(l,j),T!==c&&(j.data=T)}else h=!1;break;case"checkedlist":if(n._filterwidget.jqxDropDownList){var C=n._filterwidget.jqxDropDownList("listBox"),S=C.getCheckedItems();if(0==S.length){for(var I=1;I<C.items.length;I++){var c=C.items[I].label,T=C.items[I].value,u="not_equal";""===c&&(u="NULL");var j=s.createfilter(a,c,u);T!==c&&(j.data=T),s.addfilter(0,j)}h=!0}else if(S.length!=C.items.length)for(var I=0;I<S.length;I++){var c=S[I].label,T=S[I].value,u="equal";""===c&&(u="NULL");var j=s.createfilter(a,c,u);T!==c&&(j.data=T),s.addfilter(l,j)}else h=!1}else h=d(n,a,s)}this._loading||(h?this.addfilter(n.displayfield,s,!1):this.removefilter(n.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),s+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var n=r+10,o=new Array,a=this.that;this.filterrow[0].cells=o,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,h=new Array,d=0;r>d;d++){var c=this.columns.records[d],u=c.width;u<c.minwidth&&(u=c.minwidth),u>c.maxwidth&&(u=c.maxwidth);var p=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+s+'"></div>');t.append(p),p.css("left",i),this.rtl?(p.css("z-index",n++),p.css("border-left-width","1px")):p.css("z-index",n--),"auto"==u&&(u=0),p[0].style.width=parseFloat(u)+"px",p[0].left=i,c.hidden&&c.hideable?p.css("display","none"):i+=u,o[o.length]=p[0];var f=!0;if(this.rtl){if(this.groupable){var m=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+m+d>r-1&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&d==r-1&&(f=!1)}else{if(this.groupable){var m=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+m>d&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==d&&(f=!1)}if(f)if("custom"==c.filtertype&&c.createfilterwidget){var g=function(){a._applyfilterfromfilterrow()};c.createfilterwidget(c,p,g)}else c.filterable&&(this._filterrowcache[c.datafield]?(l=!0,p.append(this._filterrowcache[c.datafield]),c._filterwidget=this._filterrowcache[c.datafield]):(this._addfilterwidget(c,p,u),h[c.datafield]=c._filterwidget))}this._filterrowcache=h,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseFloat(i)+2),this.filterrow.addClass(s),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,r){for(var s=this.that,n="",o=0;o<s.dataview.filters.length;o++){var a=s.dataview.filters[o];if(a.datafield&&a.datafield==t.datafield){n=a.filter.getfilters()[0].value;break}}var l=function(i,s){var o=e('<input autocomplete="off" type="textarea"/>');o[0].id=e.jqx.utilities.createId(),o.addClass(i.toThemeProperty("jqx-widget")),o.addClass(i.toThemeProperty("jqx-input")),o.addClass(i.toThemeProperty("jqx-rc-all")),o.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&o.css("direction","rtl"),i.disabled&&o.attr("disabled",!0),o.attr("disabled",!1),o.appendTo(s),o.width(r-10),o.height(i.filterrowheight-10),o.css("margin","4px"),t.createfilterwidget&&t.createfilterwidget(t,s,o),t._filterwidget=o,o.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=o,o.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),o.blur(function(){o.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),o.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),o[0]._writeTimer&&clearTimeout(o[0]._writeTimer),o[0]._writeTimer=setTimeout(function(){i._loading||i["_oldWriteText"+o[0].id]!=o.val()&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+o[0].id]=o.val())},t.filterdelay),i.focusedfilter=o}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),o.val(n)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"==t.datatype||"date"==t.datatype||"bool"==t.datatype)&&(t.filtertype="textbox"),"date"==t.filtertype&&("string"==t.datatype||"number"==t.datatype||"bool"==t.datatype)&&(t.filtertype="textbox"),"bool"==t.filtertype&&("string"==t.datatype||"number"==t.datatype||"date"==t.datatype)&&(t.filtertype="textbox")),t.filtertype){case"number":case"input":var h=e("<div></div>");h.width(i.width()),h.height(this.filterrowheight),i.append(h);var r=i.width()-20,d=function(i,r){var o=e('<input style="float: left;" autocomplete="off" type="textarea"/>');return s.rtl&&(o.css("float","right"),o.css("direction","rtl")),o[0].id=e.jqx.utilities.createId(),o.addClass(s.toThemeProperty("jqx-widget")),o.addClass(s.toThemeProperty("jqx-input")),o.addClass(s.toThemeProperty("jqx-rc-all")),o.addClass(s.toThemeProperty("jqx-widget-content")),o.appendTo(i),o.width(r-10),s.disabled&&o.attr("disabled",!0),o.attr("disabled",!1),o.height(s.filterrowheight-10),o.css("margin","4px"),o.css("margin-right","2px"),o.focus(function(){s.focusedfilter=o,o.addClass(s.toThemeProperty("jqx-fill-state-focus"))
}),o.blur(function(){o.removeClass(s.toThemeProperty("jqx-fill-state-focus"))}),o.keydown(function(e){"13"==e.keyCode&&s._applyfilterfromfilterrow(),o[0]._writeTimer&&clearTimeout(o[0]._writeTimer),o[0]._writeTimer=setTimeout(function(){s._loading||s["_oldWriteText"+o[0].id]!=o.val()&&(s._applyfilterfromfilterrow(),s["_oldWriteText"+o[0].id]=o.val())},t.filterdelay),s.focusedfilter=o}),o.val(n),o};d(h,r);var c=s._getfiltersbytype("number"==t.filtertype?"number":"string"),u=e("<div class='filter' style='float: left;'></div>");u.css("margin-top","4px"),u.appendTo(h),s.rtl&&u.css("float","right");var p=0;if(null!=t.filtercondition){var o=new e.jqx.filter,f=o.getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter"),m=f.indexOf(t.filtercondition.toUpperCase());-1!=m&&(p=m)}var g=170;if("input"==t.filtertype&&(g=240,0==p)){var m=c.indexOf("contains");-1!=m&&null==t.filtercondition&&(p=m)}u.jqxDropDownList({disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:p,width:18,height:21,dropDownHeight:150,dropDownWidth:g,source:c,theme:s.theme}),u.jqxDropDownList({selectionRenderer:function(){return""}}),u.jqxDropDownList("setContent",""),u.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,h),t._filterwidget=h;var v=null;this.addHandler(u,"select",function(){var e=u.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!s.refreshingfilter&&s._applyfilterfromfilterrow(),"input"!=t.filtertype||s.refreshingfilter?0!=t._filterwidget.find("input").val().length||s.refreshingfilter||("null"==v||"not null"==v||"null"==e||"not null"==e)&&s._applyfilterfromfilterrow():s._applyfilterfromfilterrow(),v=e});break;case"textbox":case"default":default:l(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var w=e("<div></div>");w.css("margin","4px"),w.appendTo(i);var x={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};w.jqxDateTimeInput({readonly:!0,disabled:s.disabled,localization:x,rtl:s.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:r-10,height:this.filterrowheight-10}),t.createfilterwidget&&t.createfilterwidget(t,i,w),t._filterwidget=w,this.addHandler(w,"valueChanged",function(){s.refreshingfilter||(s._applyfilterfromfilterrow(),s.focusedfilter=null)})}else l(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var b=this._getfilterdataadapter(t),_=!1,u=e("<div></div>");u.css("margin","4px");var y=t.datafield,j="checkedlist"==t.filtertype?!0:!1,g=150>r?220:"auto";b.dataBind();var C=b.records,q=C.length<8?!0:!1;_=q,u.appendTo(i),u.jqxDropDownList({disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,checkboxes:j,dropDownWidth:g,source:b.records,autoDropDownHeight:q,theme:this.theme,width:r-10,height:this.filterrowheight-10,displayMember:t.displayfield,valueMember:y}),t.createfilterwidget&&t.createfilterwidget(t,i,u);var T=u.jqxDropDownList("listBox");if(j){u.jqxDropDownList({selectionRenderer:function(){var e='<span class="'+s.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>";return e}});var S=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>");if(S.addClass(this.toThemeProperty("jqx-item")),void 0!=T){_||T.host.height(200),T.insertAt(s.gridlocalization.filterselectallstring,0),u.jqxDropDownList("setContent",S);{var I=!0;new Array}T.checkAll(!1),s.addHandler(T.host,"checkChange",function(e){if(u[0]._selectionChanged=!0,I)if(e.args.label!=s.gridlocalization.filterselectallstring){I=!1,T.host.jqxListBox("checkIndex",0,!0,!1);var t=T.host.jqxListBox("getCheckedItems"),i=T.host.jqxListBox("getItems");1==t.length?T.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&T.host.jqxListBox("indeterminateIndex",0,!0,!1),I=!0}else I=!1,e.args.checked?T.host.jqxListBox("checkAll",!1):T.host.jqxListBox("uncheckAll",!1),I=!0})}}else T.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),u.jqxDropDownList({selectedIndex:0});t._filterwidget=u;{u.jqxDropDownList("dropdownlistWrapper")}"list"==t.filtertype?this.addHandler(u,"select",function(e){s.refreshingfilter||e.args&&"none"!=e.args.type&&(s._applyfilterfromfilterrow(),s.focusedfilter=null)}):this.addHandler(u,"close",function(){u[0]._selectionChanged&&(s._applyfilterfromfilterrow(),s.focusedfilter=null,u[0]._selectionChanged=!1)})}else l(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var k=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');k.appendTo(i),k.jqxCheckBox({disabled:s.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),t.createfilterwidget&&t.createfilterwidget(t,i,k),n===!0||"true"==n?k.jqxCheckBox({checked:!0}):(n===!1||"false"==n)&&k.jqxCheckBox({checked:!1}),t._filterwidget=k,this.addHandler(k,"change",function(e){s.refreshingfilter||e.args&&(s.focusedfilter=null,s._applyfilterfromfilterrow())})}else l(this,i)}},_getfilterdataadapter:function(t){var i=this.source._source?!0:!1;if(i){var r={localdata:this.source.records,datatype:this.source.datatype,async:!1},s=this;dataadapter=new e.jqx.dataAdapter(r,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var r=s._getcolumntypebydatafield(t),n=0;n<e.length;n++){i.push(e[n]);var o=e[n][t.displayfield];e[n][t.displayfield+"JQValue"]=o,"date"===r?e[n][t.displayfield]=dataadapter.formatDate(o,t.cellsformat,s.gridlocalization):("number"===r||"float"===r||"int"===r)&&(e[n][t.displayfield]=dataadapter.formatNumber(o,t.cellsformat,s.gridlocalization))}return i}return e}})}else dataadapter=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0){var r={localdata:t.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new e.jqx.dataAdapter(r,{autoBind:!1,async:!1})}else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,r=0;i>r;r++){var s=this.columns.records[r];if(s.filterable&&s.filter){var n=s.filter.getfilters();if(n.length>0){var o=n[0].value,a=s._filterwidget,l=s._filterwidget.parent();if(null!=a)switch(s.filtertype){case"number":if(l.find("input").val(o),this.host.jqxDropDownList){var h=s.filter.getoperatorsbyfiltertype("numericfilter");a.find(".filter").jqxDropDownList("selectIndex",h.indexOf(n[0].condition))}break;case"input":if(l.find("input").val(o),this.host.jqxDropDownList){var h=s.filter.getoperatorsbyfiltertype("stringfilter");a.find(".filter").jqxDropDownList("selectIndex",h.indexOf(n[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){var o=s.filter.getfilterat(0).filtervalue;if(void 0!=o){if(s.filter.getfilterat(1))var d=s.filter.getfilterat(1).filtervalue;else d=o;"range"==s.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(o),new Date(d)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(o))}}else a.val(o);break;case"textbox":case"default":a.val(o),t["_oldWriteText"+a[0].id]=o;break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:o}):a.val(o)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var t=(this.that,this.columns.records.length),i=0;t>i;i++){var r=this.columns.records[i];if(r.filterable){var s=r._filterwidget;if("list"==r.filtertype||"checkedlist"==r.filtertype)this.removeHandler(s,"select"),this.removeHandler(s,"close"),s.jqxDropDownList("destroy");else if("date"==r.filtertype)this.removeHandler(s,"valueChanged"),s.jqxDateTimeInput("destroy");else if("bool"==r.filtertype)this.removeHandler(s,"change"),s.jqxCheckBox("destroy");else if("number"==r.filtertype){var n=s.find(".jqx-input");this.removeHandler(n,"keydown");var o=e(s.children()[1]);o.jqxDropDownList("destroy")}else this.removeHandler(s,"keydown");s.remove()}}},_updatelistfilters:function(t,i){for(var r=this.that,s=this.columns.records.length,n=0;s>n;n++){var o=this.columns.records[n];if(o.filterable&&("list"==o.filtertype||"checkedlist"==o.filtertype)){var a=o._filterwidget;if(t){var l=this._getfilterdataadapter(o);a.jqxDropDownList({source:l});var h=a.jqxDropDownList("getItems"),d=!0;if(h.length!=l.records.length+1&&(d=!1),d)for(var c=1;c<h.length;c++)if(h[c].label!=l.records[c-1][o.displayfield]){d=!1;break}if(d&&!i)continue}else if(void 0==o.filter){a.jqxDropDownList("renderSelection");continue}var u="checkedlist"==o.filtertype?!0:!1,h=a.jqxDropDownList("getItems"),p=a.jqxDropDownList("listBox");if(a.jqxDropDownList("dataBind"),u){if(a.jqxDropDownList({selectionRenderer:function(){return r.gridlocalization.filterselectstring}}),p.insertAt(this.gridlocalization.filterselectallstring,0),a.jqxDropDownList("setContent",this.gridlocalization.filterselectstring),p.checkAll(!1),o.filter){for(var f=o.filter.getfilters(),c=0;c<p.items.length;c++){var m=p.items[c].label,g=void 0;e.each(f,function(){var e;"NOT_EQUAL"==this.condition?e=m==this.value?!1:!0:"EQUAL"==this.condition&&(e=m==this.value?!0:!1),g=void 0==g&&void 0!==e?e:"EQUAL"==this.condition?g||e:g&&e}),g?p.checkIndex(c,!1,!1):p.uncheckIndex(c,!1,!1)}p._updateCheckedItems();var v=p.getCheckedItems().length;p.items.length!=v&&v>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),a.jqxDropDownList({selectedIndex:0}),o.filter){for(var f=o.filter.getfilters(),w=-1,c=0;c<p.items.length;c++){var m=p.items[c].label;e.each(f,function(){return"NOT_EQUAL"==this.condition?!0:m==this.value?(w=c,!1):void 0})}-1!=w&&p.selectIndex(w)}h.length<8?a.jqxDropDownList("autoDropDownHeight",!0):a.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(){var i=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),i=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),i=!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=i?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(!r.datatype){var s="";e.each(t,function(){return this.name==r.displayfield?(this.type&&(s=this.type),!1):void 0}),r.datatype=""!=s?s:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,r="string",s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var n="";if(e.each(s,function(){return this.name==t.displayfield?(this.type&&(n=this.type),!1):void 0}),n)return n}if(null!=t){if(void 0==this.dataview.cachedrecords)return r;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return o=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(o=this.dataview.cachedrecords[0][t.displayfield],null!=o&&""==o.toString())return"string"}if(null!=o)if("boolean"==typeof o)r="boolean";else if(e.jqx.dataFormat.isNumber(o))r="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(a=e.jqx.dataFormat.tryparsedate(o),null!=a){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}return r},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,r){var s=e(i).find("#filter1"+t.element.id),n=e(i).find("#filter2"+t.element.id),o=e(i).find("#filter3"+t.element.id),a=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),h=a.val(),d=l.val(),c=t._getcolumntypebydatafield(r),u=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode){var f=s.jqxDropDownList("selectedIndex"),m=n.jqxDropDownList("selectedIndex"),g=o.jqxDropDownList("selectedIndex"),v=null,w=null;if(t.updatefilterconditions){var x=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));void 0!=x&&u.setoperatorsbyfiltertype(p,x)}var b=!1,_=u.getoperatorsbyfiltertype(p)[f],o=u.getoperatorsbyfiltertype(p)[g],y="NULL"==_||"NOT_NULL"==_,j="EMPTY"==_||"NOT_EMPTY"==_;void 0==_&&(_=u.getoperatorsbyfiltertype(p)[0]),void 0==o&&(o=u.getoperatorsbyfiltertype(p)[0]),(h.length>0||y||j)&&(v=u.createfilter(p,h,_,null,r.cellsformat,t.gridlocalization),u.addfilter(m,v),b=!0);var C="NULL"==o||"NOT_NULL"==o,q="EMPTY"==o||"NOT_EMPTY"==o;if((d.length>0||C||q)&&(w=u.createfilter(p,d,o,null,r.cellsformat,t.gridlocalization),u.addfilter(m,w),b=!0),b){var T=r.displayfield;this.addfilter(T,u,!0)}else this._clearfilter(t,i,r)}else{var S=!1,I=s.data().jqxListBox.instance,k=I.getCheckedItems();if(0==k.length){for(var B=1;B<I.items.length;B++){var H=I.items[B].value,z="not_equal";if(H.indexOf("|")>=0||H.indexOf(" AND ")>=0||H.indexOf(" OR ")>=0||H.indexOf(" and ")>=0||H.indexOf(" or ")>=0){H=H.replace("|",""),H=H.replace("AND",""),H=H.replace("OR",""),H=H.replace("and",""),H=H.replace("or","");var z="equal"}var L=u.createfilter(p,H,z,null);u.addfilter(0,L)}S=!0}else if(k.length!=I.items.length){S=!0;for(var B=0;B<k.length;B++)if(t.gridlocalization.filterselectallstring!==k[B].value){var H=k[B].value,z="equal",L=u.createfilter(p,H,z,null),P=1;u.addfilter(P,L)}}else S=!1;if(S){var T=r.displayfield;this.addfilter(T,u,!0)}else{var T=r.displayfield;this.removefilter(T,!0)}}},_clearfilter:function(e,t,i){var r=i.displayfield;this.removefilter(r,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var r=this.getcolumn(e),s=this._getcolumn(e);void 0!=r&&null!=r&&(r.filter=t,s.filter=t,this.dataview.addfilter(e,t),1==i&&void 0!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),r=this._getcolumn(e);void 0!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,r.filter=null,this.showfilterrow&&this.clearfilterrow(e),(1==t||t!==!1)&&this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var r=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,r,null,!1,!1):this.sortby(this.sortcolumn,r,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates()):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var r=1==t||t!==!1;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!r)})}t!==!1&&(1==t||t!==!1)&&this.applyfilters("clear")},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),r=e(e.find("#filter1"+this.element.id)),s=e(e.find("#filter2"+this.element.id)),n=e(e.find("#filter3"+this.element.id)),o=e(e.find(".filtertext1"+this.element.id)),a=e(e.find(".filtertext2"+this.element.id));o.length>0&&a.length>0&&(o.removeClass(),a.removeClass(),o.remove(),a.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),r.length>0&&r.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,r){(null==t||void 0==t)&&(t=this);var s=t._getcolumntypebydatafield(r),n=t._getfiltersbytype(s);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");var o=e(i),a=o.find("#filterclearbutton"+t.element.id),l=o.find("#filterbutton"+t.element.id),h=o.find("#filter1"+t.element.id),d=o.find("#filter2"+t.element.id),c=o.find("#filter3"+t.element.id),u=o.find(".filtertext1"+t.element.id),p=o.find(".filtertext2"+t.element.id);if(this._hasdatefilter){var f=u.parent(),m=p.parent();if(f.children().remove(),m.children().remove(),"date"==r.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var g=e("<div class='filtertext1"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");f.append(g);var v=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:t.disabled,localization:i,rtl:t.rtl,width:t._filterpanelwidth-15,height:20,value:null,formatString:r.cellsformat,theme:t.theme})};v(g);var g=e("<div class='filtertext2"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");m.append(g),v(g)}else{t._showwhere.text(t.gridlocalization.filtershowrowstring);var g=e("<input class='filtertext1"+t.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");f.append(g);var v=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-15)};v(g);var g=e("<input class='filtertext2"+t.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");m.append(g),v(g)}var u=o.find(".filtertext1"+t.element.id),p=o.find(".filtertext2"+t.element.id)}if(u.val(""),p.val(""),this.removeHandler(l,"click"),this.addHandler(l,"click",function(){t._buildfilter(t,i,r),t._closemenu()}),this.removeHandler(a,"click"),this.addHandler(a,"click",function(){t._clearfilter(t,i,r),t._closemenu()}),"default"===this.filtermode){if(h.jqxDropDownList("source")!=n&&(h.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n}),c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n})),"boolean"==s||"bool"==s)h.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var w=!1;n&&n.length&&n.length<5&&(w=!0),h.jqxDropDownList({autoDropDownHeight:w,selectedIndex:2}),c.jqxDropDownList({autoDropDownHeight:w,selectedIndex:2})}d.jqxDropDownList({selectedIndex:0});var x=r.filter,b=new e.jqx.filter,_="";switch(s){case"number":case"int":case"float":case"decimal":_="numericfilter",y=b.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":_="booleanfilter",y=b.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":_="datefilter",y=b.getoperatorsbyfiltertype("datefilter");break;case"string":_="stringfilter",y=b.getoperatorsbyfiltertype("stringfilter")}if(null!=x){{var f=x.getfilterat(0),m=x.getfilterat(1);x.getoperatorat(0)}if(t.updatefilterconditions){var y=[],j=t.updatefilterconditions(_,y);if(void 0!=j){for(var C=0;C<j.length;C++)j[C]=j[C].toUpperCase();x.setoperatorsbyfiltertype(_,j),y=j}}var q="default";if(null!=f){var T=y.indexOf(f.comparisonoperator),S=f.filtervalue;u.val(S),h.jqxDropDownList({selectedIndex:T,animationType:q})}if(null!=m){var I=y.indexOf(m.comparisonoperator),k=m.filtervalue;p.val(k),c.jqxDropDownList({selectedIndex:I,animationType:q})}d.jqxDropDownList(void 0==x.getoperatorat(0)?{selectedIndex:0,animationType:q}:"and"==x.getoperatorat(0)||0==x.getoperatorat(0)?{selectedIndex:0}:{selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(h,c,d,u,p,l,a,x,_,y),(!this._hasdatefilter||this._hasdatefilter&&"date"!=r.filtertype)&&(u.focus(),setTimeout(function(){u.focus()},10))}else{var B=t._getfilterdataadapter(r),_=t._getfiltertype(s);h.jqxListBox(r.cellsformat?{displayMember:r.displayfield,valueMember:r.displayfield+"JQValue",source:B}:{displayMember:r.displayfield,valueMember:r.displayfield,source:B}),h.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0);var H=h.data().jqxListBox.instance;H.checkAll(!1);if(r.filter){H.uncheckAll(!1);for(var z=r.filter.getfilters(),L=0;L<H.items.length;L++){var P=H.items[L].value;e.each(z,function(){if("NOT_EQUAL"==this.condition){if(P!=this.value)return H.uncheckIndex(L,!1,!1),!1}else if("EQUAL"==this.condition&&P==this.value)return H.checkIndex(L,!1,!1),!1})}H._updateCheckedItems();var D=H.getCheckedItems().length;H.items.length!=D&&D>0&&H.host.jqxListBox("indeterminateIndex",0,!0,!1),D===H.items.length-1&&H.host.jqxListBox("checkIndex",0,!0,!1)}}},_initfilterpanel:function(t,i,r,s){(null==t||void 0==t)&&(t=this),i[0].innerHTML="";var n=e("<div class='filter' style='margin-left: 7px;'></div>");i.append(n);var o=e("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");o.text(t.gridlocalization.filtershowrowstring),this._showwhere=o;var a=e("<div class='filter' id='filter1"+t.element.id+"'></div>"),l=e("<div class='filter' id='filter2"+t.element.id+"' style='margin-bottom: 3px;'></div>"),h=e("<div class='filter' id='filter3"+t.element.id+"'></div>"),d=t._getcolumntypebydatafield(r);if(!a.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var c=t._getfiltersbytype(d);if(this._hasdatefilter=!1,this._filterpanelwidth=s,this.columns&&this.columns.records)for(var u=0;u<this.columns.records.length;u++)if("date"==this.columns.records[u].filtertype){this._hasdatefilter=!0;break}var p=e("<div class='filter'><input class='filtertext1"+t.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),f=p.find("input");f.addClass(this.toThemeProperty("jqx-input")),f.addClass(this.toThemeProperty("jqx-widget-content")),f.addClass(this.toThemeProperty("jqx-rc-all")),f.width(s-15);var m=e("<div class='filter'><input class='filtertext2"+t.element.id+"' style='height: 20px; margin-top: 3px;' type='text'></input></div>"),g=m.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(s-15),t.rtl&&(f.css("direction","rtl"),g.css("direction","rtl"));var v=e("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),w=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+t.gridlocalization.filterstring+"</span>");v.append(w);var x=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+t.gridlocalization.filterclearstring+"</span>");v.append(x),w.jqxButton({height:20,theme:t.theme}),x.jqxButton({height:20,theme:t.theme});var b=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","1px"),e.css("position","relative"),e}return""};if("default"===this.filtermode){n.append(o),n.append(a),a.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-15,height:20,dropDownHeight:150,dropDownWidth:s-15,selectionRenderer:b,source:c,theme:t.theme}),n.append(p);var _=new Array;_[0]=t.gridlocalization.filterandconditionstring,_[1]=t.gridlocalization.filterorconditionstring,l.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:20,source:_,selectionRenderer:b,theme:t.theme}),n.append(l),h.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-15,height:20,dropDownHeight:150,dropDownWidth:s-15,selectionRenderer:b,source:c,theme:t.theme}),n.append(h),n.append(m)}else{n.append(o),n.append(a),a.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:s-15,height:120,theme:t.theme});var y=!0;t.addHandler(a,"checkChange",function(e){if(y)if(e.args.label!=t.gridlocalization.filterselectallstring){y=!1,a.jqxListBox("checkIndex",0,!0,!1);var i=a.jqxListBox("getCheckedItems"),r=a.jqxListBox("getItems");1==i.length?a.jqxListBox("uncheckIndex",0,!0,!1):r.length!=i.length&&a.jqxListBox("indeterminateIndex",0,!0,!1),y=!0}else y=!1,e.args.checked?a.jqxListBox("checkAll",!1):a.jqxListBox("uncheckAll",!1),y=!0})}n.append(v),t.updatefilterpanel&&t.updatefilterpanel(a,h,l,p,m,w,x,null,null,c)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;e>i;i++){var r=t[i];if(r){var s=this.getboundindex(r);void 0!=s&&(this.selectedrowindexes[i]=s)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;e>i;i++){var r=t[i];r?delete this.selectedrowindexes[i]:this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),t!==!1&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;this._checkboxcolumn.checkboxelement.jqxCheckBox(i===t?{checked:!0}:0===i?{checked:!1}:{checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),t!==!1&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,t!==!1)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});return this.selectedrowindexes=new Array,this.selectedcells=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1===e?void(this._trigger=!0):(this._renderrows(this.virtualsizeinfo),this._trigger=!0,void("checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})))},getselectedrowindex:function(){if(-1==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(obj in this.selectedcells)e[e.length]=this.selectedcells[obj];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var r=t[i],s=0;s<this.columns.records.length;s++){var n=(r+"_"+this.columns.records[s].datafield,{rowindex:r,datafield:this.columns.records[s].datafield});e.push(n)}return e},deleteselection:function(){var e=this,t=e.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(t=this._getcellsforcopypaste()),null!=t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],s=e.getcolumn(r.datafield),n=e.getcellvalue(r.rowindex,r.datafield);if(s&&""!==n){var o=null;"checkbox"==s.columntype&&(s.threestatecheckbox||(o=!1)),e._raiseEvent(17,{rowindex:r.rowindex,datafield:r.datafield,value:n}),i==t.length-1?(e.setcellvalue(r.rowindex,r.datafield,o,!0),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,o,!0)):(e.setcellvalue(r.rowindex,r.datafield,o,!1),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,o,!0)),e._raiseEvent(18,{rowindex:r.rowindex,datafield:r.datafield,oldvalue:n,value:o})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this;
this.clipboardselection={},this._clipboardselection=[];var r=i.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(r=this._getcellsforcopypaste()),null!=r&&r.length>0){for(var s=999999999999999,n=-1,o=0;o<r.length;o++){var a=r[o],l=i.getcolumn(a.datafield);if(null!=l){var h=i.getcelltext(a.rowindex,a.datafield),d=this.getrowdisplayindex(a.rowindex);this.clipboardselection[d]||(this.clipboardselection[d]={}),this.clipboardselection[d][a.datafield]=h,s=Math.min(s,d),n=Math.max(n,d)}}for(var c=s;n>=c;c++){var u=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[c]&&e.each(this.clipboardselection[c],function(e,r){u>0&&(t+="	");var s=r;null==r&&(s=""),i._clipboardselection[i._clipboardselection.length-1][u]=s,u++,t+=s}),n>c&&(t+="\r\n")}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),r=e[0].datafield,s=this._getcolumnindex(r);if(this.selectedrowindexes=new Array,this.selectedcells=new Array,!this._clipboardselection)return;for(var n=0;n<this._clipboardselection.length;n++)for(var o=0;o<this._clipboardselection[n].length;o++){var a=this.getcolumnat(s+o);if(a){var l=this.getrowboundindex(i+n),h=this.getcell(l,a.datafield),d=null;if(d=this._clipboardselection[n][o],null!=d){if(a.cellsformat&&(-1!=a.cellsformat.indexOf("p")||-1!=a.cellsformat.indexOf("c")||-1!=a.cellsformat.indexOf("n")||-1!=a.cellsformat.indexOf("f"))){d.indexOf(this.gridlocalization.currencysymbol)>-1&&(d=d.replace(this.gridlocalization.currencysymbol,""));var c=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r};d=c(d,this.gridlocalization.thousandsseparator,""),d=d.replace(this.gridlocalization.decimalseparator,"."),d.indexOf(this.gridlocalization.percentsymbol)>-1&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(var u="",p=0;p<d.length;p++){var f=d.substring(p,p+1);"-"===f&&(u+="-"),"."===f&&(u+="."),null!=f.match(/^[0-9]+$/)&&(u+=f)}d=u,d=d.replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}this._raiseEvent(17,{rowindex:l,datafield:h.datafield,value:d}),this.setcellvalue(l,h.column,d,!1),this._raiseEvent(18,{rowindex:l,datafield:h.datafield,oldvalue:this.getcellvalue(h.rowindex,h.datafield),value:d}),this._applycellselection(l,h.datafield,!0,!1)}}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},_applyrowselection:function(e,t,i,r){if(null==e)return!1;var s=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:s}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==r&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var n=this.getrowdata(e);n&&void 0!==n.dataindex?e=n.dataindex:n&&void 0===n.dataindex&&void 0!=n.uid&&(e=this.getrowboundindexbyid(n.uid))}var o=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==o?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(o,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(o>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var a=this.selectedrowindexes[o];this.selectedrowindexes.splice(o,1),this._raiseEvent(3,{rowindex:a,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(void 0==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,r){if(null==e)return!1;if(null==t)return!1;this.selectedrowindex;if("singlecell"==this.selectionmode){var s=this.selectedcell;null!=s&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield}),this.selectedcells=new Array}if("multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode){var s=this.selectedcell;null!=s&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield})}var n=e+"_"+t;if(this.dataview.filters.length>0){var o=this.getrowdata(e);if(o&&void 0!==o.dataindex){e=o.dataindex;var n=e+"_"+t}else if(o&&void 0===o.dataindex&&o.uid){e=this.getrowboundindexbyid(o.uid);var n=e+"_"+t}}var a={rowindex:e,datafield:t};return i?(this.selectedcell=a,this.selectedcells[n]?("multiplecells"==this.selectionmode||"multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode)&&(delete this.selectedcells[n],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)):(this.selectedcells[n]=a,this.selectedcells.length++,this._raiseEvent(15,a))):(delete this.selectedcells[n],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)),(void 0==r||r)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1;return e.each(this.selectedcells,function(){return i++,this[t]?!1:void 0}),i},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,r=this.toTP("jqx-grid-cell-selected"),s=this.toTP("jqx-fill-state-pressed"),n=this.toTP("jqx-grid-cell-hover"),o=this.toTP("jqx-fill-state-hover"),a=0;t>a;a++)for(var l=i[a],h=l.cells.length,d=l.cells,c=0;h>c;c++){var u=d[c],p=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(r),p.removeClass(s)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(n),p.removeClass(o))}},_selectpath:function(e,t){var i=this,r=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,s=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(s>=r){var n=this._getcolumnindex(this._lastClickedCell.column),o=this._getcolumnindex(t),a=Math.min(n,o),l=Math.max(n,o);this.selectedcells=new Array;for(var h=this.dataview.loadedrecords,d=r;s>=d;d++)for(var c=a;l>=c;c++){var e=h[d];this._applycellselection(i.getboundindex(e),i._getcolumnat(c).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,r=this.dataview.loadedrecords;if(i>=t){this.selectedrowindexes=new Array;for(var s=t;i>=s;s++){var e=r[s],n=this.getrowboundindex(s);this._applyrowselection(n,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,r,s,n){var o=t.row;if(void 0!=o){var a=t.index;if(void 0!=this.hittestinfo[a]){var l=this.hittestinfo[a].visualrow;if(!this.hittestinfo[a].details){{l.cells[0].className}if(!o.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==n||1==s)){var h=this.getboundindex(o);if(this.dataview.filters.length>0){var d=this.getrowdata(h);if(d&&(h=d.dataindex,void 0==h))var h=this.getboundindex(o)}var c=-1!=i.indexOf(h),u=this.getboundindex(o)+"_"+r;if(-1!=this.selectionmode.indexOf("cell")){var p=void 0!=this.selectedcells[u];if(void 0!=this.selectedcells[u]&&p?this._selectcellwithstyle(e,!1,a,r,l):this._selectcellwithstyle(e,!0,a,r,l),n&&void 0==this._lastClickedCell){var f=this.getselectedcells();f&&f.length>0&&(this._lastClickedCell={row:f[0].rowindex,column:f[0].datafield})}n&&this._lastClickedCell&&(this._selectpath(o.visibleindex,r),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(c?s?this._applyrowselection(this.getboundindex(o),!1):this._selectrowwithstyle(e,l,!1,r):this._selectrowwithstyle(e,l,!0,r),n&&void 0==this._lastClickedCell){var m=this.getselectedrowindexes();m&&m.length>0&&(this._lastClickedCell={row:m[0],column:r})}if(n&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var g=this._lastClickedCell?Math.min(this._lastClickedCell.row,o.visibleindex):0,v=this._lastClickedCell?Math.max(this._lastClickedCell.row,o.visibleindex):0,w=this.dataview.loadedrecords,x=g;v>=x;x++){var o=w[x];o&&this._applyrowselection(this.getboundindex(o),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,l,!0,r),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,a,r,l);n||(this._lastClickedCell={row:o.visibleindex,column:r})}}}}},_selectcellwithstyle:function(t,i,r,s,n){var o=e(n.cells[t._getcolumnindex(s)]);o.removeClass(this.toTP("jqx-grid-cell-hover")),o.removeClass(this.toTP("jqx-fill-state-hover")),i?(o.addClass(this.toTP("jqx-grid-cell-selected")),o.addClass(this.toTP("jqx-fill-state-pressed"))):(o.removeClass(this.toTP("jqx-grid-cell-selected")),o.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,r){var s=i.cells.length,n=0;t.rowdetails&&t.showrowdetailscolumn?this.rtl?(s-=1,s-=this.groups.length):n=1+this.groups.length:this.groupable&&(this.rtl?s-=this.groups.length:n=this.groups.length);for(var o=n;s>o;o++){var a=i.cells[o];r?(e(a).removeClass(this.toTP("jqx-grid-cell-hover")),e(a).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(a).addClass(this.toTP("jqx-grid-cell-selected")),e(a).addClass(this.toTP("jqx-fill-state-pressed")))):(e(a).removeClass(this.toTP("jqx-grid-cell-hover")),e(a).removeClass(this.toTP("jqx-grid-cell-selected")),e(a).removeClass(this.toTP("jqx-fill-state-hover")),e(a).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(t,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins){var r=i.multipleselectionbegins(t);if(r===!1)return!0}var s=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,o=this.showtoolbar?this.toolbarheight:0;n+=o;var a=this.host.coord();if(this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();a.left-=l.left,a.top-=l.top}"0px"===this.host.css("border-top-width")&&(n-=2);var h=t.pageX,d=t.pageY-n;if(Math.abs(this.mousecaptureposition.left-h)>3||Math.abs(this.mousecaptureposition.top-d)>3){var c=parseInt(this.columnsheader.coord().top);this.hasTransform&&(c=e.jqx.utilities.getOffset(this.columnsheader).top),h<a.left&&(h=a.left),h>a.left+this.host.width()&&(h=a.left+this.host.width());var u=a.top+s;u>d&&(d=u+5);var p=parseInt(Math.min(i.mousecaptureposition.left,h)),f=-5+parseInt(Math.min(i.mousecaptureposition.top,d)),m=parseInt(Math.abs(i.mousecaptureposition.left-h)),g=parseInt(Math.abs(i.mousecaptureposition.top-d));if(p-=a.left,f-=a.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var h=p,v=h+m,w=i.hScrollInstance,x=w.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(x=w.max-w.value),"hidden"!=this.vScrollBar[0].style.visibility);var b=i.table[0].rows[0],_=0,y=i.mousecaptureposition.clickedcell,j=y,C=!1,q=0,T=b.cells.length;i.mousecaptureposition.left<=t.pageX&&(q=y);for(var S=q;T>S;S++){var I=parseInt(e(this.columnsrow[0].cells[S]).css("left")),k=I-x;if(i.columns.records[S].pinned)k=I;else{var B=this._getcolumnat(S);if(!(null!=B&&B.hidden||i.groupable&&i.groups.length>0&&S<i.groups.length)){var H=k+e(this.columnsrow[0].cells[S]).width();if(i.mousecaptureposition.left>t.pageX){if(H>=h&&h>=k){j=S,C=!0;break}}else if(H>=v&&v>=k){j=S,C=!0;break}}}}C||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e){return i.groupable&&i.groups.length>0&&e<i.groups.length?!0:this.pinned||this.hidden?void 0:(j=e,!1)}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(j=b.cells.length-1));var z=y;y=Math.min(y,j),j=Math.max(z,j),f+=5,f+=n;for(var L=(i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow),0),P=-1,D=-1,A=0,S=0;S<i.table[0].rows.length;S++){var E=e(i.table[0].rows[S]);0==S&&(A=E.coord().top);var M=E.height(),O=A-a.top;if(-1==P&&O+M>=f){for(var N=!1,W=0;W<i.groups.length;W++){var R=E[0].cells[W].className;if(-1!=R.indexOf("jqx-grid-group-collapse")||-1!=R.indexOf("jqx-grid-group-expand")){N=!0;break}}if(N)continue;P=S}if(A+=M,i.groupable&&i.groups.length>0){for(var N=!1,W=0;W<i.groups.length;W++){var R=E[0].cells[W].className;if(-1!=R.indexOf("jqx-grid-group-collapse")||-1!=R.indexOf("jqx-grid-group-expand")){N=!0;break}}if(N)continue;for(var _=0,F=i.groups.length;F<E[0].cells.length;F++){var U=E[0].cells[F];""==e(U).html()&&_++}if(_==E[0].cells.length-i.groups.length)continue}if(-1!=P&&(L+=M),O+M>f+g){D=S;break}}if(-1!=P){f=e(i.table[0].rows[P]).coord().top-a.top-n-2;var $=0;this.filterable&&this.showfilterrow&&($=this.filterrowheight),parseInt(i.table[0].style.top)<0&&f<this.rowsheight+$&&(f-=parseInt(i.table[0].style.top),L+=parseInt(i.table[0].style.top)),g=L;var V=e(this.columnsrow[0].cells[y]),G=e(this.columnsrow[0].cells[j]);if(p=parseInt(V.css("left")),m=parseInt(G.css("left"))-parseInt(p)+G.width()-2,p-=x,i.editcell&&i.editable&&i.endcelledit&&(y!=j||P!=D)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(m),this.selectionarea.height(g),this.selectionarea.css("left",p),this.selectionarea.css("top",f)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i.mousecaptured=!1,!0;if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(s-=2);var n=this.showtoolbar?this.toolbarheight:0;s+=n;var o=this.selectionarea.coord(),a=this.host.coord();this.hasTransform&&(a=e.jqx.utilities.getOffset(this.host),o=e.jqx.utilities.getOffset(this.selectionarea));var l=o.left-a.left,h=o.top-r-a.top-s,d=h,c=l+this.selectionarea.width(),u=l,p=new Array,f=new Array;if("multiplerowsextended"==i.selectionmode){for(;h<d+this.selectionarea.height();){var m=this._hittestrow(l,h),g=m.row,v=m.index;-1!=v&&(f[v]||(f[v]=!0,p[p.length]=m)),h+=20}var d=0;e.each(p,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==d?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),d++)})}else{"multiplecellsadvanced"==i.selectionmode&&(h+=2);var w=i.hScrollInstance,x=w.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(x=w.max-w.value),"hidden"!=this.vScrollBar[0].style.visibility&&(x-=this.scrollbarsize+4));var b=i.table[0].rows[0],_=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&_>0&&(i.selectedcells=new Array);for(var y=_;d+y>h;){var m=i._hittestrow(l,h);if(m){var g=m.row,v=m.index;if(-1!=v&&!f[v]){f[v]=!0;for(var j=0;j<b.cells.length;j++){var C=parseInt(e(i.columnsrow[0].cells[j]).css("left"))-x,q=C+e(i.columnsrow[0].cells[j]).width();(u>=C&&q>=u||c>=C&&q>=c||C>=u&&c>=C)&&i._applycellselection(i.getboundindex(g),i._getcolumnat(j).datafield,!0,!1)}}h+=5}else h+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),r=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),r=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;e>t;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length,t=e-1;t>=0;t--){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length>0)return!0;if(i.disabled)return!1;var r=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0;if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(r>=33&&40>=r))return!0;if(t.altKey)return i._cancelkeydown=!1,!0;if(void 0!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0;if("selectedrow"===i.editmode)return!0;if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;var s=!1;if(t.altKey)return!0;if((t.ctrlKey||t.metaKey)&&this.clipboard){var n=String.fromCharCode(r).toLowerCase();if("c"==n||"x"==n){var o=this.copyselection();if(window.clipboardData)window.clipboardData.setData("Text",o);else{var a=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');a.val(o),e("body").append(a),a.select(),setTimeout(function(){document.designMode="off",a.select(),a.remove(),i.focus()},100)}}else if("v"==n){var l=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(l),l.select();var h=this;setTimeout(function(){h._clipboardselection=new Array;for(var e=l.val(),t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("	").length>0){var r=t[i].split("	");if(1==r.length&&i==t.length-1&&""==r[0])continue;r.length>0&&h._clipboardselection.push(r)}h.pasteselection(),l.remove(),h.focus()},100)}"x"==n&&(this.deleteselection(),this.host.focus())}var d=Math.round(i._gettableheight()),c=Math.round(d/i.rowsheight),u=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var p=i.getselectedcell();if(null!=p){var f=this.getrowvisibleindex(p.rowindex),m=f,g=p.datafield,v=i._getcolumnindex(g),w=(i.columns.records.length,function(e,n,o){var a=function(e,t){var r=i.dataview.loadedrecords[e];if(void 0!=r&&null!=t){(o||void 0==o)&&i.clearselection();var n=i.getboundindex(r);return i.selectcell(n,t),i._oldselectedcell=i.selectedcell,s=!0,i.ensurecellvisible(e,t),!0}return!1};if(a(e,n)||(i.ensurecellvisible(e,n),a(e,n),i.virtualmode&&i.host.focus()),t.shiftKey&&9!=r){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,n);var l=i.dataview.loadedrecords[e],h=i.getboundindex(l);return void(i.selectedcell={rowindex:h,datafield:n})}}else t.shiftKey||(i._lastClickedCell={row:e,column:n})}),x=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,b=function(){w(0,g,!x)},_=function(){var e=u.rowscount-1;w(e,g,!x)},y=9==r&&!t.shiftKey,j=9==r&&t.shiftKey;(y||j)&&(x=!1);var C=t.ctrlKey||t.metaKey;if(C&&37==r){var q=i._getfirstvisiblecolumn(v);null!=q&&w(m,q.datafield)}else if(C&&39==r){var T=i._getlastvisiblecolumn(v);null!=T&&w(m,T.datafield)}else if(39==r||y){var S=i._getnextvisiblecolumn(v);null!=S?w(m,S.datafield,!x):y||(s=!0)}else if(37==r||j){var q=i._getprevvisiblecolumn(v);null!=q?w(m,q.datafield,!x):j||(s=!0)}else if(36==r)b();else if(35==r)_();else if(33==r)if(m-c>=0){var I=m-c;w(I,g,!x)}else b();else if(34==r)if(u.rowscount>m+c){var I=m+c;w(I,g,!x)}else _();else 38==r?C?b():m>0?w(m-1,g,!x):s=!0:40==r&&(C?_():u.rowscount>m+1?w(m+1,g,!x):s=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var m=i.getselectedrowindex();if(null==m||-1==m)return!0;m=this.getrowvisibleindex(m);var k=function(e,n){var o=function(e){var t=i.dataview.loadedrecords[e];if(void 0!=t){var r=i.getboundindex(t),o=i.selectedrowindex;(n||void 0==n)&&i.clearselection(),i.selectedrowindex=o,i.selectrow(r,!1);var a=i.ensurerowvisible(e);return(!a||i.autoheight||i.groupable)&&i._rendervisualrows(),s=!0,!0}return!1};if(o(e)||(i.ensurerowvisible(e),o(e,n),i.virtualmode&&setTimeout(function(){o(e,n)},25),i.virtualmode&&i.host.focus()),t.shiftKey&&9!=r){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},x=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,b=function(){k(0,!x)},_=function(){var e=u.rowscount-1;k(e,!x)},C=t.ctrlKey||t.metaKey;if(36==r||C&&38==r)b();else if(35==r||C&&40==r)_();else if(33==r)if(m-c>=0){var I=m-c;k(I,!x)}else b();else if(34==r)if(u.rowscount>m+c){var I=m+c;k(I,!x)}else _();else 38==r?m>0?k(m-1,!x):s=!0:40==r&&(u.rowscount>m+1?k(m+1,!x):s=!0)}return s?(i.autosavestate&&i.savestate&&i.savestate(),!1):!0},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var r,s,n,o,a;if(i.enablehover||"multiplerows"==i.selectionmode){r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;var l=this.showtoolbar?this.toolbarheight:0;if(s+=l,n=this.host.coord(),this.hasTransform){n=e.jqx.utilities.getOffset(this.host);var h=this._getBodyOffset();n.left-=h.left,n.top-=h.top}o=t.pageX-n.left,a=t.pageY-r-n.top-s}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0;if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var d=this._hittestrow(o,a);if(d){var c=d.row,u=d.index;if((-1==this.hoveredrow||-1==u||this.hoveredrow!=u||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=u&&void 0!=c)){var p=this.hittestinfo[u].visualrow;if(null!=p&&!(this.hittestinfo[u].details||t.clientX>e(p).width()+e(p).coord().left)){var f=0,m=p.cells.length;if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(m-=1,m-=this.groups.length):f=1+this.groups.length:this.groupable&&(this.rtl?m-=this.groups.length:f=this.groups.length),0!=p.cells.length){var g=p.cells[f].className;if(!(c.group||this.selectionmode.indexOf("row")>=0&&-1!=g.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=u,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(var v=f;m>v;v++){var w=p.cells[v];e(w).addClass(this.toTP("jqx-grid-cell-hover")),e(w).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(w,t.pageX,t.pageY)}else{var x=-1,b=this.hScrollInstance,_=b.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(_=b.max-b.value);for(var v=f;m>v;v++){var y=parseInt(e(this.columnsrow[0].cells[v]).css("left"))-_,j=y+e(this.columnsrow[0].cells[v]).width();if(j>=o&&o>=y){x=v;break}}if(-1!=x){var w=p.cells[x];if(this.cellhover&&this.cellhover(w,t.pageX,t.pageY),-1==w.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var C=this._getcolumnat(x);if(C&&this.editcell.row==u&&this.editcell.column==C.datafield)return}e(w).addClass(this.toTP("jqx-grid-cell-hover")),e(w).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(){var t=this;15!=e.jqx.utilities.scrollBarSize&&(t.scrollBarSize=e.jqx.utilities.scrollBarSize),null==t.width&&(t.width=200),null==t.height&&(t.height=200),t.render();var i=t;e.jqx.utilities.resize(t.host,function(){i._updateSize()},!1,t._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title};r.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":e.jqx.utilities.createId()+"_jqxListBox";var s=e("<div></div>",r);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(s);var n=t.host.data();if(t.host=s,t.host.data(n),t.element=s[0],t.element.id=t.field.id,t.field.id=r.id,t.field.tabIndex){var o=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=o}}t.element.innerHTML="";var t=t,a=t.element.className;a+=" "+t.toThemeProperty("jqx-listbox"),a+=" "+t.toThemeProperty("jqx-reset"),a+=" "+t.toThemeProperty("jqx-rc-all"),a+=" "+t.toThemeProperty("jqx-widget"),a+=" "+t.toThemeProperty("jqx-widget-content"),t.element.className=a;var l=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.width(t.width),l=!0),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.height(t.height),0==t.host.height()&&t.host.height(200),l=!0),null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host.width(t.width):void 0==t.width||isNaN(t.width)||(t.element.style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host.height(t.height):void 0==t.height||isNaN(t.height)||(t.element.style.height=parseInt(t.height)+"px"),t.multiple||t.multipleextended||t.checkboxes?e.jqx.aria(t,"aria-multiselectable",!0):e.jqx.aria(t,"aria-multiselectable",!1);var h=e("<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.host.attr("role","listbox"),t.host.append(h),t.filter=t.host.find("#filter"+t.element.id),t.filterInput=t.filter.find("input"),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(e){13==e.keyCode?t._search(e):t.filterDelay>0&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(e)},t.filterDelay)),e.stopPropagation()});var d=t.host.find("#verticalScrollBar"+t.element.id);if(!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!d.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var c=parseInt(t.host.height())/2;0==c&&(c=10),t.vScrollBar=d.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:c});var u=t.host.find("#horizontalScrollBar"+t.element.id);if(t.hScrollBar=u.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme}),t.content=t.host.find("#listBoxContent"),t.content[0].id="listBoxContent"+t.element.id,t.bottomRight=t.host.find("#bottomRight").addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal")),t.bottomRight[0].id="bottomRight"+t.element.id,t.vScrollInstance=e.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=e.data(t.hScrollBar[0],"jqxScrollBar").instance,t.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var p=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(p),t.overlayContent=t.host.find(".overlay"),t.filterable&&t.overlayContent.css("top","30px")}t._updateTouchScrolling(),t.host.addClass("jqx-disableselect"),t.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var r=t.vScrollInstance.value;t.vScrollInstance.setPosition(r+i),t._lastScroll=new Date}if("hidden"!=t.hScrollBar.css("visibility")){var r=t.hScrollInstance.value;t.hScrollInstance.setPosition(r+e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()
}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e){e._cachedItemHtml=new Array,e.clearSelection(),e.refresh()},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!t.batchUpdate){if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",s),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),("source"==i||"checkboxes"==i)&&(null==s&&r&&r.unbindBindingUpdate&&(r.unbindBindingUpdate(t.element.id),r.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),("scrollBarSize"==i||"equalItemsWidth"==i)&&s!=r&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:s}),t.hScrollBar.jqxScrollBar({disabled:s})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var n=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(n),t.overlayContent=t.host.find(".overlay")}t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||("width"==i||"height"==i)&&t._updateSize(),"theme"==i&&r!=s&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(s,!0)),"displayMember"==i||"valueMember"==i){if(r!=s){var o=t.selectedIndex;t.refresh(),t.selectedIndex=o,t.selectedIndexes[o]=o}t._renderItems()}"autoHeight"==i&&(r!=s?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i="#"+t,r=e(i);if(r.length>0){var s=e.jqx.parseSourceTag(r[0]),n=s.items,o=s.index;this.source=n,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=o,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var r=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void r(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._raiseEvent("6"),this._render(!1,1==t),r(t)}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e){return this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==e||e)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready()))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight,0>t&&(t=0));var i=parseInt(this.vScrollInstance.value),r=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[r]&&this.renderedVisibleItems[r].isGroup)return null;if(this.renderedVisibleItems.length>0){var s=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(s.height+s.top<t+i)return null}return r=this._searchFirstVisibleIndex(t+i),this.visibleItems[r]},_searchFirstVisibleIndex:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;(void 0==t||null==t)&&(t=this.visibleItems);for(var r=t.length;r>=i;){mid=parseInt((i+r)/2);var s=t[mid];if(void 0==s)break;if(s.initialTop>e&&s.initialTop+s.height>e)r=mid-1;else{if(!(s.initialTop<e&&s.initialTop+s.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,r=this.hScrollInstance,s=parseInt(i.value),n=parseInt(r.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(n=r.max-n);var o=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),a=o+parseInt(r.max),l=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(l=0),"visible"!=this.hScrollBar[0].style.visibility&&(a=o);var h=(this._getVirtualItemsCount(),new Array),d=0,c=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(c=this.host.outerHeight()),isNaN(c)&&(c=0);var u=0,p=0,f=0;if(0==i.value||0==this.visibleItems.length)for(var m=0;m<this.items.length;m++){var g=this.items[m];if(g.visible){g.top=-s,g.initialTop=-s,!g.isGroup&&g.visible&&(this.visibleItems[p++]=g,g.visibleIndex=p-1),this.renderedVisibleItems[f++]=g,g.left=-n;var v=g.top+g.height;v>=0&&g.top-g.height<=c&&(h[d++]={index:m,item:g}),s-=g.height}}var w=s>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,x=0;d=0;for(var b=this.vScrollInstance.value,_=0;100+c>x;){var g=this.renderedVisibleItems[w];if(void 0==g)break;if(g.visible){g.left=-n;var v=g.top+g.height-b;v>=0&&g.initialTop-b-g.height<=2*c&&(h[d++]={index:w,item:g})}if(w++,g.visible&&(x+=g.initialTop-b+g.height-x),_++,_>this.items.length-1)break}for(var y=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),j=this.toThemeProperty("jqx-listitem-state-group"),C=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),q=0,T=this,m=0;m<this.visualItems.length;m++){var S=this.visualItems[m],I=function(){var e=S[0].firstChild;if(T.checkboxes&&(e=S[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),T.checkboxes){var t=S.find(".chkbox");t.css({visibility:"hidden"})}};if(m<h.length){var g=h[m].item;if(g.initialTop-b>=c){I();continue}var k=e(S[0].firstChild);if(this.checkboxes&&(k=e(S[0].lastChild)),0==k.length)continue;if(null==k[0])continue;k[0].className="",k[0].style.display="block",k[0].style.visibility="inherit";var B="";if(B=!g.isGroup&&!this.selectedIndexes[g.index]>=0?y:j,(g.disabled||this.disabled)&&(B+=" "+C),this.roundedcorners&&(B+=" "+this.toThemeProperty("jqx-rc-all")),t&&(B+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),k[0].className=B,this.renderer)if(g.key||(g.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[g.key])k[0].innerHTML!=this._cachedItemHtml[g.key]&&(k[0].innerHTML=this._cachedItemHtml[g.key]);else{var H=this.renderer(g.index,g.label,g.value);k[0].innerHTML=H,this._cachedItemHtml[g.key]=k[0].innerHTML}else{if(-1!==this.itemHeight){var z=2+2*parseInt(k.css("padding-top"));k[0].style.lineHeight=g.height-z+"px",k.css("vertical-align","middle")}null!=g.html&&g.html.toString().length>0?k[0].innerHTML=g.html:null!=g.label||null!=g.value?null!=g.label?(k[0].innerHTML!==g.label&&(k[0].innerHTML=g.label),""==e.trim(g.label)&&(k[0].innerHTML=this.emptyString,""==this.emptyString&&(k[0].style.height=g.height-8+"px")),this.incrementalSearch||g.disabled||void 0!=this.searchString&&""!=this.searchString&&(k[0].innerHTML=this._highlight(g.label.toString(),this.searchString))):null===g.label?(k[0].innerHTML=this.emptyString,""==this.emptyString&&(k[0].style.height=g.height-8+"px")):k[0].innerHTML!==g.value?k[0].innerHTML=g.value:""==g.label&&(k[0].innerHTML=" "):(""==g.label||null==g.label)&&(k[0].innerHTML="",k[0].style.height=g.height-8+"px")}if(S[0].style.left=g.left+"px",S[0].style.top=g.initialTop-b+"px",g.element=k[0],g.title&&(k[0].title=g.title),this.equalItemsWidth&&!g.isGroup){if(0==u){var L=parseInt(a),P=parseInt(k.outerWidth())-parseInt(k.width());L-=P;var D=1;D=null!=D?parseInt(D):0,L-=2*D,u=L,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(u-=18)}o>this.virtualSize.width?(k[0].style.width=u+"px",g.width=u):(k[0].style.width=-4+this.virtualSize.width+"px",g.width=this.virtualSize.width-4)}else k.width()<this.host.width()&&k.width(this.host.width()-2);if(this.rtl&&(k[0].style.textAlign="right"),this.autoItemsHeight&&(k[0].style.whiteSpace="normal",k.width(u),g.width=u),q=0,this.checkboxes&&!g.isGroup){0==q&&(q=(g.height-16)/2,q++);var A=e(S.children()[0]);A[0].item=g,this.rtl?"0px"!=k[0].style.left&&(k[0].style.left="0px"):"18px"!=k[0].style.left&&(k[0].style.left="18px"),this.rtl&&A.css("left",8+g.width+"px"),A[0].style.top=q+"px",A[0].style.display="block",A[0].style.visibility="inherit";var E=g.checked,M=g.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";A[0].firstChild&&A[0].firstChild.firstChild&&A[0].firstChild.firstChild.firstChild&&A[0].firstChild.firstChild&&(E?A[0].firstChild.firstChild.firstChild.className=M:E===!1?A[0].firstChild.firstChild.firstChild.className="":null===E&&(A[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(E?S[0].setAttribute("aria-selected",!0):S[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var A=e(S.children()[0]);A.css({display:"none",visibility:"inherit"})}!g.disabled&&(!this.filterable&&this.selectedIndexes[g.visibleIndex]>=0||g.selected&&this.filterable)?(k.addClass(this.toThemeProperty("jqx-listitem-state-selected")),k.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(S[0].setAttribute("aria-selected",!0),this._activeElement=S[0])):this.checkboxes||e.jqx.ariaEnabled&&S[0].removeAttribute("aria-selected")}else I()}}},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(){var t=0,i=2,r=0,s=e("<span></span>");this.equalItemsWidth&&s.css("float","left");var n=0,o=this.host.outerHeight();e(document.body).append(s);var a=this.items.length,l=this.host.width();if(this.autoItemsHeight&&(l-=10,"hidden"!=this.vScrollBar.css("visibility")&&(l-=20)),this.autoItemsHeight||this.renderer||this.groups.length>1||a>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var r=0;a>r;r++){var h=this.items[r];if((!h.isGroup||""!=h.label||""!=h.html)&&h.visible){var d="";if(d+=this.toThemeProperty(h.isGroup?"jqx-listitem-state-group jqx-rc-all":"jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch")),s[0].className=d,this.autoItemsHeight){s[0].style.whiteSpace="normal";var c=this.checkboxes?-20:0;s[0].style.width=c+l+"px"}if(this.renderer){var u=this.renderer(h.index,h.label,h.value);s[0].innerHTML=u}else null!=h.html&&h.html.toString().length>0?s[0].innerHTML=h.html:(null!=h.label||null!=h.value)&&(null!=h.label?(s[0].innerHTML=h.label,""==h.label&&(s[0].innerHTML="Empty")):s[0].innerHTML=h.value);var p=s.outerHeight(),f=s.outerWidth();this.itemHeight>-1&&(p=this.itemHeight),h.height=p,h.width=f,i+=p,t=Math.max(t,f),o>=i&&n++}}else{for(var i=0,m=0,g="",v=0,w=0,x=-1,r=0;a>r;r++){var h=this.items[r];if((!h.isGroup||""!=h.label||""!=h.html)&&h.visible){x++;var d="";if(0==x){if(d+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),d+=" "+this.toThemeProperty("jqx-widget"),d+=" "+this.toThemeProperty("jqx-listbox"),d+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch"),d+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),s[0].className=d,this.autoItemsHeight){s[0].style.whiteSpace="normal";var c=this.checkboxes?-20:0;s[0].style.width=c+l+"px"}null==h.html||""==h.label||null==h.label?s[0].innerHTML="Item":null!=h.html&&h.html.toString().length>0?s[0].innerHTML=h.html:(null!=h.label||null!=h.value)&&(s[0].innerHTML=null!=h.label?null!=h.label.toString().match(new RegExp("\\w"))||null!=h.label.toString().match(new RegExp("\\d"))?h.label:"Item":h.value);var p=1+s.outerHeight();this.itemHeight>-1&&(p=this.itemHeight),m=p}void 0!=v&&(w=v),null!=h.html&&h.html.toString().length>0?(v=Math.max(v,h.html.toString().length),w!=v&&(g=h.html)):null!=h.label?(v=Math.max(v,h.label.length),w!=v&&(g=h.label)):null!=h.value&&(v=Math.max(v,h.value.length),w!=v&&(g=h.value)),h.height=m,i+=m,o>=i&&n++}}s[0].innerHTML=g,t=s.outerWidth()}return i+=2,10>n&&(n=10),this.filterable&&(i+=this.filterHeight),s.remove(),{width:t,height:i,itemsPerPage:n}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){var i=this;if(1!=i.updatingListBox){if(void 0==i.items||0==i.items.length)return i.virtualSize={width:0,height:0,itemsPerPage:0},i._updatescrollbars(),i.renderedVisibleItems=new Array,void(i.itemswrapper&&i.itemswrapper.children().remove());if(0==t){var r=i._calculateVirtualSize(),s=2*r.itemsPerPage;i.autoHeight&&(s=i.items.length),i.virtualItemsCount=Math.min(s,i.items.length);{r.width}return i.virtualSize=r,void i._updatescrollbars()}var n=this,o=0;i.visibleItems=new Array,i.renderedVisibleItems=new Array,i._removeHandlers(),i.allowDrag&&i._enableDragDrop&&(i.itemswrapper=null),null==i.itemswrapper&&(i.content[0].innerHTML="",i.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),i.itemswrapper.height(2*i.host.height()),i.content.append(i.itemswrapper));var r=i._calculateVirtualSize(),s=2*r.itemsPerPage;i.autoHeight&&(s=i.items.length),i.virtualItemsCount=Math.min(s,i.items.length);{var i=this;r.width}i.virtualSize=r,i.itemswrapper.width(Math.max(i.host.width(),17+r.width));for(var a=0,l="",h=e.jqx.browser.msie&&e.jqx.browser.version<9,d=h?' unselectable="on"':"",c=a;c<i.virtualItemsCount;c++){var u=i.items[c],p="listitem"+c+i.element.id;if(l+="<div"+d+" role='option' id='"+p+"' class='jqx-listitem-element'>",i.checkboxes){l+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var f='<div class="'+i.toThemeProperty("jqx-checkbox-default")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',m=u.checked?" "+i.toThemeProperty("jqx-checkbox-check-checked"):"";f+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+m+'"></span>',f+="</div></div>",l+=f,l+="</div>"}l+="<span"+d+" style='-ms-touch-action: none;'></span></div>"}n.WinJS?i.itemswrapper.html(l):i.itemswrapper[0].innerHTML=l;for(var g=i.itemswrapper.children(),c=a;c<i.virtualItemsCount;c++){var u=i.items[c],v=e(g[c]);if(i.allowDrag&&i._enableDragDrop&&v.addClass("draggable"),i.checkboxes){{e(v.children()[0])}v.css("float","left");var w=e(v[0].firstChild);w.css("float","left")}v[0].style.height=u.height+"px",v[0].style.top=o+"px",o+=u.height,i.visualItems[c]=v}if(i._addHandlers(),i._updatescrollbars(),i.autoItemsHeight){var r=i._calculateVirtualSize(),s=2*r.itemsPerPage;i.autoHeight&&(s=i.items.length),i.virtualItemsCount=Math.min(s,i.items.length);{var i=this;r.width}i.virtualSize=r,i._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.host.attr("hideFocus",!0),i.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,r=t.virtualSize.width,s=t.vScrollInstance,n=t.hScrollInstance;t._arrange(!1);var o=!1,a=t.host.outerWidth(),l=t.host.outerHeight(),h=0;if(r>a&&(h=t.hScrollBar.outerHeight()+2),i+h>l){var d=s.max;s.max=2+parseInt(i)+h-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",o=!0),d!=s.max&&s._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",o=!0,s.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(r>=a-c-u){var p=n.max;n.max="inherit"==t.vScrollBar[0].style.visibility?u+c+parseInt(r)-t.host.width()+4:u+parseInt(r)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",o=!0),p!=n.max&&n._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(s.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",o=!0);n.setPosition(0),o&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+r))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px");var f=t.isTouchDevice();f&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,r=0;r<this.selectedIndexes.length;r++){var s=this.selectedIndexes[r];-1!=s&&void 0!=s&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var n=this.getVisibleItem(e);n&&this.selectedValues[n.value]&&(this.selectedValues[n.value]=null)}(void 0==t||1==t)&&(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),r=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var r=new Array,s=0;s<i.length;s++){var n=i[s];if(n){var o=n.initialTop,a=n.height,l=!0;(0>o+a-t||o-t>=e.host.height())&&(l=!1),l&&r.push(n)}}return r}();return{items:t,visibleItems:i,viewItems:r}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);{var i=null;e.each(this.items,function(){return this.index==t?(i=this,!1):void 0})}return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,r){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var s=this.getItem(t);if(this.groups.length>0||this.filterable)var s=this.getVisibleItem(t);if(null!=s){{e(s.checkBoxElement)}s.checked=!0,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==r||1==r)&&this._raiseEvent(3,{label:s.label,value:s.value,checked:!0,item:s})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!0&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!1&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,r){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var s=this.getItem(t);if(this.groups.length>0||this.filterable)var s=this.getVisibleItem(t);if(null!=s){{e(s.checkBoxElement)}s.checked=!1,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==r||1==r)&&this._raiseEvent(3,{label:s.label,value:s.value,checked:!1,item:s})}},indeterminateIndex:function(t,i,r){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var s=this.getItem(t);if(this.groups.length>0||this.filterable)var s=this.getVisibleItem(t);if(null!=s){{e(s.checkBoxElement)}s.checked=null,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==r||1==r)&&this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var r in t)-1!=t[r]&&(i[i.length]=e[r]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("")];for(var i=this.visibleItems,r=0;r<i.length;r++)if(i[r].value==t)return i[r]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.index,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.index,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.index,!0)}return!1},val:function(e){if(this.input){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};if(t(e)||0==arguments.length)return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return!1},unselectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,r,s,n){if(!(isNaN(e)||(this.filterable&&(this.selectedIndex=-1),-1>e||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled))){if(!this.multiple&&!this.multipleextended&&this.selectedIndex==e&&!r)return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)));if(this.checkboxes)return void this._updateCheckedItems();this.focused=!0;var o=!1;this.selectedIndex!=e&&(o=!0);var a=this.selectedIndex;this.selectedIndex!=e||this.multiple||(a=-1),void 0==s&&(s="none");var l=this.getItem(e),h=this.getItem(a);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(a)),void 0!=r&&r)this._raiseEvent("1",{index:a,type:s,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:s,item:l,originalEvent:n});else{var d=this,c=function(e,t,i,r,s,n){d._raiseEvent("1",{index:t,type:i,item:r,originalEvent:n}),d.selectedIndex=e,d.selectedIndexes=[],t=e,d.selectedIndexes[e]=e,d.selectedValues=new Array,s&&(d.selectedValues[s.value]=s.value),d._raiseEvent("0",{index:e,type:i,item:s,originalEvent:n})},u=function(e,t,i,r,s,n){void 0==d.selectedIndexes[e]||-1==d.selectedIndexes[e]?(d.selectedIndexes[e]=e,d.selectedIndex=e,s&&(d.selectedValues[s.value]=s.value,d._raiseEvent("0",{index:e,type:i,item:s,originalEvent:n}))):(t=d.selectedIndexes[e],r=d.getVisibleItem(t),r&&(d.selectedValues[r.value]=null),d.selectedIndexes[e]=-1,d.selectedIndex=-1,d._raiseEvent("1",{index:t,type:i,item:r,originalEvent:n}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==s&&(this.clearSelection(!1),d._clickedIndex=e),u(e,a,s,h,l,n);else if(this._shiftKey){void 0==d._clickedIndex&&(d._clickedIndex=a);var p=Math.min(d._clickedIndex,e),f=Math.max(d._clickedIndex,e);this.clearSelection(!1);for(var m=p;f>=m;m++)d.selectedIndexes[m]=m,d.selectedValues[d.getVisibleItem(m).value]=d.getVisibleItem(m).value,d._raiseEvent("0",{index:m,type:s,item:this.getVisibleItem(m),originalEvent:n});d.selectedIndex="keyboard"!=s?d._clickedIndex:e}}else"keyboard"!=s&&"mouse"!=s?(u(e,a,s,h,l,n),d._clickedIndex=e):(this.clearSelection(!1),d._clickedIndex=e,c(e,a,s,h,l,n));else this.multiple?u(e,a,s,h,l,n):(l&&(this.selectedValue=l.value),c(e,a,s,h,l,n))}return(void 0==i||1==i)&&this._renderItems(),void 0!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:h,type:s,originalEvent:n}),this._updateInputSelection(),o}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),r="";if(i){for(var s=0;s<i.length;s++)void 0!=i[s]&&(r+=s==i.length-1?i[s].value:i[s].value+",",t.push(i[s].value));this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(0>e||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var r=this.visibleItems[e];if(void 0==r)return!0;var s=r.initialTop,n=r.height;return i>s-t||s-t+i+n>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){return this.initialTop+this.height>=i.content.height()?!1:void t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();return 9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode?37==e.keyCode||39==e.keyCode?!1:void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i)):void 0},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var r=this,s=-1,n=new Array,o=0;e.each(i,function(){var i="";if(!this.isGroup){i=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",i=i.toString();var a=!1;switch(r.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(i,t);break;case"contains":a=e.jqx.string.contains(i,t);break;case"equals":a=e.jqx.string.equals(i,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(i,t);break;case"startswith":a=e.jqx.string.startsWith(i,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(i,t);break;case"endswith":a=e.jqx.string.endsWith(i,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(i,t)}a||(this.visible=!1),a&&(n[o++]=this,this.visible=!0,s=this.visibleIndex),""==t&&(this.visible=!0,a=!1)}}),r.renderedVisibleItems=new Array,r.visibleItems=new Array,r.vScrollInstance.setPosition(0,!0),r._addItems(!1),r._renderItems();for(var a=0;a<r.items.length;a++)r.selectedIndexes[a]=-1;r.selectedIndex=-1;for(var l in r.selectedValues){var t=r.selectedValues[l],h=r.getItemByValue(t);h&&h.visible&&(r.selectedIndex=h.visibleIndex,r.selectedIndexes[h.visibleIndex]=h.visibleIndex)}r._syncSelection()},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;void 0==i&&(i=0);var r=this.getItems(),s=this,n=-1;return e.each(r,function(){var r="";if(!this.isGroup){r=this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var o=!1;switch(s.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(r,t);break;case"contains":o=e.jqx.string.contains(r,t);break;case"equals":o=e.jqx.string.equals(r,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(r,t);break;case"startswith":o=e.jqx.string.startsWith(r,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(r,t);break;case"endswith":o=e.jqx.string.endsWith(r,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(r,t)}if(o&&this.visibleIndex>=i)return n=this.visibleIndex,!1}}),n},findItems:function(t){var i=this.getItems(),r=this,s=0,n=new Array;return e.each(i,function(){var i="";if(!this.isGroup){i=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var o=!1;switch(r.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(i,t);
break;case"contains":o=e.jqx.string.contains(i,t);break;case"equals":o=e.jqx.string.equals(i,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(i,t);break;case"startswith":o=e.jqx.string.startsWith(i,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(i,t);break;case"endswith":o=e.jqx.string.endsWith(i,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(i,t)}o&&(n[s++]=this)}}),n},_syncSelection:function(){var e=this;if(e.filterable){for(var t=0;t<e.items.length;t++){var i=e.items[t];i.selected=!1}for(var t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,r=i.selectedIndex,s=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var n=function(){i.multiple&&i.clearSelection(!1)};if(e.altKey&&(t=-1),i.incrementalSearch){var o=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var a=String.fromCharCode(t),l=!isNaN(parseInt(a)),h=!1;if(t>=65&&97>=t||l||8==t||32==t||46==t){e.shiftKey||(a=a.toLocaleLowerCase());var d=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==a?d=1+i.selectedIndex:i._searchString+=a),32==t&&(i._searchString+=" ");var c=this._getMatches(i._searchString,d);if(o=c,o==i._lastMatchIndex||-1==o){var c=this._getMatches(i._searchString,0);o=c}if(i._lastMatchIndex=o,o>=0){var u=function(){n(),i.selectIndex(o,!1,!1,!1,"keyboard",e);var t=i.isIndexInView(o);t?i._renderItems():i.ensureVisible(o)};i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){u()},i.incrementalSearchKeyDownDelay)}h=!0}if(void 0!=i._searchTimer&&clearTimeout(i._searchTimer),(27==t||13==t)&&(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),o>=0)return;if(h)return!1}if(this.checkboxes)return!0;if(33==t){var p=i._itemsInPage();i.selectedIndex-p>=0?(n(),i.selectIndex(s-p,!1,!1,!1,"keyboard",e)):(n(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes){var f=this.getItem(r);null!=f&&(i._updateItemCheck(f,r),e.preventDefault()),i._searchString=""}if(36==t&&(n(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(n(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){var p=i._itemsInPage();i.selectedIndex+p<i.visibleItems.length?(n(),i.selectIndex(s+p,!1,!1,!1,"keyboard",e)):(n(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;var m=i._prevItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;n(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var m=i._nextItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;n(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}if(35==t||36==t||38==t||40==t||34==t||33==t){var g=i.isIndexInView(i.selectedIndex);return g?i._renderItems():i.ensureVisible(i.selectedIndex),!1}return!0}},_updateItemCheck:function(e,t){if(!this.disabled)switch(e.checked=1==e.checked?e.hasThreeStates&&this.hasThreeStates?null:!1:null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;return t!=i?!0:!1},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(t){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){{e.host.width()!=e._oldwidth}if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),e.vScrollInstance.setPosition(t<e.vScrollInstance.max?t:e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;var i=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(){t.focused=!1;var i=e.data(t.element,"hoveredItem");null!=i&&(e(i).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(i).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(){t.focused=!0});var r=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var s=t.isTouchDevice()&&this.touchMode!==!0,n=s?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(s&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var r=e.jqx.mobile.getTouches(i),n=r[0];if(void 0!=n){var o=t.host.offset(),a=parseInt(n.pageX),l=parseInt(n.pageY);1==t.touchMode&&void 0!=n._pageX&&(a=parseInt(n._pageX),l=parseInt(n._pageY)),a-=o.left,l-=o.top;var h=t._hitTest(a,l);if(null!=h&&!h.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(h,h.visibleIndex);if(-1==h.html.indexOf("href"))return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var o=!1;this.addHandler(this.content,n,function(i){if(!t.enableSelection)return!0;if(o=!0,s&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var a=i.target,l=e(a).offset(),h=t.host.offset();if(r){var d=e.jqx.mobile.getLeftPos(a),c=e.jqx.mobile.getTopPos(a);l.left=d,l.top=c,d=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),h.left=d,h.top=c}var u=parseInt(l.top)-parseInt(h.top),p=parseInt(l.left)-parseInt(h.left),f=t._hitTest(p,u);if(null!=f&&!f.isGroup){var m=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(t.selectedIndex=e.visibleIndex,p=20+i.pageX-l.left,t.rtl){{"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width()}p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||t._updateItemCheck(e,e.visibleIndex)},200):t._updateItemCheck(e,e.visibleIndex))}else p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||t._updateItemCheck(e,e.visibleIndex)},200):t._updateItemCheck(e,e.visibleIndex));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};f.disabled||(-1!=f.html.indexOf("href")?setTimeout(function(){m(f,i)},100):m(f,i))}if("mousedown"==n){var g=!1;return i.which?g=3==i.which:i.button&&(g=2==i.button),g?!0:!1}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),o=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(){return!1})}var i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(s){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version<9?0:1;if(null==s.target)return!0;if(t.disabled)return!0;t.focused=!0;var n=t.vScrollInstance.isScrolling();if(!n&&s.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=s.target){var o=s.target,a=e(o).offset(),l=t.host.offset();if(r){var h=e.jqx.mobile.getLeftPos(o),d=e.jqx.mobile.getTopPos(o);a.left=h,a.top=d,h=e.jqx.mobile.getLeftPos(t.element),d=e.jqx.mobile.getTopPos(t.element),l.left=h,l.top=d}var c=parseInt(a.top)-parseInt(l.top),u=parseInt(a.left)-parseInt(l.left),p=t._hitTest(u,c);if(null!=p&&!p.isGroup&&!p.disabled){var f=e.data(t.element,"hoveredItem");null!=f&&(e(f).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(f).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",p.element);var m=e(p.element);m.addClass(t.toThemeProperty("jqx-listitem-state-hover")),m.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){void 0==e&&(e=!0);var t=this,i=null,r=null,s=t.filterable?t.filterHeight:0,n=function(e){return e=t.host.height(),0==e&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:void 0==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?r=t.height:void 0==t.height||isNaN(t.height)||(r=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),r=n(r)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,r=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,r=t.virtualSize.height)):null!=r&&(r=parseInt(r),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),n(r)));var o=t.scrollBarSize;isNaN(o)&&(o=parseInt(o),isNaN(o)?o="17px":o+="px"),o=parseInt(o);var a=4,l=2,h=0;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?h=o+a:t.vScrollInstance.setPosition(0),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?l=o+a:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",l=0),null==r&&(r=0);var d=parseInt(r)-a-o;0>d&&(d=0),parseInt(t.hScrollBar[0].style.height)!=o&&(parseInt(o)<0&&(o=0),t.hScrollBar[0].style.height=parseInt(o)+"px"),t.hScrollBar[0].style.top!=d+"px"&&(t.hScrollBar[0].style.top=d+"px",t.hScrollBar[0].style.left="0px");var c=i-o-a;0>c&&(c=0);var u=c+"px";if(t.hScrollBar[0].style.width!=u&&(t.hScrollBar[0].style.width=u),0==h&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),o!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(o)+"px"),parseInt(r)-l!=parseInt(t.vScrollBar[0].style.height)){var p=parseInt(r)-l;0>p&&(p=0),t.vScrollBar[0].style.height=p+"px"}null==i&&(i=0);var f=parseInt(i)-parseInt(o)-a+"px";f!=t.vScrollBar[0].style.left&&(parseInt(f)>=0&&(t.vScrollBar[0].style.left=f),t.vScrollBar[0].style.top="0px");var m=t.vScrollInstance;m.disabled=t.disabled,e&&m._arrange();var g=t.hScrollInstance;if(g.disabled=t.disabled,e&&g._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(o)+3+"px",t.bottomRight[0].style.height=parseInt(o)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-h){var v=parseInt(i)-h;0>v&&(v=0),t.content[0].style.width=v+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"}))),parseInt(t.content[0].style.height)!=parseInt(r)-l){var w=parseInt(r)-l;0>w&&(w=0),t.content[0].style.height=w+"px",t.content[0].style.top="0px"}s>0&&(t.content[0].style.top=s+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-s+"px"),t.filterable?(t.filterInput[0].style.height=s-6+"px",t.filterInput[0].style.top="3px",t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px",t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-h),t.overlayContent.height(parseInt(r)-l))}},ensureVisible:function(t,i){if(isNaN(t)){var r=this.getItemByValue(t);r&&(t=r.index)}var s=this.isIndexInView(t);if(s){if(i)for(indx=0;indx<this.visibleItems.length;indx++){var r=this.visibleItems[indx];if(r.visibleIndex==t&&!r.isGroup){var n=this.vScrollInstance.value,o=r.initialTop;this.filterable&&(o=this.filterHeight+2+r.initialTop),n+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(o)}}}else{if(0>t)return;if(this.autoHeight){var a=e.data(this.vScrollBar[0],"jqxScrollBar").instance;a.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var r=this.visibleItems[indx];if(r.visibleIndex==t&&!r.isGroup){var a=e.data(this.vScrollBar[0],"jqxScrollBar").instance,n=a.value,l=this.filterable?this.filterHeight+2:0,h="hidden"===this.hScrollBar.css("visibility"),d=h?0:this.scrollBarSize+4;if(r.initialTop<n)a.setPosition(r.initialTop),0==indx&&a.setPosition(0);else if(r.initialTop+r.height>n+this.host.height()-l){var c=this.host.height();if(this.filterable?a.setPosition(this.filterHeight+2+r.initialTop+r.height+2-c+d):(a.setPosition(r.initialTop+r.height+2-c+d),indx===this.visibleItems.length-1&&a.setPosition(a.max)),i){var n=a.value,o=r.initialTop;this.filterable&&(o=this.filterHeight+2+r.initialTop),n+c<a.max&&a.setPosition(o)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min?(e.setPosition(e.min),!0):!1},databind:function(t,i){this.records=new Array;var r=t._source?!0:!1,s=new e.jqx.dataAdapter(t,{autoBind:!1});r&&(s=t,t=t._source);var n=function(){void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async)},o=function(t,i){var r=function(i){var r=null;if("string"==typeof i)var s=i,n=i,o="";else if(void 0!=t.displayMember&&""!=t.displayMember)var n=i[t.valueMember],s=i[t.displayMember];var o="";if(t.groupMember?o=i[t.groupMember]:i&&void 0!=i.group&&(o=i.group),t.searchMember?r=i[t.searchMember]:i&&void 0!=i.searchLabel&&(r=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(s=n=i.toString()),i&&void 0!=i.label)var s=i.label,n=i.value;var a=!1;i&&void 0!=i.checked&&(a=i.checked);var l="";i&&void 0!=i.html&&(l=i.html);var h=!0;i&&void 0!=i.visible&&(h=i.visible);var d=!1;i&&void 0!=i.disabled&&(d=i.disabled);var c=!1;i&&void 0!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=s,u.value=n,u.searchLabel=r,u.html=l,u.visible=h,u.originalItem=i,u.group=o,u.groupHtml="",u.disabled=d,u.checked=a,u.hasThreeStates=c,u};if(void 0!=i){var n=s._changedrecords[0];if(n)return void e.each(s._changedrecords,function(){var e=this.index,s=this.record;if("remove"!=i)var n=r(s);switch(i){case"update":t.updateAt(n,e);break;case"add":t.insertAt(n,e);break;case"remove":t.removeAt(e)}})}t.records=s.records;for(var o=t.records.length,a=new Array,l=0;o>l;l++){var h=t.records[l],d=r(h);d.index=l,a[l]=d}t.items=t.loadItems(a,!0),t._render(),t._raiseEvent("6")};n(this);var a=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(s.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&s.dataBind(),o(this),s.bindBindingUpdate(this.element.id,function(e){o(a,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&s.dataBind(),o(this),void s.bindBindingUpdate(this.element.id,function(){o(a)});var l={};s._options.data?e.extend(s._options.data,l):(t.data&&e.extend(l,t.data),s._options.data=l);var h=function(){o(a)};s.unbindDownloadComplete(a.element.id),s.bindDownloadComplete(a.element.id,h),(this.autoBind||!this.autoBind&&!i)&&s.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var r=this,s=0,n=0,o=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var a=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(void 0==t)return null;var l=new e.jqx._jqxListBox.item,h=t.group,d=t.groupHtml,c=t.title,u=null;if(r.searchMember?u=record[r.searchMember]:t&&void 0!=t.searchLabel&&(u=t.searchLabel),(null==c||void 0==c)&&(c=""),(null==h||void 0==h)&&(h=""),r.groupMember&&(h=t[r.groupMember]),(null==d||void 0==d)&&(d=""),!r.groups[h]){r.groups[h]={items:new Array,index:-1,caption:h,captionHtml:d},s++;var p=s+"jqxGroup";r.groups[p]=r.groups[h],n++,r.groups.length=n}var f=r.groups[h];return f.index++,f.items[f.index]=l,"string"==typeof t?(l.label=t,l.value=t):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=r.displayMember&&(l.label=void 0!=t[r.displayMember]?t[r.displayMember]:""),void 0===t.value&&""!=r.valueMember&&(l.value=t[r.valueMember])),l.hasThreeStates=void 0!=t.hasThreeStates?t.hasThreeStates:!0,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&""!=t.html,l.group=h,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=void 0!=t.visible?t.visible:!0,l.searchLabel=u,l.index=o,a[o]=l,o++,l});var l=new Array,h=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var d=0;n>d;d++){var s=d+1,c=s+"jqxGroup",u=this.groups[c];if(void 0==u||null==u)break;if(0==d&&""==u.caption&&""==u.captionHtml&&1>=n){for(var p=0;p<u.items.length;p++){var f=u.items[p].value;(void 0==u.items[p].value||null==u.items[p].value)&&(f=p),this.itemsByValue[e.trim(f).split(" ").join("")]=u.items[p]}return u.items}var m=new e.jqx._jqxListBox.item;m.isGroup=!0,m.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,m.label=u.caption),m.html=u.captionHtml,l[h]=m,h++;for(var g=0;g<u.items.length;g++){l[h]=u.items[g];var f=u.items[g].value;(""==u.items[g].value||null==u.items[g].value)&&(f=h),r.itemsByValue[e.trim(f).split(" ").join("")]=u.items[g],h++}}else{var h=0,v=new Array;e.each(a,function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[h]=t,h++,v[this.group]=!0}l[h]=this;var i=this.value;(""==this.value||null==this.value)&&(i=h-1),r.itemsByValue[e.trim(i).split(" ").join("")]=this,h++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(void 0==t.label&&(t.label=t[this.displayMember]),void 0==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),void 0==i.label&&void 0==i.value&&void 0==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return i&&void 0!=i.index?this.updateAt(e,i.index):!1},updateAt:function(t,i){if(null!=t){var r=this._mapItem(t);this.itemsByValue[e.trim(r.value).split(" ").join("")]=this.items[i],this.items[i].value=r.value,this.items[i].label=r.label,this.items[i].html=r.html,this.items[i].disabled=r.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var r=this._mapItem(t);r.index=0,this.items[this.items.length]=r,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var s=r.value;return(""==r.value||null==r.value)&&(s=i),this.itemsByValue[e.trim(s).split(" ").join("")]=r,!1}var r=this._mapItem(t);if(-1==i||void 0==i||null==i||i>=this.items.length)r.index=this.items.length,this.items[this.items.length]=r;else{for(var n=new Array,o=0,a=!1,l=0,h=0;h<this.items.length;h++)0==this.items[h].isGroup&&l>=i&&!a&&(n[o++]=r,r.index=i,l++,a=!0),n[o]=this.items[h],this.items[h].isGroup||(n[o].index=l,l++),o++;this.items=n}var s=r.value;(""==r.value||null==r.value)&&(s=i),this.itemsByValue[e.trim(s).split(" ").join("")]=r,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;return d.setPosition(0),this._addItems(this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?!0:!1),this.groups.length>1,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(c),this.rendered&&this.rendered(),!0},removeAt:function(t){if(0>t||t>this.items.length-1)return!1;if(void 0==t)return!1;var i=this.items[t].height,r=this.items[t].value;if((""==r||null==r)&&(r=t),this.itemsByValue[e.trim(r).split(" ").join("")]=null,this.groups.length>1){for(var s=new Array,n=0;n<this.items.length;n++)this.items[n].isGroup||s.push({item:this.items[n],key:n});if(!s[t])return!1;this.items.splice(s[t].key,1)}else this.items.splice(t,1);for(var o=new Array,a=0,l=0,n=0;n<this.items.length;n++)o[a]=this.items[n],this.items[n].isGroup||(o[a].index=l,l++),a++;this.items=o;var h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=h.value;if(h.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),h.setPosition("hidden"!=this.vScrollBar.css("visibility")?d:0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var r=this.items[u].value;(""==this.items[u].value||null==this.items[u].value)&&(r=u),this.itemsByValue[e.trim(r).split(" ").join("")]=this.items[u]}return this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),r=-1;if(i&&void 0!=i.index&&t!==!0){for(var s=0;s<this.items.length;s++)if(this.items[s].label==i.label&&this.items[s].value==i.value){r=s;break}if(-1!=r)return this.removeAt(r)}return-1==r?this.removeAt(i.index):void 0},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!0,this._renderItems(),!0):!1},enableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this,this._updateInputSelection();var s=new e.Event(r);if(s.owner=this,s.args=args,null!=this.host)var n=this.host.trigger(s);return n}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,r=e(t).find("option"),s=e(t).find("optgroup"),n=!1;0===r.length&&(r=e(t).find("li"),r.length>0&&(n=!0));var o=null,o=-1,a=new Array;if(e.each(r,function(t){var r=s.find(this).length>0,l=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),n===!0&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var h={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},d=e.jqx.browser.msie&&e.jqx.browser.version<8;d&&!n&&""==h.value&&null!=this.text&&this.text.length>0&&(h.value=this.text),r&&(l=s.find(this).parent()[0].label,h.group=l,a[l]||(a[l]=new Array,a.length++),a[l].push(h)),this.selected&&(o=t),h.checked=this.selected,void 0!==h.label&&i.push(h)}),a.length>0){var l=new Array;for(var h in a)if("indexOf"!==h){for(var d=null,c=0;c<s.length;c++)if(h===s[c].label||s[c].text){d=s[c];break}e.each(a[h],function(){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:o}:{items:i,index:o}},e.jqx._jqxListBox.item=function(){var e={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return e}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(){this.render()},render:function(){var t=this;t.width||(t.width=200),t.height||(t.height=25);var i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title};r.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":e.jqx.utilities.createId()+"_jqxDropDownList";var s=e("<div></div>",r);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(s);
var n=t.host.data();if(t.host=s,t.host.data(n),t.element=s[0],t.element.id=t.field.id,t.field.id=r.id,t.field.tabIndex){var o=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=o}var a=e.jqx.parseSourceTag(t.field);t.source=a.items,-1==t.selectedIndex&&(t.selectedIndex=a.index)}t.element.innerHTML="",t.isanimating=!1,t.id=t.element.id||e.jqx.utilities.createId(),t.host.attr("role","combobox"),e.jqx.aria(t,"aria-autocomplete","both"),e.jqx.aria(t,"aria-readonly",!1);var l=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(t._addInput(),null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t.host.attr("tabindex")?(l.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")):l.attr("tabindex",0);t.touch=e.jqx.mobile.isTouchDevice(),t.comboStructure=l,t.host.append(l),t.dropdownlistWrapper=t.host.find("#dropdownlistWrapper"),t.dropdownlistArrow=t.host.find("#dropdownlistArrow"),t.arrow=e(t.dropdownlistArrow.children()[0]),t.dropdownlistContent=t.host.find("#dropdownlistContent"),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content")),t.dropdownlistWrapper.addClass(t.toThemeProperty("jqx-disableselect")),t.rtl&&(t.dropdownlistContent.addClass(t.toThemeProperty("jqx-rtl")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-rtl"))),t.addHandler(t.dropdownlistWrapper,"selectstart",function(){return!1}),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,"Please Choose:"!=t.promptText&&(t.placeHolder=t.promptText);var h=t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal");t.element.className+=" "+h,t._firstDiv=t.host.find("div:first");try{var d="listBox"+t.id,c=e(e.find("#"+d));c.length>0&&c.remove(),e.jqx.aria(t,"aria-owns",d),e.jqx.aria(t,"aria-haspopup",!0);var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");u.hide(),u.appendTo(document.body),t.container=u,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var p=t.width;"auto"!=t.dropDownWidth&&(p=t.dropDownWidth),null==p&&(p=t.host.width(),0==p&&(p=t.dropDownWidth)),null==t.dropDownHeight&&(t.dropDownHeight=200);t.container.width(parseInt(p)+25),t.container.height(parseInt(t.dropDownHeight)+25),t.addHandler(t.listBoxContainer,"bindingComplete",function(){t._raiseEvent("6")}),t.listBoxContainer.jqxListBox({filterHeight:t.filterHeight,filterPlaceHolder:t.filterPlaceHolder,filterDelay:t.filterDelay,filterable:t.filterable,allowDrop:!1,allowDrag:!1,autoBind:t.autoBind,_checkForHiddenParent:!1,focusable:t.focusable,touchMode:t.touchMode,checkboxes:t.checkboxes,rtl:t.rtl,emptyString:t.emptyString,itemHeight:t.itemHeight,width:p,searchMode:t.searchMode,incrementalSearch:t.incrementalSearch,incrementalSearchDelay:t.incrementalSearchDelay,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,height:t.dropDownHeight,autoHeight:t.autoDropDownHeight,scrollBarSize:t.scrollBarSize,selectedIndex:t.selectedIndex,source:t.source,theme:t.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:t.renderer}),t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox.selectIndex(t.selectedIndex),t.listBox._arrange(),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.addHandler(t.listBoxContainer,"unselect",function(e){t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(t.isOpened()||t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(f){}var t=t;if(t.propertyChangeMap.disabled=function(i,r,s,n){n?(i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(i,"aria-disabled",i.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),"simple"===t.renderMode&&(t.arrow.remove(),t.host.removeClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.removeClass(t.toThemeProperty("jqx-rc-all"))),t._updateHandlers(),t._setSize(),t._arrange(),t.listBox&&t.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var m=t.host.parents(".jqx-window").css("z-index");u.css("z-index",m+10),t.listBoxContainer.css("z-index",m+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};if(this.input&&(t(e)||0==arguments.length))return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host.focus(),e._firstDiv&&e._firstDiv.focus()};t(),setTimeout(function(){t()},10)}catch(i){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.height(this.height));var i=this,r=function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25)}};if(t){var s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25)}e.jqx.utilities.resize(this.host,function(){r()},!1,this._checkForHiddenParent)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==t.listBoxContainer?!0:!1},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(){var e=t.isOpened();e&&t.close()});var r="mousedown";this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,r,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var e=t.isOpened();!e&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){var i=t.isOpened();if(i&&t.autoOpen){var r=t.host.coord(),s=r.top,n=r.left,o=t.container.coord(),a=o.left,l=o.top;canClose=!0,e.pageY>=s&&e.pageY<=s+t.host.height()&&e.pageX>=n&&e.pageX<n+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()&&e.pageX>=a&&e.pageX<a+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),i&&"9"!=e.keyCode?!1:!0;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),void 0!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(t._kbnavigated===!1&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),void 0==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t=this,i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id)},getItem:function(e){var t=this.listBox.getItem(e);return t},getItemByValue:function(e){var t=this.listBox.getItemByValue(e);return t},selectItem:function(e){void 0!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){void 0!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var r=this.listBox.selectedValues[i],s=this.listBox.getItemByValue(r);s&&(t=s)}if(this.checkboxes){var n=this.getCheckedItems();t=null!=n&&n.length>0?n[0]:null}if(null==t){var o=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');o.appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-listitem-state-normal")),o.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(o,this.placeHolder);var a=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");o.css("padding-top",a),o.css("padding-bottom",l);var h=o.outerHeight();o.remove(),o.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,o);var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));var c=parseInt((parseInt(d)-parseInt(h))/2);return c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var o=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');o.appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-listitem-state-normal")),o.addClass(this.toThemeProperty("jqx-item"));var u=!1;try{void 0!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(o,t.html):void 0!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(o,t.label):null===t.label||""===t.label?(u=!0,e.jqx.utilities.html(o,"")):void 0!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(o,t.value):void 0!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(o,t.title):(""==t.label||null==t.label)&&(u=!0,e.jqx.utilities.html(o,""))}catch(p){}var a=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");o.css("padding-top",a),o.css("padding-bottom",l);var h=o.outerHeight();0===h&&(h=16),""!=t.label&&null!=t.label||!u||e.jqx.utilities.html(o,"");var f=this.width&&this.width.toString().indexOf("%")<=0;if(o.remove(),o.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var m=this.getCheckedItems(),g="",v=0;v<m.length;v++)g+=v==m.length-1?m[v].label:m[v].label+",";o.text(g),f&&o.css("max-width",this.host.width()-30),o.css("overflow","hidden"),o.css("display","block"),this.rtl||f&&o.css("width",this.host.width()-30),o.css("text-overflow","ellipsis"),o.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(o),this.focusable&&this.isOpened()&&this.focus()}else this.width&&"auto"!==this.width&&(f&&(this.rtl||o.css("max-width",this.host.width()-this.arrowSize-3)),o.css("overflow","hidden"),o.css("display","block"),o.css("padding-bottom",1+parseInt(l)),this.rtl||f&&o.css("width",this.host.width()-this.arrowSize-3),o.css("text-overflow","ellipsis")),this.dropdownlistContent.html(o),this.focusable&&this.isOpened()&&this.focus();var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));var c=parseInt((parseInt(d)-parseInt(h))/2);c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer&&(this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px")),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var r=this.getCheckedItems(),s="";if(null!=r)for(var n=0;n<r.length;n++){var o=r[n].value;void 0!=o&&(s+=n==r.length-1?o:o+",",t.push(o))}this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,r){this.listBox.selectIndex(e,t,i,r,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null==e?!1:this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,r){var s=t.outerWidth(),n=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+s>o&&s>this.host.width()){var l=this.host.coord().left,h=s-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>a&&a>n?Math.abs(n+r+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.host.width();this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}var i,r=this,s=this.listBoxContainer,n=this.listBox,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),a=parseInt(Math.round(this.host.coord(!0).left));i=a+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),o=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),s.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",o),n._arrange();var h=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var d=this.container.outerWidth(),c=Math.abs(d-this.host.width());d>this.host.width()?this.container.css("left",25+parseInt(Math.round(a))-c+"px"):this.container.css("left",25+parseInt(Math.round(a))+c+"px")}if(this.enableBrowserBoundsDetection){var u=this.testOffset(s,{left:parseInt(this.container.css("left")),top:parseInt(o)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=u.top?(h=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"))):s.css("top",0),this.container.css("top",u.top),parseInt(this.container.css("left"))!=u.left&&this.container.css("left",u.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",r),e.data(document.body,"openedJQXListBox"+this.id,s),s.css("margin-top",0),s.css("opacity",1),n._renderItems(),r._raiseEvent("0",n);else if(this.container.css("display","block"),r.isanimating=!0,"fade"==this.animationType)s.css("margin-top",0),s.css("opacity",0),s.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",r),e.data(document.body,"openedJQXListBox"+r.id,s),r.ishiding=!1,r.isanimating=!1,n._renderItems(),r._raiseEvent("0",n)});else{s.css("opacity",1);var p=s.outerHeight();h?s.css("margin-top",p):s.css("margin-top",-p),s.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",r),e.data(document.body,"openedJQXListBox"+r.id,s),r.ishiding=!1,r.isanimating=!1,n._renderItems(),r._raiseEvent("0",n)})}h?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),s.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),s.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(s.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,r=this.container,s=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!s.ishiding){t.stop();var n=t.outerHeight();t.css("margin-top",0),s.isanimating=!0;var o=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){r.css("display","none"),s.isanimating=!1,s.ishiding=!1})):t.animate({"margin-top":o},this.closeDelay,function(){r.css("display","none"),s.isanimating=!1,s.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,r=e(t.target),s=t.data.listbox;if(null==s)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;var n=!1;return e.each(r.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}}),null!=s&&!n&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){e!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),r=3,s=e-i-2*r;if(s>0&&"auto"!==this.width?this.dropdownlistContent.width(s+"px"):0>=s&&this.dropdownlistContent.width(0),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),e=this.dropdownlistContent.width()+i+2*r,this.host.width(e)),this.dropdownlistContent.height(t),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(i),this.width&&this.width.toString().indexOf("%")>=0){var n=100*i/e,o=100*s/e;this.dropdownlistArrow.css("width",n+"%"),this.dropdownlistContent.css("width",o+"%")}this.dropdownlistArrow.height(t),this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this;var s=new e.Event(r);s.owner=this,(2==t||3==t||4==t||5==t)&&(s.args=i);var n=this.host.trigger(s);return n},propertyChangedHandler:function(t,i,r,s){if(void 0!=t.isInitialized&&0!=t.isInitialized){if("filterable"==i&&t.listBoxContainer.jqxListBox({filterable:s}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:s}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:s}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:s}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:s}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:s}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:s}),"rtl"==i&&(s?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==s&&t.clear()),("displayMember"==i||"valueMember"==i)&&(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=s&&(t.listBoxContainer.jqxListBox({theme:s}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(r,s,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var n=t.width;
"auto"!=t.dropDownWidth&&(n=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:n,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(n)+25)}if(("width"==i||"height"==i)&&s!=r&&(this.refresh(),"width"==i&&"auto"==t.dropDownWidth)){var n=t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.width(parseInt(n)+25)}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(s)),t.renderSelection())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized"]};return e.extend(!0,this,t),t},createInstance:function(){var t=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){t.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){t.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var i=this.loadItems(this.source);this.element.innerHTML=i}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this.host.data("autoclose",{}),this._render(),this.setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if(this.host.focus(),"popup"===this.mode){var t=this.host.closest("div.jqx-menu-wrapper");t.focus()}this.keyboardNavigation&&(this.activeItem||(e(this.items[0].element).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.activeItem=this.items[0]))}catch(i){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var r=this;this.items=new Array;var s="<ul>";return i&&(s='<ul style="width:'+i+';">'),e.map(t,function(e){return void 0==e?null:void(s+=r._parseItem(e))}),s+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var r=!1;void 0!=e.selected&&e.selected&&(r=!0);var s=!1;return void 0!=e.disabled&&e.disabled&&(s=!0),t+="<li",s&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(t+=e.subMenuWidth?this.loadItems(e.items,e.subMenuWidth):this.loadItems(e.items)),t+="</li>"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var r=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;r||(i=!0)}var s=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var n=new e.jqx.response;("Phone"==n.device.type||"Tablet"==n.device.type)&&(this.minimized||this.minimize())}else s>t&&!this.minimized?this.minimize():this.minimized&&t>=s&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var i=this.host.closest("div.jqx-menu-wrapper");if(i.remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){var t=this,i=(e(t.element),e(t.subMenuElement)),r=i.closest("div.jqx-menu-popup");r.remove()}),this.source){var r=this.loadItems(this.source);this.element.innerHTML=r,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this._render();var n=this.host.find("ul:first");n.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var i=n.closest("div.jqx-menu-wrapper");i[0].id="menuWrapper"+this.element.id,i.detach(),i.appendTo(e(document.body)),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-menu")),i.addClass(this.toThemeProperty("jqx-menu-minimized")),i.addClass(this.toThemeProperty("jqx-widget-header")),n.children().hide(),i.hide(),i.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(i,"keydown",function(e){return t.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var o=function(){t.minimizedHidden=!0,t.minimizedItem.show();var e=!1;"right"==t.minimizedItem.css("float")&&(e=!0),i.animate({left:e?t.host.coord().left+t.host.width()+i.width():-i.outerWidth(),opacity:0},t.animationHideDuration,function(){i.find("ul:first").children().hide(),i.hide()})},a=function(e){if(t.minimizedHidden){i.find("ul:first").children().show(),t.minimizedHidden=!1,i.show(),i.css("opacity",0),i.css("left",-i.outerWidth());var r=!1,s=i.width();"right"==t.minimizedItem.css("float")&&(i.css("left",t.host.coord().left+t.host.width()+s),r=!0),i.css("top",t.host.coord().top+t.host.height()),i.animate({left:r?t.host.coord().left+t.host.width()-s:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else o(e);t._raiseEvent("2",{item:t.minimizedItem[0],event:e}),t.setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(){setTimeout(function(){if(!t.minimizedHidden){var e=i.width(),r=!1,e=i.width();"right"==t.minimizedItem.css("float")&&(r=!0),i.css("top",t.host.coord().top+t.host.height()),i.css({left:r?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){a(e)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var t=e("#menuWrapper"+this.element.id);if(t.remove(),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=i}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this.setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this.setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,r=i.items;if(e.each(r,function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)}),"popup"==i.mode&&null!=t){var s=i._isRightClick(t);s||i.close()}},closeItem:function(t){if(null==t)return!1;var i=t,r=document.getElementById(i),s=this;return e.each(s.items,function(){var e=this;1==e.isOpen&&e.element==r&&(s._closeItem(s,e),e.parentId&&s.closeItem(e.parentId))}),!0},openItem:function(t){if(null==t)return!1;var i=t,r=document.getElementById(i),s=this;return e.each(s.items,function(){var e=this;0==e.isOpen&&e.element==r&&(s._openItem(s,e),e.parentId&&s.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),r=-i.outerHeight(),s=-i.outerWidth(),n=0==t.level&&"horizontal"==this.mode;switch(n?s=0:r=0,t.openVerticalDirection){case"up":case"center":r=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):s=n?0:i.outerWidth();break;case"center":s=n?0:i.outerWidth()}return{left:s,top:r}},_closeItem:function(t,i,r,s){if(null==t||null==i)return!1;var n=e(i.subMenuElement),o=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,h=a.left,d=(e(i.element),n.closest("div.jqx-menu-popup"));if(null!=d){var c=t.animationHideDelay;1==s&&(c=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var u=function(){i.isOpen=!1,o?n.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var r=e(i.arrow);r.length>0&&t.showTopLevelArrows&&(r.removeClass(),"down"==i.openVerticalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(!e.jqx.browser.msie,n.stop().animate({left:h},t.animationHideDuration,function(){if(0==t.animationHideDuration&&n.css({left:h}),i.level>0){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)}))};if(c>0?n.data("timer")&&(n.data("timer").hide=setTimeout(function(){u()},c)):u(),void 0!=r&&r){var p=n.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){{e(t.menuElements[this.id].subMenuElement)}t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){if(null==t)return!1;var r=this,s=new Array;null!=i&&e.extend(s,i);var n=t,o=this.menuElements[n],a=e(o.subMenuElement),l=a.find(".jqx-menu-item");return e.each(l,function(){s[this.id]=r.menuElements[this.id];var t=r.getSubItems(this.id,s);e.extend(s,t)}),s},disable:function(t,i){if(null!=t){var r=t,s=this;if(this.menuElements[r]){var n=this.menuElements[r];n.disabled=i;var o=e(n.element);n.element.disabled=i,e.each(o.children(),function(){this.disabled=i}),i?(o.addClass(s.toThemeProperty("jqx-menu-item-disabled")),o.addClass(s.toThemeProperty("jqx-fill-state-disabled"))):(o.removeClass(s.toThemeProperty("jqx-menu-item-disabled")),o.removeClass(s.toThemeProperty("jqx-fill-state-disabled")))}}},_setItemProperty:function(e,t,i){if(null!=e){var r=e;if(this.menuElements[r]){var s=this.menuElements[r];s[t]&&(s[t]=i)}}},setItemOpenDirection:function(t,i,r){if(null!=t){var s=t,n=this,o=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[s]){var a=this.menuElements[s];if(null!=i&&(a.openHorizontalDirection=i,a.hasItems&&a.level>0)){var l=e(a.element);if(void 0!=l){var h=e(a.arrow);null==a.arrow&&(h=e('<span id="arrow'+l[0].id+'"></span>'),o?h.appendTo(l):h.prependTo(l),a.arrow=h[0]),h.removeClass(),"left"==a.openHorizontalDirection?(h.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left"))),h.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))):(h.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right"))),h.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))),h.css("visibility","visible"),o?(h.css("display","inline-block"),h.css("float","none")):(h.css("display","block"),h.css("float","right"))}}if(null!=r){a.openVerticalDirection=r;var h=e(a.arrow),l=e(a.element);if(!n.showTopLevelArrows)return;void 0!=l&&(null==a.arrow&&(h=e('<span id="arrow'+l[0].id+'"></span>'),o?h.appendTo(l):h.prependTo(l),a.arrow=h[0]),h.removeClass(),"down"==a.openVerticalDirection?(h.addClass(n.toThemeProperty("jqx-menu-item-arrow-down")),h.addClass(n.toThemeProperty("jqx-icon-arrow-down"))):(h.addClass(n.toThemeProperty("jqx-menu-item-arrow-up")),h.addClass(n.toThemeProperty("jqx-icon-arrow-up"))),h.css("visibility","visible"),o?(h.css("display","inline-block"),h.css("float","none")):(h.css("display","block"),h.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,r=0;r<this.items.length;r++)this.items[r]!=e&&this.items[r].parentId==e.parentId&&this.items[r].hasItems&&(t[i++]=this.items[r]);return t},_openItem:function(t,i,r){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=t.popupZIndex;void 0!=r&&(s=r);var n=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=n,this.host.focus();var o=[5,5],a=e(i.subMenuElement);null!=a&&a.stop(),a.data("timer")&&null!=a.data("timer").hide&&clearTimeout(a.data("timer").hide);var l=a.closest("div.jqx-menu-popup"),h=e(i.element),d=0==i.level?this._getOffset(i.element):h.position();if(i.level>0&&this.hasTransform){var c=parseInt(h.coord().top)-parseInt(this._getOffset(i.element).top);d.top+=c}0==i.level&&"popup"==this.mode&&(d=h.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?d.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-o[0]:parseInt(a.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?d.top+h.outerHeight():d.top,zIndex:s}),a.css("display","block"),"horizontal"!=this.mode&&0==i.level){var f=this._getOffset(this.element);l.css("left",-1+f.left+this.host.outerWidth()),a.css("left",-a.outerWidth())}else{var m=this._getClosedSubMenuOffset(i);a.css("left",m.left),a.css("top",m.top)}l.css({height:parseInt(a.outerHeight())+parseInt(o[1])+"px"});var g=0,v=0;switch(i.openVerticalDirection){case"up":if(u){a.css("top",a.outerHeight()),g=o[1];var w=parseInt(a.parent().css("padding-bottom"));isNaN(w)&&(w=0),w>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),a.css("top",a.outerHeight()-w),l.css({display:"block",top:d.top-l.outerHeight(),zIndex:s})}else g=o[1],a.css("top",a.outerHeight()),l.css({display:"block",top:d.top-l.outerHeight()+o[1]+h.outerHeight(),zIndex:s});break;case"center":u?(a.css("top",0),l.css({display:"block",top:d.top-l.outerHeight()/2+o[1],zIndex:s})):(a.css("top",0),l.css({display:"block",top:d.top+h.outerHeight()/2-l.outerHeight()/2+o[1],zIndex:s}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:d.left-(l.outerWidth()-h.outerWidth()-o[0])}):(v=0,a.css("left",l.outerWidth()),l.css({left:d.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-o[0]/2)}):(l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-o[0]/2)}),a.css("left",l.outerWidth()))}if(u){if(parseInt(a.css("top"))==g)return void(i.isOpen=!0)}else if(parseInt(a.css("left"))==v)return void(1==i.isOpen);e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var x=e.data(t.element,"animationHideDelay");t.animationHideDelay=x,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),a.data("timer")&&(a.data("timer").show=setTimeout(function(){if(null!=l)if(u){a.stop(),a.css("left",v),!e.jqx.browser.msie,h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded")));var r=e(i.arrow);r.length>0&&t.showTopLevelArrows&&(r.removeClass(),"down"==i.openVerticalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(a.css({top:g}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({top:g},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{if(a.stop(),a.css("top",g),!e.jqx.browser.msie,i.level>0){h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}!e.jqx.browser.msie,0==t.animationShowDuration?(a.css({left:v}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({left:v},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var r=this,s=0;if(r.host.removeClass(r.toThemeProperty("jqx-menu-horizontal")),r.host.removeClass(r.toThemeProperty("jqx-menu-vertical")),r.host.removeClass(r.toThemeProperty("jqx-menu")),r.host.removeClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-menu")),void 0!=t&&void 0!=i&&"popup"==i){if(r.host.parent().length>0&&r.host.parent().parent().length>0&&r.host.parent().parent()[0]==document.body){var n=e.data(document.body,"jqxMenuOldHost"+r.element.id);if(null!=n){var o=r.host.closest("div.jqx-menu-wrapper");o.remove(),o.appendTo(n),r.host.css("display","block"),r.host.css("visibility","visible"),o.css("display","block"),o.css("visibility","visible")}}}else void 0==t&&void 0==i&&e.data(document.body,"jqxMenuOldHost"+r.element.id,r.host.parent()[0]);switch(r.autoOpenPopup&&"popup"==r.mode?(r.addHandler(e(document),"contextmenu."+r.element.id,function(){return!1}),r.addHandler(e(document),"mousedown.menu"+r.element.id,function(e){r._openContextMenu(e)})):(r.removeHandler(e(document),"contextmenu."+r.element.id),r.removeHandler(e(document),"mousedown.menu"+r.element.id)),r.rtl&&r.host.addClass(r.toThemeProperty("jqx-rtl")),r.mode){case"horizontal":r.host.addClass(r.toThemeProperty("jqx-widget-header")),r.host.addClass(r.toThemeProperty("jqx-menu-horizontal")),e.each(r.items,function(){var t=this;$element=e(t.element);var i=e(t.arrow);if(i.removeClass(),t.hasItems&&t.level>0){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float",r._getDir("right")),i.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),i.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),t.arrow=i[0]}if(0==t.level){if(e(t.element).css("float",r._getDir("left")),!t.ignoretheme&&t.hasItems&&r.showTopLevelArrows){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),n=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?n?i.appendTo($element):i.prependTo($element):i=e(t.arrow),"down"==t.openVerticalDirection?(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),i.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),i.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),i.css("visibility","visible"),n?i.css("display","inline-block"):(i.css("display","block"),i.css("float","right")),t.arrow=i[0]}else if(!t.ignoretheme&&t.hasItems&&!r.showTopLevelArrows&&null!=t.arrow){var i=e(t.arrow);i.remove(),t.arrow=null}s=Math.max(s,$element.height())}});break;case"vertical":case"popup":case"simple":if(r.host.addClass(r.toThemeProperty("jqx-menu-vertical")),e.each(r.items,function(){var t=this;if($element=e(t.element),t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==r.mode)return!0;var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float","right"),0==t.level?(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-top-"+r._getDir("right"))),i.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))):(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),i.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))),t.arrow=i[0]}$element.css("float","none")}),"popup"==r.mode){r.host.addClass(r.toThemeProperty("jqx-widget-content")),r.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+r.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var o=r.host.closest("div.jqx-menu-wrapper");r.host.addClass(r.toThemeProperty("jqx-popup")),o[0].id="menuWrapper"+r.element.id,o.appendTo(e(document.body)),r.addHandler(o,"keydown",function(e){return r.handleKeyDown(e)})}else r.host.addClass(r.toThemeProperty("jqx-widget-header"));if("popup"==r.mode){var a=r.host.height();r.host.css("position","absolute"),r.host.css("top","0"),r.host.css("left","0"),"simple"!=r.mode&&(r.host.height(a),r.host.css("display","none"))}}var l=r.isTouchDevice();r.autoCloseOnClick&&(r.removeHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick),r.addHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick,r),l&&(r.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r),r.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),r=e(t).coord(!0),s=r.top,n=r.left;"0px"!=e("body").css("border-top-width")&&(s=parseInt(s)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)+this._getBodyOffset().left);var o=e.jqx.mobile.isWindowsPhone();if(this.hasTransform||null!=i&&i||o){var a={left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)};return a}return{left:n,top:s}},_isRightClick:function(e){var t;if(!e)var e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){var t=this,i=t._isRightClick(e);i&&t.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this,i=e.data(this.element,"contextMenuOpened"+this.element.id);if(i){{this.host}e.each(t.items,function(){var e=this;e.hasItems&&t._closeItem(t,e)}),e.each(t.items,function(){var t=this;if(1==t.isOpen){$submenu=e(t.subMenuElement);var i=$submenu.closest("div.jqx-menu-popup");i.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t)}},open:function(t,i){if("popup"==this.mode){var r=0;"block"==this.host.css("display")&&(this.close(),r=this.animationHideDuration);var s=this;(void 0==t||null==t)&&(t=0),(void 0==i||null==i)&&(i=0),setTimeout(function(){s.host.show(s.animationShowDuration),s.host.css("visibility","visible"),e.data(s.element,"contextMenuOpened"+s.element.id,!0),s._raiseEvent("0",s),s.host.css("z-index",9999),void 0!=t&&void 0!=i&&s.host.css({left:t,top:i})},r)}},_renderHover:function(e,t){var i=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){i.hoveredItem=t,t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(e.addClass(i.toThemeProperty("jqx-fill-state-hover")),e.addClass(i.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(i.toThemeProperty("jqx-fill-state-hover")),e.addClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(e.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.removeClass(i.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.removeClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,r=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(r=!0,!1):void 0}),r||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){var r=this;if($element=e(r.element),0==r.level&&i>0){var s=$element.children().length>0?parseInt($element.children().height()):$element.height(),n=t.host.find("ul:first"),o=parseInt(n.css("padding-top")),a=parseInt(n.css("margin-top")),l=i-2*(a+o),h=parseInt(l)/2-s/2,d=parseInt(h),c=parseInt(h);if($element.css("padding-top",d),$element.css("padding-bottom",c),parseInt($element.outerHeight())>l){var u=1;$element.css("padding-top",d-u),d-=u}}})}e.each(this.items,function(){var t=this;if($element=e(t.element),t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),r=e(t.element).height();r>15&&i.css("margin-top",(r-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var r=null;return e.each(this.items,function(){return this.element==i?(r=this,!1):void 0}),r},_isElementVisible:function(t){return null==t?!1:"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")?!0:!1},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(t=this._parentItem(t),null!=t&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),void 0==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var r=this.popupZIndex,s=[5,5],n=this;e.data(n.element,"animationHideDelay",n.animationHideDelay);var o=this.isTouchDevice(),a=o&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),l=!1;if(-1!=navigator.platform.toLowerCase().indexOf("win"))if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var h="MSPointerDown"in window;(h||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(l=!0,a=!0,n.clickToOpen=!0,n.autoCloseOnClick=!1,n.enableHover=!1)}e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(){n.keyboardNavigation&&n.activeItem&&(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)}),this.addHandler(this.host,"focus",function(){n.keyboardNavigation&&(n.activeItem||(n.hoveredItem?(e(n.hoveredItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.hoveredItem):(e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0])))}),this.removeHandler(this.host,"keydown"),n.handleKeyDown=function(t){if(n.keyboardNavigation){if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,r=null;e.each(n.items,function(){return this.disabled?!0:(this.element.className.indexOf("pressed")>=0&&(r=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&r&&(i=r),i||(e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0]);var s=!1;if(27==t.keyCode){if(t.data=n,n._closeAll(t),i)for(var o=i;null!=o;)o.parentItem?o=o.parentItem:(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=o,e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),o=o.parentItem);
s=!0}if(13==t.keyCode&&i){s=!0,n._raiseEvent("2",{item:i.element,event:t});var a=null!=i.anchor?e(i.anchor):null;if(null!=a&&a.length>0){var l=a.attr("href"),h=a.attr("target");null!=l&&(null!=h?window.open(l,h):window.location=l)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var d=function(e){if(null==e)return new Array;for(var t=new Array,i=0,r=0;r<n.items.length;r++)n.items[r].parentId==e.parentId&&(t[i++]=n.items[r]);return t},c="";switch(t.keyCode){case 40:c="down";break;case 38:c="up";break;case 39:c="right";break;case 37:c="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===c&&(c="right"),i&&"left"===i.openHorizontalDirection&&"right"===c&&(c="left"),i&&"top"===i.openVerticalDirection&&"top"===c&&(c="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===c&&(c="top"),n.rtl&&("right"===c?c="left":"left"===c&&(c="right")),"right"===c&&!n.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=n.mode))n._openItem(n,i);else{var u=n._nextVisibleItem(i,0),p=n._nextVisibleItem(i),f=d(p);u||(u=p),u&&(u.parentId===i.parentId&&0==u.level&&"horizontal"==n.mode||p.id==f[0].id&&0!=p.level)&&(p.id==f[0].id&&(0!=i.level||0==i.level&&"horizontal"!=n.mode)&&(u=p),e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u)}t.preventDefault(),t.stopPropagation()}if("left"===c&&!n.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==n.mode||i.level>1&&"horizontal"===n.mode||1==i.level&&i.hasItems&&"horizontal"===n.mode))i.hasItems?n._closeItem(n,i):i.parentItem&&(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem);else{var u=n._prevVisibleItem(i,0),m=i.parentItem;u&&u.parentId===i.parentId&&0==u.level&&"horizontal"==n.mode?(e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u):m&&0==m.level&&"horizontal"==n.mode||!m||m.level!=i.level-1||(e(m.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=m)}t.preventDefault(),t.stopPropagation()}if("down"===c){if(t.altKey)0==i.level&&i.hasItems&&n._openItem(n,i),n.minimized&&n.minimizedHidden&&n.minimizedItem.trigger("click");else{var u=n._nextVisibleItem(i,i.level),f=d(u);if(n.minimized&&u)e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==f[0].id&&"horizontal"==n.mode)&&(0!=u.level||"horizontal"!=n.mode)&&(e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u),"horizontal"===n.mode&&0===i.level&&i.isOpen&&i.hasItems){var u=n._nextVisibleItem(i);e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u}}t.preventDefault(),t.stopPropagation()}else if("up"===c){if(t.altKey)i.parentItem&&0==i.parentItem.level?(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===n.mode&&n._closeItem(n,i),n.minimized&&(n.minimizedHidden||n.minimizedItem.trigger("click"));else{var u=n._prevVisibleItem(i,i.level),f=d(i);if(n.minimized&&u)e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==i.parentId&&0==u.level&&"horizontal"==n.mode))(0!=u.level||"horizontal"!==n.mode||0!==i.level)&&(e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u);else if(i&&i.id==f[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===n.mode){var u=i.parentItem;e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode){var u=t.shiftKey?n._prevVisibleItem(i):n._nextVisibleItem(i);if(u)e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u,t.preventDefault(),t.stopPropagation();else if(n.lockFocus){for(var f=new Array,g=0,v=0;v<n.items.length;v++)n.items[v]!=i&&n.items[v].parentId==i.parentId&&(f[g++]=n.items[v]);f.length>0&&(t.shiftKey?(e(f[f.length-1].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=f[f.length-1]):(e(f[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=f[0]),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)}}},this.addHandler(this.host,"keydown",function(e){n.handleKeyDown(e)}),n.enableRoundedCorners&&this.host.addClass(n.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),n.enableRoundedCorners&&i.addClass(n.toThemeProperty("jqx-rc-all")),n.removeHandler(i,"click"),n.addHandler(i,"click",function(i){if(!t.disabled&&!n.disabled&&(n.keyboardNavigation&&(n.activeItem&&e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t,e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.minimized&&i.stopPropagation()),n._raiseEvent("2",{item:t.element,event:i}),n.autoOpen?!n.autoCloseOnClick||o||n.clickToOpen||t.closeOnClick&&(i.data=n,n._closeAll(i)):t.level>0&&(!n.autoCloseOnClick||o||n.clickToOpen||(i.data=n,n._closeAll(i))),o&&n.autoCloseOnClick&&(i.data=n,t.hasItems||n._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var r=null!=t.anchor?e(t.anchor):null;if(null!=r&&r.length>0){var s=r.attr("href"),a=r.attr("target");null!=s&&(null!=a?window.open(s,a):window.location=s)}}}),n.removeHandler(i,"mouseenter"),n.removeHandler(i,"mouseleave"),a||"simple"==n.mode||n._renderHover(i,t,o),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==n.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+n.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+r+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==n.mode&&l.css("left",0),r++;var h=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(s[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(s[1])+"px"}),d=i.closest("div.jqx-menu-popup");if(d.length>0){var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");h.appendTo(d),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}else{var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");h.appendTo(e(document.body)),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}n.clickToOpen?(n.removeHandler(i,"mousedown"),n.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t)})):((o||a)&&(n.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),n.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==n.mode||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t),!1})),a||(n.addHandler(i,"mouseenter",function(){if((n.autoOpen||t.level>0&&!n.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId&&n.menuElements[t.parentId]){var e=n.menuElements[t.parentId].isOpen;if(!e)return}return(n.autoOpen||t.level>0&&!n.autoOpen)&&n._openItem(n,t),!1}),n.addHandler(i,"mousedown",function(){n.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t))}),n.addHandler(i,"mouseleave",function(i){if(n.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var r=e(t.subMenuElement),s={left:parseInt(i.pageX),top:parseInt(i.pageY)},o={left:parseInt(r.coord().left),top:parseInt(r.coord().top),width:parseInt(r.outerWidth()),height:parseInt(r.outerHeight())},a=!0;o.left-5<=s.left&&s.left<=o.left+o.width+5&&o.top<=s.top&&s.top<=o.top+o.height&&(a=!1),a&&n._closeItem(n,t,!0)}}),n.removeHandler(h,"mouseenter"),n.addHandler(h,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),n.removeHandler(h,"mouseleave"),n.addHandler(h,"mouseleave",function(){n.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),n._closeItem(n,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=e.replace(".",""),e="99"+e,e/=1;this.items[e];)e=Math.random()+"",e=e.replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){void 0==i&&(i=!0),null==i&&(i=!0);var r=e(t).find("li"),s=0;this.itemMapping=new Array;for(var n=0;n<r.length;n++){var o=r[n],a=e(o);if(-1!=o.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=o.id;l||(l=this.createID()),i&&(o.id=l,this.items[s]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[s]),s+=1;var h=0,d=this,c=a.children();c.each(function(){return i||(this.className="",d.autoGenerate&&(e(d.items[s-1].subMenuElement)[0].className="",d.minimized||e(d.items[s-1].subMenuElement).addClass(d.toThemeProperty("jqx-widget-content")),e(d.items[s-1].subMenuElement).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(d.items[s-1].subMenuElement).addClass(d.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(d.items[s-1].subMenuElement=this),!1):!d.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(d.items[s-1].subMenuElement=this),this.className="",d.minimized||e(this).addClass(d.toThemeProperty("jqx-widget-content")),e(this).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(d.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),e(this).addClass(d.rtl?d.toThemeProperty("jqx-rc-l"):d.toThemeProperty("jqx-rc-r")),e(this).addClass(d.toThemeProperty("jqx-rc-b")),!1)});var u=a.parents();u.each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(h=this.id,!1):!d.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(h=this.id,!1)});var p=!1,f=o.getAttribute("type"),m=o.getAttribute("ignoretheme")||o.getAttribute("data-ignoretheme");if(m?("true"==m||1==m)&&(m=!0):m=!1,f){if("separator"==f)var p=!0}else f=o.type;p||(f=h?"sub":"top");var g=this.items[s-1];if(i){g.id=l,g.parentId=h,g.type=f,g.separator=p,g.element=r[n];var v=a.children("a");g.disabled="true"==o.getAttribute("item-disabled")?!0:!1,g.level=a.parents("li").length,g.anchor=v.length>0?v:null,g.anchor&&e(g.anchor).attr("tabindex",-1)}g.ignoretheme=m;var w=this.menuElements[h];null!=w&&(w.ignoretheme&&(g.ignoretheme=w.ignoretheme,m=w.ignoretheme),g.parentItem=w,g.parentElement=w.element),this.autoGenerate&&("separator"==f?(a.removeClass(),a.addClass(this.toThemeProperty("jqx-menu-item-separator")),a.attr("role","separator")):m||(a[0].className="",this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),g.level>0&&!d.minimized?(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item"))):(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item-top"))))),g.disabled&&(a.addClass(d.toThemeProperty("jqx-menu-item-disabled")),a.addClass(d.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[n]={element:r[n],item:g},this.itemMapping["id"+r[n].id]=this.itemMapping[n],i&&!m&&(g.hasItems=a.find("li").length>0,g.hasItems&&g.element&&(e.jqx.aria(e(g.element),"aria-haspopup",!0),g.subMenuElement.id||(g.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(g.element),"aria-owns",g.subMenuElement.id)))}}for(var x=0;x<r.length;x++){var b=r[x];if(this.itemMapping["id"+b.id]){var g=this.itemMapping["id"+b.id].item;if(!g)continue;g.prevItem=null,g.nextItem=null,x>0&&this.itemMapping["id"+r[x-1].id]&&(g.prevItem=this.itemMapping["id"+r[x-1].id].item),x<r.length-1&&this.itemMapping["id"+r[x+1].id]&&(g.nextItem=this.itemMapping["id"+r[x+1].id].item)}}}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);var t=this.host.closest("div.jqx-menu-wrapper");t.remove(),e("#menuWrapper"+this.element.id).remove();var i=this;this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(e(document),"mousedown.menu"+this.element.id,i._closeAfterClick),this.removeHandler(e(document),"mouseup.menu"+this.element.id,i._closeAfterClick),e.data(document.body,"jqxMenuOldHost"+this.element.id,null),this.isTouchDevice()&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,this._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+i.element.id),e.each(this.items,function(){var t=this,r=e(t.element);i.removeHandler(r,"click"),i.removeHandler(r,"selectstart"),i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave"),i.removeHandler(r,"mousedown"),i.removeHandler(r,"mouseleave");var s=e(t.subMenuElement),n=s.closest("div.jqx-menu-popup");n.remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete this.menuElements,this.items=new Array,delete this.items;var r=e.data(this.element,"jqxMenu");r&&delete r.instance,this.host.removeClass(),this.host.remove(),delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this;var s=new e.Event(r);"2"==t&&(args=i.item,args.owner=this,e.extend(s,i.event),s.type="itemclick"),s.owner=this,s.args=args;var n=this.host.trigger(s);return n},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),s!=r)){if("touchMode"==i&&(this._isTouchDevice=null,t._render(s,r)),"source"==i&&null!=t.source){var n=t.loadItems(t.source);t.element.innerHTML=n;var o=t.host.find("ul:first");o.length>0&&(t.refresh(),t._createMenu(o[0]),t._render())}"autoCloseOnClick"==i?0==s?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(s,r):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(r,s,t.host)}}})}(jqxBaseFramework),function(e){e.jqx._jqxMenu.jqxMenuItem=function(e,t,i){var r={id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return r}}(jqxBaseFramework),function(e){e.jqx.response=function(){this.defineInstance()},e.jqx.response.prototype={defineInstance:function(){this._handlers=new Array,this.refresh();var t=this;this.addHandler(e(document),"scroll.jqxresponse",function(){t.scroll=t.getScroll()})},refresh:function(){this.os=this.getOS(),this.browser=this.getBrowser(),this.device=this.getDevice(),this.viewPort=this.getViewPort(),this.document=this.getDocument(),this.scroll=this.getScroll(),this.media=window.matchMedia||window.msMatchMedia||function(){return{}}},refreshSize:function(){this.viewPort=this.getViewPort(),this.document=this.getDocument()},addHandler:function(e,t,i,r){switch(t){case"mousemove":if(window.addEventListener&&!r)return e[0].addEventListener("mousemove",i,!1),!1}e.on?e.on(t,i):e.bind(t,i)},removeHandler:function(e,t,i){return void 0==t?void(e.off?e.off():e.unbind()):void(void 0==i?e.off?e.off(t):e.unbind(t):e.off?e.off(t,i):e.unbind(t,i))},destroy:function(){this.removeHandler(e(window),"resize.jqxresponse"),this.removeHandler(e(document),"scroll.jqxresponse");for(var t=0;t<this._handlers.length;t++){var i=this._handlers[t];this.removeHandler(e(i),"mousedown.response"+i[0].id),this.removeHandler(e(i),"touchstart.response"+i[0].id),this.removeHandler(e(i),"mousemove.response"+i[0].id),this.removeHandler(e(i),"touchmove.response"+i[0].id),this.removeHandler(e(i),"mouseup.response"+i[0].id),this.removeHandler(e(i),"touchend.response"+i[0].id)}},resize:function(t){var i=this;this.removeHandler(e(window),"resize.jqxresponse"),this.addHandler(e(window),"resize.jqxresponse",function(){if(t)if(e.isArray(t))for(var r=0;r<t.length;r++)t[r]();else t();i.refreshSize()}),null==t&&this.removeHandler(e(window),"resize.jqxresponse")},pointerDown:function(t,i){if(t&&i){var r=e.jqx.mobile.isTouchDevice(),s=!0;if(r){var n=e.jqx.mobile.getTouchEventName("touchstart")+".response"+t[0].id;null!=i?this.addHandler(e(t),n,function(t){var r=e.jqx.position(t),n=i(t,r,"touch");return s=!1,setTimeout(function(){s=!0},500),n}):this.removeHandler(e(t),n)}null!=i?this.addHandler(e(t),"mousedown.response"+t[0].id,function(t){var r=e.jqx.position(t);return s?i(t,r,"mouse"):void 0}):this.removeHandler(e(t),"mousedown.response"+t[0].id),this._handlers.push(t)}},pointerUp:function(t,i){if(t){var r=e.jqx.mobile.isTouchDevice(),s=!0;if(r){var n=e.jqx.mobile.getTouchEventName("touchend")+".response"+t[0].id;null!=i?this.addHandler(e(t),n,function(t){var r=e.jqx.position(t),n=i(t,r,"touch");return s=!1,setTimeout(function(){s=!0},500),n}):this.removeHandler(e(t),n)}null!=i?this.addHandler(e(t),"mouseup.response"+t[0].id,function(t){var r=e.jqx.position(t);return s?i(t,r,"mouse"):void 0}):this.removeHandler(e(t),"mouseup.response"+t[0].id),this._handlers.push(t)}},pointerMove:function(t,i){if(t){var r=e.jqx.mobile.isTouchDevice();if(r){var s=e.jqx.mobile.getTouchEventName("touchmove")+".response"+t[0].id;null!=i?this.addHandler(e(t),s,function(t){var r=e.jqx.mobile.getTouches(t);if(1==r.length){var s=e.jqx.position(t);return i(t,s,"touch")}}):this.removeHandler(e(t),s)}else null!=i?this.addHandler(e(t),"mousemove.response"+t[0].id,function(t){var r=e.jqx.position(t);return i(t,r,"mouse")}):this.removeHandler(e(t),"mousemove.response"+t[0].id);this._handlers.push(t)}},isHidden:function(t){return e.jqx.isHidden(e(t))},inViewPort:function(e){var t=this.viewPort;if(e.getBoundingClientRect){var i=e.getBoundingClientRect?e.getBoundingClientRect():{};return i&&i.bottom>=0&&i.top<=t.height&&i.right>=0&&i.left<=t.width}return!1},getScroll:function(){var e={left:window.pageXOffset||document.scrollLeft,top:window.pageYOffset||document.scrollTop};return void 0==e.left&&(e.left=0),void 0==e.top&&(e.top=0),e},getDocument:function(){return{width:e(document).width(),height:e(document).height()}},getViewPort:function(){return{width:e(window).width(),height:e(window).height()}},getTouch:function(){var t="ontouchstart",i=t in window;if(i)return!0;var t="MSPointerDown",i=t in window;return i?!0:e.jqx.mobile.isWindowsPhone()?!0:!1},getDevice:function(){var e=this.os.name,t=window.location.search.match(/deviceType=(Tablet|Phone)/),i=window.deviceType,r="";return t&&t[1]?r=t[1]:"iPhone"===i?r="Phone":"iPad"===i?r="Tablet":"Android"!=e&&"iOS"!=e&&/Windows|Linux|MacOS|Mac OS|Mac OS X/.test(e)?r="Desktop":"iOS"==e&&navigator.userAgent.toLowerCase().indexOf("ipad")>=0?r="Tablet":"RIMTablet"==e?r="Tablet":"Android"==e?(r=this.os.version&&this.os.version.substring(0,1).indexOf("3")>=0?"Tablet":this.os.version&&this.os.version.substring(0,1).indexOf("4")>=0&&-1==navigator.userAgent.search(/mobile/i)?"Tablet":"Phone",navigator.userAgent.toLowerCase().indexOf("kindle fire")>=0&&(r="Tablet")):r="Phone",/Windows/.test(e)&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?r="Phone":navigator.userAgent.indexOf("Touch")>=0&&(r="Tablet",this.getTouch()||(r="Desktop"))),{type:r,touch:this.getTouch(),width:window.screen.width,height:window.screen.height,availWidth:window.screen.availWidth,availHeight:window.screen.availHeight}},canvas:function(){var e=!1,t=document.createElement("canvas");return t&&t.getContext&&t.getContext("2d")&&(e=!0),e},vml:function(){if(void 0==this._vmlSupport){var e=document.body.appendChild(document.createElement("div"));e.innerHTML='<v:shape id="vml_flag1" adj="1" />';var t=e.firstChild;t.style.behavior="url(#default#VML)",this._vmlSupport=t?"object"==typeof t.adj:!0,e.parentNode.removeChild(e)}return this._vmlSupport},svg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},getBrowser:function(){var t=navigator.userAgent.toLowerCase(),i="",r=null;if(browserNames={msie:{name:"Internet Explorer",eval:/(msie) ([\w.]+)/.exec(t)},webkit:{name:"Webkit",eval:/(webkit)[ \/]([\w.]+)/.exec(t)},chrome:{name:"Chrome",eval:/(chrome)[ \/]([\w.]+)/.exec(t)},safari:{name:"Safari",eval:/(safari)[ \/]([\w.]+)/.exec(t)},opera:{name:"Opera",eval:/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)},operamobile:{name:"Opera Mobile",eval:/(opera mobi)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(opera tablet)(?:.*version|)[ \/]([\w.]+)/.exec(t)},dolphin:{name:"Dolphin",eval:/(dolphin)[ \/]([\w.]+)/.exec(t)},webosbrowser:{name:"webOSBrowser",eval:/(wosbrowser)(?:.*version|)[ \/]([\w.]+)/.exec(t)},chromemobile:{name:"Chrome Mobile",eval:/(crmo)[ \/]([\w.]+)/.exec(t)},silk:{name:"Silk",eval:/(silk)[ \/]([\w.]+)/.exec(t)},firefox:{name:"Firefox",eval:/(firefox)[ \/]([\w.]+)/.exec(t)},msie11:{name:"Internet Explorer 11",eval:t.indexOf("rv:11.0")>=0&&t.indexOf(".net4.0c")>=0},winphone:{name:"Internet Explorer Mobile",eval:t.indexOf("windows phone 8.1")>=0},other:{name:"Other",eval:t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)}},e.each(browserNames,function(){if(this.eval)if("Other"==this.name)r||(r=this.eval,i=this.name);else if("Internet Explorer 11"==this.name)r||(r=["","msie",11],i="Internet Explorer");else if("Internet Explorer Mobile"==this.name)r||(r=["","msie",11],i="Internet Explorer");else{if("Chrome"==i&&"Safari"==this.name)return!0;r=this.eval,i=this.name}}),r){var s={name:i,accessName:r[1]||"",version:r[2]||"0",canvas:this.canvas(),svg:this.svg(),vml:this.vml()};s[r[1]]=r[1]}else s={name:"Other",browser:"other",version:""};return s},getOS:function(){var t=null,i="",r=navigator.userAgent,s="Other",n={ios:{name:"iOS",regex:new RegExp("(?:i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS )([^\\s;]+)")},android:{name:"Android",regex:new RegExp("(?:(Android |HTC_|Silk/))([^\\s;]+)")},webos:{name:"webOS",regex:new RegExp("(?:(?:webOS|hpwOS)/)([^\\s;]+)")},blackberry:{name:"BlackBerry",regex:new RegExp("(?:BlackBerry(?:.*)Version/)([^\\s;]+)")},rimTablet:{name:"RIMTablet",regex:new RegExp("(?:RIM Tablet OS )([^\\s;]+)")},chrome:{name:"Chrome OS",regex:new RegExp("CrOS")},mac:{name:"MacOS",regex:new RegExp("mac")},win:{name:"Windows",regex:new RegExp("win")},linux:{name:"Linux",regex:new RegExp("linux")},bada:{name:"Bada",regex:new RegExp("(?:Bada/)([^\\s;]+)")},other:{name:"Other"}},o="",a=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"BB10",r:/BB10/},{s:"MeeGo",r:/MeeGo/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var l in a){var h=a[l];if(h.r.test(r)){o=h.s;break}}var d="";switch(/Windows/.test(o)&&(d=/Windows (.*)/.exec(o)[1],o="Windows"),/BB10/.test(o)&&(d="10",o="BlackBerry"),s){case"Mac OS X":d=/Mac OS X (10[\.\_\d]+)/.exec(r)[1];break;case"Android":d=/Android ([\.\_\d]+)/.exec(r)[1];break;case"iOS":d=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer),d=d[1]+"."+d[2]+"."+(0|d[3])}return""!=d&&(i=d),e.each(n,function(){return t=r.match(this.regex)||r.toLowerCase().match(this.regex),t?(this.name.match(/Windows|Linux|MacOS/)||(i=!t[1]||"HTC_"!=t[1]&&"Silk/"!=t[1]?t[t.length-1]:"2.3"),s={name:this.name,version:i,platform:navigator.platform},!1):void 0}),s&&"Other"==s.name&&(s.name=o),s&&""!=s.name&&""!=o&&(s.name=o),s&&""==s.version&&""!=d&&(s.version=d),s}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNotification","",{}),e.extend(e.jqx._jqxNotification.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return e.extend(!0,this,t),t},createInstance:function(){var e=this;e.render(),1==e.autoOpen&&e.open()},render:function(){var t=this;if(0==t.host.hasClass("jqx-notification")){t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-notification")),t.host.css({zIndex:t.zIndex,display:"none",opacity:t.opacity}),t._container=t._notificationContainer(),t._appendContent(),t._setHoverFunctions(),t._instances=new Array,t._instanceKey=0;var i=e.data(document.body,"jqxNotifications");void 0==i&&(i=0),e.data(document.body,"jqxNotifications",i+1)}else t.refresh()},refresh:function(e){e||this._appendContent(!0)},open:function(){var e=this;if(0==e.disabled){var t=e.host.clone();t.removeAttr("id"),t.width(e.width),t.height(e.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&t.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&t.css("height",this.height),e.appendContainer||"bottom-left"!=e.position&&"bottom-right"!=e.position?(t.css("margin-bottom",e.notificationOffset),e._container.append(t)):(t.css("margin-top",e.notificationOffset),e._container.prepend(t)),e._addHandlers(t),t.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0")}),1==e.blink&&(t._blinkInterval=setInterval(function(){t.fadeTo(400,e.opacity/1.5,function(){t.fadeTo(400,e.opacity)})},850)),1==e.autoClose&&(t._autoCloseTimeout=setTimeout(function(){e._close(t)},e.autoCloseDelay)),t._key=e._instanceKey,e._instances[e._instanceKey]=t,e._instanceKey++}},closeAll:function(){for(var e=this,t=0;t<e._instances.length;t++)e._instances[t]&&e._close(e._instances[t])},closeLast:function(){for(var e=this,t=e._instances.length;t>=0;t--)if(e._instances[t]){e._close(e._instances[t]);break}},destroy:function(){var t=this;t.closeAll(),t.host.remove();var i=e.data(document.body,"jqxNotifications");e.data(document.body,"jqxNotifications",i-1),t._destroyContainers(i-1)},propertyChangedHandler:function(e,t,i,r){var s=this;if(r!=i)switch(t){case"width":case"height":var n=i.indexOf&&-1!=i.indexOf("%");n=void 0==n?!1:n;var o=r.indexOf&&-1!=r.indexOf("%");o=void 0==o?!1:o,o!=n&&(s[t]=i);break;case"appendContainer":case"position":s._container=s._notificationContainer();break;case"browserBoundsOffset":s.appendContainer||s._position(s._container);break;case"opacity":s.host.css("opacity",r);break;case"showCloseButton":case"template":case"icon":case"rtl":s._appendContent(!0)}},_raiseEvent:function(t,i){var r=this,s=r.events[t],n=new e.Event(s);n.owner=r,n.args=i;try{var o=r.host.trigger(n)}catch(a){}return o},_close:function(e){var t=this;t._instances[e._key]&&(t._instances[e._key]=!1,clearInterval(e._blinkInterval),clearTimeout(e._autoCloseTimeout),e.fadeOut(t.animationCloseDelay,function(){t._removeHandlers(e),e.remove(),t._raiseEvent("1")}))},_addHandlers:function(e){var t=this;if(t.addHandler(e,"click.notification"+t.element.id,function(){t._raiseEvent("2"),1==t.closeOnClick&&t._close(e)}),t.addHandler(e,"mouseenter.notification"+t.element.id,function(){e._blinkInterval||t.mouseenterFunction(e)}),t.addHandler(e,"mouseleave.notification"+t.element.id,function(){e._blinkInterval||"none"==e.css("display")||t.mouseleaveFunction(e)}),1==t.showCloseButton){var i=e.find(".jqx-notification-close-button");t.addHandler(i,"click.notification"+t.element.id,function(i){i.stopPropagation(),t._close(e)})}},_removeHandlers:function(e){var t=this;t.removeHandler(e,"click.notification"+t.element.id),t.removeHandler(e,"click.mouseenter"+t.element.id),t.removeHandler(e,"click.mouseleave"+t.element.id);var i=e.find(".jqx-notification-close-button");i.length>0&&t.removeHandler(i,"click.notification"+t.element.id)},_appendContent:function(t){var i,r=this,s=r.host.html();t||(i=r.host.children().detach()),t&&(r.host.removeAttr("class"),r.host.addClass(r.toThemeProperty("jqx-rc-all")),r.host.addClass(r.toThemeProperty("jqx-notification")));var n=e("<table class='"+r.toThemeProperty("jqx-notification-table")+"'></table>"),o=e("<tr></tr>");n.append(o);var a=r.rtl?"jqx-notification-content-rtl":"";if(t){var l=r.host.find(".jqx-notification-content");s=l.html(),i=l.detach(),r.rtl?l.addClass("jqx-notification-content-rtl"):l.removeClass("jqx-notification-content-rtl")}else var l=e("<td class='"+r.toThemeProperty("jqx-notification-content")+" "+a+"'></td>");o.html(l);var h,d=function(){0==r.rtl?(h.addClass("jqx-notification-icon-ltr"),l.before(h)):(h.addClass("jqx-notification-icon-rtl"),l.after(h))};if(r.template?(r.host.addClass("jqx-widget"),r.host.addClass("jqx-popup"),r.host.addClass("jqx-notification-"+r.template),h=e("<td class='"+r.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+r.template+"'></td>"),d()):(r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-popup")),r.host.addClass(r.toThemeProperty("jqx-fill-state-normal")),r.icon&&(h=e("<td class='"+r.toThemeProperty("jqx-notification-icon")+"'></td>"),r.icon.padding=r.icon.padding?parseInt(r.icon.padding):5,h.css({width:parseInt(r.icon.width)+r.icon.padding,height:r.icon.height,"background-image":"url('"+r.icon.url+"')"}),d())),1==r.showCloseButton){var c;c=r.template?"jqx-notification-close-button jqx-notification-close-button-"+r.template:r.toThemeProperty("jqx-icon-close")+" "+r.toThemeProperty("jqx-notification-close-button");var u=e("<td class='"+r.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+c+" "+r.element.id+"CloseButton' title='Close'></div></td>");
0==r.rtl?(u.find("div").addClass("jqx-notification-close-button-ltr"),l.after(u)):(u.find("div").addClass("jqx-notification-close-button-rtl"),l.before(u))}r.host[0].innerHTML="",r.host.append(n),i.length>0?r.host.find(".jqx-notification-content").append(i):r.host.find(".jqx-notification-content").html(s)},_position:function(e){var t,i,r,s,n=this;switch(n.position){case"top-right":t="",i=n.browserBoundsOffset,r=n.browserBoundsOffset,s="";break;case"top-left":t=n.browserBoundsOffset,i="",r=n.browserBoundsOffset,s="";break;case"bottom-left":t=n.browserBoundsOffset,i="",r="",s=n.browserBoundsOffset;break;case"bottom-right":t="",i=n.browserBoundsOffset,r="",s=n.browserBoundsOffset}e.css({left:t,right:i,top:r,bottom:s})},_notificationContainer:function(){var t,i=this;if(i.appendContainer){if(t=e(i.appendContainer),0==t.length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+i.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else t=e("#jqxNotificationDefaultContainer-"+i.position),0==t.length&&(e("body").append("<div id='jqxNotificationDefaultContainer-"+i.position+"' class='jqx-notification-container'></div>"),t=e("#jqxNotificationDefaultContainer-"+i.position),i.width.indexOf&&-1!=i.width.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-width")),i.height.indexOf&&-1!=i.height.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-height")),i._position(t));return t},_destroyContainers:function(t){0==t&&e(".jqx-notification-container").remove()},_setHoverFunctions:function(){var t=this,i=!1;"msie"==e.jqx.browser.browser&&"9.0"==e.jqx.browser.version&&(i=!0),0==i?(t.mouseenterFunction=function(e){e.fadeTo("fast",t.hoverOpacity)},t.mouseleaveFunction=function(e){e.fadeTo("fast",t.opacity)}):(t.mouseenterFunction=function(e){e.css("filter","alpha(opacity = "+100*t.hoverOpacity+")")},t.mouseleaveFunction=function(e){e.css("filter","alpha(opacity = "+100*t.opacity+")")})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTooltip","",{}),e.extend(e.jqx._jqxTooltip.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,opening:null,value:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return e.extend(!0,this,t),t},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice();var t=e.data(document.body,"_tooltipIDArray"+this.name);t?this.ID_Array=t:(this.ID_Array=new Array,e.data(document.body,"_tooltipIDArray"+this.name,this.ID_Array));var i=this._generatekey(),r="jqxtooltip"+i;this.ID_Array.push({tooltipID:r,tooltipHost:this.host});var s=e('<div id="'+r+'"><div id ="'+r+'Main"><div id="'+r+'Text"></div></div><div id="'+r+'Arrow"></div></div>');e.jqx.browser.msie&&s.addClass(this.toThemeProperty("jqx-noshadow")),e("body").append(s),this._setTheme();var n=e("#"+r);n.css("visibility","hidden"),n.css("display","none"),n.css("opacity",0),n.css("z-index",99999),0==this.showArrow&&(e("#"+r+"Arrow").css("visibility","hidden"),e("#"+r+"Arrow").css("display","none")),this._setSize(),this._setContent(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2==arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),0==this.disabled&&"removed"!=this._id())if("mouse"==this.position||"mouseenter"==this.position){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(t){var i=this;"object"==typeof t&&e.isEmptyObject(t)&&(t=this.animationHideDelay);var r=new Number(e(this._id()).css("opacity")).toFixed(2),s=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),e(i._id()).animate({opacity:0},t,function(){e(i._id()).css("visibility","hidden"),e(i._id()).css("display","none"),i._raiseEvent("1"),i._isOpen=!1})};return 0==this._isOpen&&0!=r?(e(i._id()).stop(),void s()):void(1==this._isOpen&&r==this.opacity&&s())},destroy:function(){var t=this.ID_Array.length;this._removeHandlers(),e(this._id()).remove();for(var i=0;t>i;i++)if(this.ID_Array[i].tooltipHost===this.host){this.ID_Array.splice(i,1);break}e(this.element).removeData("jqxTooltip")},refresh:function(t){if(1!=t){this.rtl&&(e(this._id()+"Text").addClass(this.toThemeProperty("jqx-rtl")),e(this._id()+"Text").css({direction:"rtl"}));var i=this,r=new Number(e(this._id()).css("opacity")).toFixed(2);"removed"!=this._id()&&(1==this.disabled&&1==this._isOpen&&r==this.opacity&&(clearTimeout(this.autoHideTimeout),e(this._id()).stop(),e(this._id()).animate({opacity:0},this.animationHideDelay,function(){e(i._id()).css("visibility","hidden"),e(i._id()).css("display","none"),i._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!=this.position&&"mouseenter"!=this.position&&this._setPosition(),this._removeHandlers(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(e,t){"content"==t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;try{var n=this.host.trigger(s)}catch(o){}return n},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,t,i=this.ID_Array.length,r=0;i>r;r++)if(this.ID_Array[r].tooltipHost===this.host){e=this.ID_Array[r].tooltipID,t="#"+e;break}return void 0==t&&(t="removed"),t},_setPosition:function(t){if(0==this._isOpen&&0==e(this._id()).css("opacity")||1==this.changeContentFlag){if(!t&&("mouse"==this.position||"mouseenter"==this.position))return;e(this._id()).css("display","block"),this.changeContentFlag=!1,this.documentTop=e(document).scrollTop(),this.documentLeft=e(document).scrollLeft(),this.windowWidth=e(window).width(),this.windowHeight=e(window).height(),this.host_width=this.host.outerWidth(),this.host_height=this.host.outerHeight(),this.tooltip_width=e(this._id()).width(),this.tooltip_height=e(this._id()).height(),this.host_offset=this.host.offset(),this.tooltip_offset=e(this._id()).offset(),this.default_offset=30,this.offset_horizontal=parseInt(this.left),this.offset_vertical=parseInt(this.top);var i=e(this._id()+"Arrow"),r=e(this._id()+"Main");switch(this.arrow_size=5,this.tooltip_main_offset=r.offset(),this.tooltip_arrow_offset,this.position){case"top":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(r.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(r.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"left":this.tooltip_offset.left=-1+this.host_offset.left-this.tooltip_width-this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=r.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=1+this.tooltip_main_offset.left+r.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"right":this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this.tooltip_offset.top=parseInt(this.tooltip_offset.top),this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+r.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+r.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"absolute":e(this._id()).offset({top:this.absolutePositionY,left:this.absolutePositionX}),i.css({"border-width":"0px"});break;case"mouse":var s=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){s.tooltip_offset.left=t.pageX+10,s.tooltip_offset.top=t.pageY+10,s._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltip_offset.left=t.pageX+10,this.tooltip_offset.top=t.pageY+10,this._detectBrowserBounds()}else{var n=t.pageX,o=t.pageY;if(t.originalEvent){var a=null;if(t.originalEvent.touches&&t.originalEvent.touches.length)var a=t.originalEvent.touches[0];else if(t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length)var a=t.originalEvent.changedTouches[0];void 0!=a&&(n=a.pageX,o=a.pageY)}this.tooltip_offset.left=n+10,this.tooltip_offset.top=o+10,this._detectBrowserBounds()}i.css({"border-width":"0px"});break;case"mouseenter":var l={top:t.pageY,left:t.pageX};l.top<this.host_offset.top+10&&l.top>this.host_offset.top-10?(this.tooltip_offset.left=l.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(r.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.top<this.host_offset.top+this.host_height+10&&l.top>this.host_offset.top+this.host_height-10?(this.tooltip_offset.left=l.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(r.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.left<this.host_offset.left+10&&l.left>this.host_offset.left-10?(this.tooltip_offset.left=this.host_offset.left-this.tooltip_width-this.arrow_size,this.tooltip_offset.top=l.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=r.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+r.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.left<this.host_offset.left+this.host_width+10&&l.left>this.host_offset.left+this.host_width-10&&(this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size,this.tooltip_offset.top=l.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_main_offset=r.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left}));break;case"default":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}}},_setContent:function(){e(this._id()+"Text").html(this.content)},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var t=new Number(e(this._id()).css("opacity")).toFixed(2);if(0==this._isOpen&&0==t){var i=this,r=e(this._id());if(r.css("visibility","visible"),r.css("display","block"),r.stop(),r.css("opacity",0),this.opening){var s=this.opening(this);if(s===!1)return}r.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0;e.data(document.body,"_openedTooltip"+i.name);i.openedTooltip=i,e.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&i.autoHide===!0&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!=this._id()){this._enterFlag,this._leaveFlag;var t=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":"mouse"==this.position?(this.addHandler(this.host,"mousemove.tooltip",function(e){1==t._enterFlag&&(t._raiseEvent("2"),t._setPosition(e),clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._animateShow(),t._enterFlag=0},t.showDelay))}),this.addHandler(this.host,"mouseenter.tooltip",function(){0!=t._leaveFlag&&(t._enterFlag=1)}),this.addHandler(this.host,"mouseleave.tooltip",function(i){t._leaveFlag=1,clearTimeout(t.hoverShowTimeout);var r=e(t._id()).offset(),s=e(t._id()).width(),n=e(t._id()).height();(parseInt(i.pageX)<parseInt(r.left)||parseInt(i.pageX)>parseInt(r.left)+s)&&t.close(),(parseInt(i.pageY)<parseInt(r.top)||parseInt(i.pageY)>parseInt(r.top)+n)&&t.close()}),this.addHandler(e(this._id()),"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!=t._clickFlag&&0!=t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.close())})):(this.addHandler(this.host,"mouseenter.tooltip",function(e){clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._raiseEvent("2"),t._setPosition(e),t._animateShow()},t.showDelay)}),this.addHandler(this.host,"mouseleave.tooltip",function(i){if(t._leaveFlag=1,clearTimeout(t.hoverShowTimeout),t.autoHide){var r=i.pageX,s=i.pageY,n=e(t._id()).offset(),o=n.left,a=n.top,l=e(t._id()).width(),h=e(t._id()).height();(parseInt(r)<parseInt(o)||parseInt(r)>parseInt(o)+l||parseInt(s)<parseInt(a)||parseInt(s)>parseInt(a)+h)&&t.close()}}),this.addHandler(e(this._id()),"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!=t._clickFlag&&0!=t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.autoHide&&t.close())}));break;case"click":this.addHandler(this.host,"click.tooltip",function(e){"mouseenter"==t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()});break;case"none":}else"none"!=this.trigger&&this.addHandler(this.host,"touchstart.tooltip",function(e){"mouseenter"==t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}},_autoHide:function(){var t=this,i=new Number(e(this._id()).css("opacity")).toFixed(2);1==this.autoHide&&1==this._isOpen&&i>=this.opacity&&(t._raiseEvent("3"),e(t._id()).animate({opacity:0},t.animationHideDelay,function(){e(t._id()).css("visibility","hidden"),e(t._id()).css("display","none"),t._raiseEvent("1"),t._isOpen=!1}))},_clickHide:function(){var t=this;this.addHandler(e(this._id()),"click.tooltip",function(e){t._checkBoundariesClick(e),t.close()})},_setSize:function(){e(this._id()).css({width:this.width,height:this.height})},resize:function(){this._setSize()},_setTheme:function(){var t=this._id(),i=e(t+"Main"),r=e(t+"Text"),s=e(t+"Arrow");i.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-fill-state-normal")),e(t).addClass(this.toThemeProperty("jqx-tooltip")),e(t).addClass(this.toThemeProperty("jqx-popup")),i.addClass(this.toThemeProperty("jqx-tooltip-main")),r.addClass(this.toThemeProperty("jqx-tooltip-text")),s.addClass(this.toThemeProperty("jqx-tooltip-arrow"))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var t=this._id();e(t).offset(this.enableBrowserBoundsDetection?this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left<0?{top:this.documentTop,left:this.documentLeft}:this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?{top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltip_width}:this.tooltip_offset.top<this.documentTop?{top:this.documentTop,left:this.tooltip_offset.left}:this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left<0?{top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.documentLeft}:this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?{top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.windowWidth+this.documentLeft-this.tooltip_width}:this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop?{top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.tooltip_offset.left}:this.tooltip_offset.left<0?{top:this.tooltip_offset.top,left:this.documentLeft}:this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?{top:this.tooltip_offset.top,left:this.windowWidth+this.documentLeft-this.tooltip_width}:{top:this.tooltip_offset.top,left:this.tooltip_offset.left}:{top:this.tooltip_offset.top,left:this.tooltip_offset.left})},_checkBoundaries:function(e){return e.pageX>=this.host_offset.left&&e.pageX<=this.host_offset.left+this.host_width&&e.pageY>=this.host_offset.top&&e.pageY<=this.host_offset.top+this.host_height?!0:!1},_checkBoundariesClick:function(e){this._clickFlag=this._checkBoundaries(e)?1:0},_checkBoundariesAuto:function(e){this._autoFlag=this._checkBoundaries(e)?1:0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(e(this._id()),"click.tooltip"),this.removeHandler(e(this._id()),"mouseleave.tooltip")},_closeAll:function(){for(var t=this.ID_Array.length,i=0;t>i;i++){var r="#"+this.ID_Array[i].tooltipID;r!=this._id()&&(e(r).css({opacity:0,visibility:"hidden",display:"none"}),this._isOpen=!1)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRating","",{}),e.extend(e.jqx._jqxRating.prototype,{defineInstance:function(){var t={count:5,disabled:!1,value:0,height:"auto",width:"auto",precision:1,singleVote:!1,itemHeight:"20",itemWidth:"20",_itemHeight:void 0,_itemWidth:void 0,_images:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["change"],_invalidArgumentExceptions:{invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}};return e.extend(!0,this,t),t},createInstance:function(){e.jqx.aria(this),this._createRating()},destroy:function(){this.host.remove()},val:function(e){return 0==arguments.length||"object"==typeof e?this.value:(this.value="string"==typeof e?parseInt(e):e,this.setValue(this.value),this.value)},_createRating:function(){this.host.css("display","none"),this.host.empty(),this._addInput(),this._validateProperties(),this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this.host.css("display","block"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable()},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.value.toString())},_render:function(){for(var t=1;t<=this.count;t++)this._images[t-1]=e('<div style="float:left;width:auto;height:auto;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>'),this.host.append(this._images[t-1])},_performLayout:function(){for(var e=1;e<=this.count;e++){var t=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-backward",!0)),i=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-default",!0)),r=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-hover",!0)),s=this._getImageName(i),n=this._getImageName(r),o=this._getImageName(t);i.css("background-image","none"),r.css("background-image","none"),t.css("background-image","none"),this._appendImage(r,n,e-1),this._appendImage(t,o,e-1),this._appendImage(i,s,e-1)}},resize:function(e,t){this.width=e,this.height=t,this._setControlSize(this.width,this.height)},_setControlSize:function(e,t){this.host.css("height",this.height),this.host.css("width",this.width),this._itemHeight=this.itemHeight&&"auto"!==this.itemHeight?parseInt(this.itemHeight):t,this._itemWidth=this.itemWidth&&"auto"!==this.itemWidth?parseInt(this.itemWidth):e},_appendImage:function(t,i,r){var s=this,n=e('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+i+'" />');return t.append(n),n.load(function(){s._initialized||(s._setControlSize(e(this).width(),e(this).height()),s._setValue(s.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s._initialized=!0),s._images[r].height(s._itemHeight),e(this).height(s._itemHeight),s._images[r].width(s._itemWidth),e(this).width(s._itemWidth)}),n},_validateProperties:function(){try{if(this.precision<.001||this.precision>1)throw this._invalidArgumentExceptions.invalidPrecision;if("auto"!==this.height&&parseInt(this.height)<0)throw this._invalidArgumentExceptions.invalidHeight;if("auto"!==this.width&&parseInt(this.width)<0)throw this._invalidArgumentExceptions.invalidWidth;if(this.count<=0)throw this._invalidArgumentExceptions.invalidCount;if(this.value>this.count||this.value<0)throw this._invalidArgumentExceptions.invalidValue}catch(e){alert(e)}},_getImageIndex:function(e){for(var t=0;e!==this._images[t][0];)t++;return++t},_getRating:function(t,i){var r=this._getImageIndex(t);if(this.precision<1){for(var s=parseInt(i)-parseInt(e(t).position().left),n=this._itemWidth*this.precision,o=0;s>o;)o+=n;o>parseInt(this._itemWidth)-n&&(o=parseInt(this._itemWidth));var a=o/e(t).width();r-=1-a}return r},_addEventHandlers:function(){for(var t=this,i=0;i<this.count;i++)e.jqx.mobile.isTouchDevice()||(this.addHandler(this._images[i],"mousemove",function(e){var i=t._getRating(this,e.pageX);t._setValue(i,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")}),this.addHandler(this._images[i],"mouseenter",function(){for(var e=t._getImageIndex(this),i=0;e>i;i++)t._images[i].children(".jqx-rating-hoverWrapper").css("z-index","10"),t._images[i].children(".jqx-rating-voteWrapper").css("z-index","1"),t._images[i].children(".jqx-rating-hoverWrapper").css("visibility","visible")}),this.addHandler(this._images[i],"mouseleave",function(){for(var e=t._getImageIndex(this),i=0;e>i;i++)t._images[i].children(".jqx-rating-voteWrapper").css("z-index","10"),t._images[i].children(".jqx-rating-hoverWrapper").css("z-index","1"),t._images[i].children(".jqx-rating-hoverWrapper").css("visibility","hidden")})),this.addHandler(this._images[i],"click",function(e){var i=t._getRating(this,e.pageX);t._setValue(i,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),t.singleVote&&t.disable(),e.stopPropagation(),t._raiseEvent(0,i)}),this.addHandler(this._images[i],"dragstart",function(){return!1})},_removeEventHandlers:function(){for(var e=0;e<this.count;e++)this.removeHandler(this._images[e],"mousemove"),this.removeHandler(this._images[e],"mouseenter"),this.removeHandler(this._images[e],"mouseleave"),this.removeHandler(this._images[e],"click"),this.removeHandler(this._images[e],"dragstart")},_getImageName:function(e){var t=e.css("background-image");return t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")","")},_setValue:function(t,i,r,s){for(var n=1;n<=this.count;n++){var o=1,a=this._images[n-1].children(i),l=a.children(r),h=a.children(s);n>t&&(o=Math.abs(n-t)<1?1-Math.abs(n-t):0),l.width(this._itemWidth*o),h.width(this._itemWidth-parseInt(l.width())),a.children(this.toThemeProperty(s)).children(0).css("margin-left",-this._itemWidth*o+"px")}e.jqx.aria(this,"aria-valuenow",t)},_raiseEvent:function(t,i){var r=new e.Event(this._events[t]);return r.owner=this,r.value=i,r.oldvalue=this.value,this.value=i,this.input&&this.input.val(this.value.toString()),this.host.trigger(r)},setValue:function(e){this._setValue(e,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),this.value=e,this._raiseEvent(0,this.value)},getValue:function(){return this.value
},disable:function(){this._removeEventHandlers(),this.disabled=!0,e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._removeEventHandlers(),this._addEventHandlers(),this.disabled=!1,e.jqx.aria(this,"aria-disabled",!1)},propertyChangedHandler:function(e,t,i,r){return"disabled"===t?void(r?this.disable():this.enable()):void("value"===t?e.setValue(r):e._createRating())}})}(jqxBaseFramework),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(i,r){if(!(this instanceof e))return new e(i,r);this.options=r=r?Bn(r):{},Bn(Uo,r,!1),p(r);var s=r.value;"string"==typeof s&&(s=new fa(s,r.mode)),this.doc=s;var n=new e.inputStyles[r.inputStyle](this),o=this.display=new t(i,s,n);o.wrapper.CodeMirror=this,h(this),a(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!bo&&o.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new yn,keySeq:null};var l=this;ho&&11>co&&setTimeout(function(){l.display.input.reset(!0)},20),Oi(this),Rn(),vi(this),this.curOp.forceUpdate=!0,Rs(this,s),r.autofocus&&!bo||l.hasFocus()?setTimeout(Hn(hr,this),20):dr(this);for(var d in $o)$o.hasOwnProperty(d)&&$o[d](this,r[d],Vo);y(this),r.finishInit&&r.finishInit(this);for(var c=0;c<Ko.length;++c)Ko[c](this);xi(this),uo&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t,i){var r=this;this.input=i,r.scrollbarFiller=Dn("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=Dn("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Dn("div",null,"CodeMirror-code"),r.selectionDiv=Dn("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=Dn("div",null,"CodeMirror-cursors"),r.measure=Dn("div",null,"CodeMirror-measure"),r.lineMeasure=Dn("div",null,"CodeMirror-measure"),r.lineSpace=Dn("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=Dn("div",[Dn("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Dn("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=Dn("div",null,null,"position: absolute; height: "+Ca+"px; width: 1px;"),r.gutters=Dn("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=Dn("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Dn("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),ho&&8>co&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),uo||oo&&bo||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,i.init(r)}function i(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,At(e,100),e.state.modeGen++,e.curOp&&zi(e)}function s(e){e.options.lineWrapping?(Na(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Oa(e.display.wrapper,"CodeMirror-wrap"),u(e)),o(e),zi(e),si(e),setTimeout(function(){w(e)},100)}function n(e){var t=mi(e.display),i=e.options.lineWrapping,r=i&&Math.max(5,e.display.scroller.clientWidth/gi(e.display)-3);return function(s){if(fs(e.doc,s))return 0;var n=0;if(s.widgets)for(var o=0;o<s.widgets.length;o++)s.widgets[o].height&&(n+=s.widgets[o].height);return i?n+(Math.ceil(s.text.length/r)||1)*t:n+t}}function o(e){var t=e.doc,i=n(e);t.iter(function(e){var t=i(e);t!=e.height&&Vs(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),si(e)}function l(e){h(e),zi(e),setTimeout(function(){_(e)},20)}function h(e){var t=e.display.gutters,i=e.options.gutters;An(t);for(var r=0;r<i.length;++r){var s=i[r],n=t.appendChild(Dn("div",null,"CodeMirror-gutter "+s));"CodeMirror-linenumbers"==s&&(e.display.lineGutter=n,n.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",d(e)}function d(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function c(e){if(0==e.height)return 0;for(var t,i=e.text.length,r=e;t=as(r);){var s=t.find(0,!0);r=s.from.line,i+=s.from.ch-s.to.ch}for(r=e;t=ls(r);){var s=t.find(0,!0);i-=r.text.length-s.from.ch,r=s.to.line,i+=r.text.length-s.to.ch}return i}function u(e){var t=e.display,i=e.doc;t.maxLine=Fs(i,i.first),t.maxLineLength=c(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=c(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}function p(e){var t=Tn(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function f(e){var t=e.display,i=t.gutters.offsetWidth,r=Math.round(e.doc.height+Wt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:r,scrollHeight:r+Ft(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}function m(e,t,i){this.cm=i;var r=this.vert=Dn("div",[Dn("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),s=this.horiz=Dn("div",[Dn("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(s),ba(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ba(s,"scroll",function(){s.clientWidth&&t(s.scrollLeft,"horizontal")}),this.checkedOverlay=!1,ho&&8>co&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Oa(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ba(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,i){"horizontal"==i?Zi(t,e):Ji(t,e)},t),t.display.scrollbars.addClass&&Na(t.display.wrapper,t.display.scrollbars.addClass)}function w(e,t){t||(t=f(e));var i=e.display.barWidth,r=e.display.barHeight;x(e,t);for(var s=0;4>s&&i!=e.display.barWidth||r!=e.display.barHeight;s++)i!=e.display.barWidth&&e.options.lineWrapping&&H(e),x(e,f(e)),i=e.display.barWidth,r=e.display.barHeight}function x(e,t){var i=e.display,r=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=r.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=r.bottom)+"px",r.right&&r.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=r.bottom+"px",i.scrollbarFiller.style.width=r.right+"px"):i.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=r.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}function b(e,t,i){var r=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;r=Math.floor(r-Nt(e));var s=i&&null!=i.bottom?i.bottom:r+e.wrapper.clientHeight,n=Xs(t,r),o=Xs(t,s);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;n>a?(n=a,o=Xs(t,Ys(Fs(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(n=Xs(t,Ys(Fs(t,l))-e.wrapper.clientHeight),o=l)}return{from:n,to:Math.max(o,n+1)}}function _(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=C(t)-t.scroller.scrollLeft+e.doc.scrollLeft,s=t.gutters.offsetWidth,n=r+"px",o=0;o<i.length;o++)if(!i[o].hidden){e.options.fixedGutter&&i[o].gutter&&(i[o].gutter.style.left=n);var a=i[o].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=n}e.options.fixedGutter&&(t.gutters.style.left=r+s+"px")}}function y(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=j(e.options,t.first+t.size-1),r=e.display;if(i.length!=r.lineNumChars){var s=r.measure.appendChild(Dn("div",[Dn("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),n=s.firstChild.offsetWidth,o=s.offsetWidth-n;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(n,r.lineGutter.offsetWidth-o),r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?i.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",d(e),!0}return!1}function j(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function C(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function q(e,t,i){var r=e.display;this.viewport=t,this.visible=b(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Ut(e),this.force=i,this.dims=L(e),this.events=[]}function T(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ft(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ft(e)+"px",t.scrollbarsClipped=!0)}function S(e,t){var i=e.display,r=e.doc;if(t.editorIsHidden)return Pi(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Mi(e))return!1;y(e)&&(Pi(e),t.dims=L(e));var s=r.first+r.size,n=Math.max(t.visible.from-e.options.viewportMargin,r.first),o=Math.min(s,t.visible.to+e.options.viewportMargin);i.viewFrom<n&&n-i.viewFrom<20&&(n=Math.max(r.first,i.viewFrom)),i.viewTo>o&&i.viewTo-o<20&&(o=Math.min(s,i.viewTo)),So&&(n=us(e.doc,n),o=ps(e.doc,o));var a=n!=i.viewFrom||o!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;Ei(e,n,o),i.viewOffset=Ys(Fs(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var l=Mi(e);if(!a&&0==l&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var h=Mn();return l>4&&(i.lineDiv.style.display="none"),P(e,i.updateLineNumbers,t.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,h&&Mn()!=h&&h.offsetHeight&&h.focus(),An(i.cursorDiv),An(i.selectionDiv),i.gutters.style.height=0,a&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,At(e,400)),i.updateLineNumbers=null,!0}function I(e,t){for(var i=t.force,r=t.viewport,s=!0;;s=!1){if(s&&e.options.lineWrapping&&t.oldDisplayWidth!=Ut(e))i=!0;else if(i=!1,r&&null!=r.top&&(r={top:Math.min(e.doc.height+Wt(e.display)-$t(e),r.top)}),t.visible=b(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!S(e,t))break;H(e);var n=f(e);Ht(e),B(e,n),w(e,n)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function k(e,t){var i=new q(e,t);if(S(e,i)){H(e),I(e,i);var r=f(e);Ht(e),B(e,r),w(e,r),i.finish()}}function B(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var i=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=i+"px",e.display.gutters.style.height=Math.max(i+Ft(e),t.clientHeight)+"px"}function H(e){for(var t=e.display,i=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var s,n=t.view[r];if(!n.hidden){if(ho&&8>co){var o=n.node.offsetTop+n.node.offsetHeight;s=o-i,i=o}else{var a=n.node.getBoundingClientRect();s=a.bottom-a.top}var l=n.line.height-s;if(2>s&&(s=mi(t)),(l>.001||-.001>l)&&(Vs(n.line,s),z(n.line),n.rest))for(var h=0;h<n.rest.length;h++)z(n.rest[h])}}}function z(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function L(e){for(var t=e.display,i={},r={},s=t.gutters.clientLeft,n=t.gutters.firstChild,o=0;n;n=n.nextSibling,++o)i[e.options.gutters[o]]=n.offsetLeft+n.clientLeft+s,r[e.options.gutters[o]]=n.clientWidth;return{fixedPos:C(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function P(e,t,i){function r(t){var i=t.nextSibling;return uo&&_o&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var s=e.display,n=e.options.lineNumbers,o=s.lineDiv,a=o.firstChild,l=s.view,h=s.viewFrom,d=0;d<l.length;d++){var c=l[d];if(c.hidden);else if(c.node&&c.node.parentNode==o){for(;a!=c.node;)a=r(a);var u=n&&null!=t&&h>=t&&c.lineNumber;c.changes&&(Tn(c.changes,"gutter")>-1&&(u=!1),D(e,c,h,i)),u&&(An(c.lineNumber),c.lineNumber.appendChild(document.createTextNode(j(e.options,h)))),a=c.node.nextSibling}else{var p=F(e,c,h,i);o.insertBefore(p,a)}h+=c.size}for(;a;)a=r(a)}function D(e,t,i,r){for(var s=0;s<t.changes.length;s++){var n=t.changes[s];"text"==n?O(e,t):"gutter"==n?W(e,t,i,r):"class"==n?N(t):"widget"==n&&R(e,t,r)}t.changes=null}function A(e){return e.node==e.text&&(e.node=Dn("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ho&&8>co&&(e.node.style.zIndex=2)),e.node}function E(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var i=A(e);e.background=i.insertBefore(Dn("div",null,t),i.firstChild)}}function M(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Bs(e,t)}function O(e,t){var i=t.text.className,r=M(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,N(t)):i&&(t.text.className=i)}function N(e){E(e),e.line.wrapClass?A(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function W(e,t,i,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var s=t.line.gutterMarkers;if(e.options.lineNumbers||s){var n=A(t),o=t.gutter=Dn("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px");if(e.display.input.setUneditable(o),n.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!e.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(Dn("div",j(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),s)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],h=s.hasOwnProperty(l)&&s[l];h&&o.appendChild(Dn("div",[h],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function R(e,t,i){t.alignable&&(t.alignable=null);for(var r,s=t.node.firstChild;s;s=r){var r=s.nextSibling;"CodeMirror-linewidget"==s.className&&t.node.removeChild(s)}U(e,t,i)}function F(e,t,i,r){var s=M(e,t);return t.text=t.node=s.pre,s.bgClass&&(t.bgClass=s.bgClass),s.textClass&&(t.textClass=s.textClass),N(t),W(e,t,i,r),U(e,t,r),t.node}function U(e,t,i){if($(e,t.line,t,i,!0),t.rest)for(var r=0;r<t.rest.length;r++)$(e,t.rest[r],t,i,!1)}function $(e,t,i,r,s){if(t.widgets)for(var n=A(i),o=0,a=t.widgets;o<a.length;++o){var l=a[o],h=Dn("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||h.setAttribute("cm-ignore-events","true"),V(l,h,i,r),e.display.input.setUneditable(h),s&&l.above?n.insertBefore(h,i.gutter||i.text):n.appendChild(h),gn(l,"redraw")}}function V(e,t,i,r){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var s=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(s-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=s+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function G(e){return Io(e.line,e.ch)}function X(e,t){return ko(e,t)<0?t:e}function Y(e,t){return ko(e,t)<0?e:t}function K(e){e.state.focused||(e.display.input.focus(),hr(e))}function J(e){return e.options.readOnly||e.doc.cantEdit}function Z(e,t,i,r){var s=e.doc;e.display.shift=!1,r||(r=s.sel);var n=Fa(t),o=null;e.state.pasteIncoming&&r.ranges.length>1&&(Bo&&Bo.join("\n")==t?o=r.ranges.length%Bo.length==0&&Sn(Bo,Fa):n.length==r.ranges.length&&(o=Sn(n,function(e){return[e]})));for(var a=r.ranges.length-1;a>=0;a--){var l=r.ranges[a],h=l.from(),d=l.to();l.empty()&&(i&&i>0?h=Io(h.line,h.ch-i):e.state.overwrite&&!e.state.pasteIncoming&&(d=Io(d.line,Math.min(Fs(s,d.line).text.length,d.ch+qn(n).length))));var c=e.curOp.updateInput,u={from:h,to:d,text:o?o[a%o.length]:n,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(wr(e.doc,u),gn(e,"inputRead",e,u),t&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&l.head.ch<100&&(!a||r.ranges[a-1].head.line!=l.head.line)){var p=e.getModeAt(l.head),f=Fo(u);if(p.electricChars){for(var m=0;m<p.electricChars.length;m++)if(t.indexOf(p.electricChars.charAt(m))>-1){zr(e,f.line,"smart");break}}else p.electricInput&&p.electricInput.test(Fs(s,f.line).text.slice(0,f.ch))&&zr(e,f.line,"smart")}}Br(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Q(e){for(var t=[],i=[],r=0;r<e.doc.sel.ranges.length;r++){var s=e.doc.sel.ranges[r].head.line,n={anchor:Io(s,0),head:Io(s+1,0)};i.push(n),t.push(e.getRange(n.anchor,n.head))}return{text:t,ranges:i}}function et(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function tt(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new yn,this.inaccurateSelection=!1,this.hasSelection=!1}function it(){var e=Dn("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Dn("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return uo?e.style.width="1000px":e.setAttribute("wrap","off"),xo&&(e.style.border="1px solid black"),et(e),t}function rt(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new yn}function st(e,t){var i=Kt(e,t.line);if(!i||i.hidden)return null;var r=Fs(e.doc,t.line),s=Gt(i,r,t.line),n=Ks(r),o="left";if(n){var a=io(n,t.ch);o=a%2?"right":"left"}var l=Qt(s.map,t.ch,"left");return l.offset="right"==l.collapse?l.end:l.start,l}function nt(e,t){return t&&(e.bad=!0),e}function ot(e,t,i){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[i],!r)return nt(e.clipPos(Io(e.display.viewTo-1)),!0);t=null,i=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var s=0;s<e.display.view.length;s++){var n=e.display.view[s];if(n.node==r)return at(n,t,i)}}function at(e,t,i){function r(t,i,r){for(var s=-1;s<(d?d.length:0);s++)for(var n=0>s?h.map:d[s],o=0;o<n.length;o+=3){var a=n[o+2];if(a==t||a==i){var l=Gs(0>s?e.line:e.rest[s]),c=n[o]+r;return(0>r||a!=t)&&(c=n[o+(r?1:0)]),Io(l,c)}}}var s=e.text.firstChild,n=!1;if(!t||!Aa(s,t))return nt(Io(Gs(e.line),0),!0);if(t==s&&(n=!0,t=s.childNodes[i],i=0,!t)){var o=e.rest?qn(e.rest):e.line;return nt(Io(Gs(o),o.text.length),n)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,i&&(i=a.nodeValue.length));l.parentNode!=s;)l=l.parentNode;var h=e.measure,d=h.maps,c=r(a,l,i);if(c)return nt(c,n);for(var u=l.nextSibling,p=a?a.nodeValue.length-i:0;u;u=u.nextSibling){if(c=r(u,u.firstChild,0))return nt(Io(c.line,c.ch-p),n);p+=u.textContent.length}for(var f=l.previousSibling,p=i;f;f=f.previousSibling){if(c=r(f,f.firstChild,-1))return nt(Io(c.line,c.ch+p),n);p+=u.textContent.length}}function lt(e,t,i,r,s){function n(e){return function(t){return t.id==e}}function o(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(null!=i)return""==i&&(i=t.textContent.replace(/\u200b/g,"")),void(a+=i);var h,d=t.getAttribute("cm-marker");if(d){var c=e.findMarks(Io(r,0),Io(s+1,0),n(+d));return void(c.length&&(h=c[0].find())&&(a+=Us(e.doc,h.from,h.to).join("\n")))}if("false"==t.getAttribute("contenteditable"))return;for(var u=0;u<t.childNodes.length;u++)o(t.childNodes[u]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;l&&(a+="\n",l=!1),a+=p}}for(var a="",l=!1;o(t),t!=i;)t=t.nextSibling;return a}function ht(e,t){this.ranges=e,this.primIndex=t}function dt(e,t){this.anchor=e,this.head=t}function ct(e,t){var i=e[t];e.sort(function(e,t){return ko(e.from(),t.from())}),t=Tn(e,i);for(var r=1;r<e.length;r++){var s=e[r],n=e[r-1];if(ko(n.to(),s.from())>=0){var o=Y(n.from(),s.from()),a=X(n.to(),s.to()),l=n.empty()?s.from()==s.head:n.from()==n.head;t>=r&&--t,e.splice(--r,2,new dt(l?a:o,l?o:a))}}return new ht(e,t)}function ut(e,t){return new ht([new dt(e,t||e)],0)}function pt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ft(e,t){if(t.line<e.first)return Io(e.first,0);var i=e.first+e.size-1;return t.line>i?Io(i,Fs(e,i).text.length):mt(t,Fs(e,t.line).text.length)}function mt(e,t){var i=e.ch;return null==i||i>t?Io(e.line,t):0>i?Io(e.line,0):e}function gt(e,t){return t>=e.first&&t<e.first+e.size}function vt(e,t){for(var i=[],r=0;r<t.length;r++)i[r]=ft(e,t[r]);return i}function wt(e,t,i,r){if(e.cm&&e.cm.display.shift||e.extend){var s=t.anchor;if(r){var n=ko(i,s)<0;n!=ko(r,s)<0?(s=i,i=r):n!=ko(i,r)<0&&(i=r)}return new dt(s,i)}return new dt(r||i,i)}function xt(e,t,i,r){qt(e,new ht([wt(e,e.sel.primary(),t,i)],0),r)}function bt(e,t,i){for(var r=[],s=0;s<e.sel.ranges.length;s++)r[s]=wt(e,e.sel.ranges[s],t[s],null);var n=ct(r,e.sel.primIndex);qt(e,n,i)}function _t(e,t,i,r){var s=e.sel.ranges.slice(0);s[t]=i,qt(e,ct(s,e.sel.primIndex),r)}function yt(e,t,i,r){qt(e,ut(t,i),r)}function jt(e,t){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new dt(ft(e,t[i].anchor),ft(e,t[i].head))}};return ya(e,"beforeSelectionChange",e,i),e.cm&&ya(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?ct(i.ranges,i.ranges.length-1):t}function Ct(e,t,i){var r=e.history.done,s=qn(r);s&&s.ranges?(r[r.length-1]=t,Tt(e,t,i)):qt(e,t,i)}function qt(e,t,i){Tt(e,t,i),sn(e,e.sel,e.cm?e.cm.curOp.id:0/0,i)}function Tt(e,t,i){(bn(e,"beforeSelectionChange")||e.cm&&bn(e.cm,"beforeSelectionChange"))&&(t=jt(e,t));var r=i&&i.bias||(ko(t.primary().head,e.sel.primary().head)<0?-1:1);St(e,kt(e,t,r,!0)),i&&i.scroll===!1||!e.cm||Br(e.cm)}function St(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,xn(e.cm)),gn(e,"cursorActivity",e))}function It(e){St(e,kt(e,e.sel,null,!1),Ta)}function kt(e,t,i,r){for(var s,n=0;n<t.ranges.length;n++){var o=t.ranges[n],a=Bt(e,o.anchor,i,r),l=Bt(e,o.head,i,r);(s||a!=o.anchor||l!=o.head)&&(s||(s=t.ranges.slice(0,n)),s[n]=new dt(a,l))}return s?ct(s,t.primIndex):t}function Bt(e,t,i,r){var s=!1,n=t,o=i||1;e.cantEdit=!1;e:for(;;){var a=Fs(e,n.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var h=a.markedSpans[l],d=h.marker;if((null==h.from||(d.inclusiveLeft?h.from<=n.ch:h.from<n.ch))&&(null==h.to||(d.inclusiveRight?h.to>=n.ch:h.to>n.ch))){if(r&&(ya(d,"beforeCursorEnter"),d.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!d.atomic)continue;var c=d.find(0>o?-1:1);if(0==ko(c,n)&&(c.ch+=o,c.ch<0?c=c.line>e.first?ft(e,Io(c.line-1)):null:c.ch>a.text.length&&(c=c.line<e.first+e.size-1?Io(c.line+1,0):null),!c)){if(s)return r?(e.cantEdit=!0,Io(e.first,0)):Bt(e,t,i,!0);s=!0,c=t,o=-o}n=c;continue e}}return n}}function Ht(e){e.display.input.showSelection(e.display.input.prepareSelection())}function zt(e,t){for(var i=e.doc,r={},s=r.cursors=document.createDocumentFragment(),n=r.selection=document.createDocumentFragment(),o=0;o<i.sel.ranges.length;o++)if(t!==!1||o!=i.sel.primIndex){var a=i.sel.ranges[o],l=a.empty();(l||e.options.showCursorWhenSelecting)&&Lt(e,a,s),l||Pt(e,a,n)}return r}function Lt(e,t,i){var r=di(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),s=i.appendChild(Dn("div"," ","CodeMirror-cursor"));if(s.style.left=r.left+"px",s.style.top=r.top+"px",s.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var n=i.appendChild(Dn("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));n.style.display="",n.style.left=r.other.left+"px",n.style.top=r.other.top+"px",n.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Pt(e,t,i){function r(e,t,i,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),a.appendChild(Dn("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==i?d-e:i)+"px; height: "+(r-t)+"px"))}function s(t,i,s){function n(i,r){return hi(e,Io(t,i),"div",c,r)}var a,l,c=Fs(o,t),u=c.text.length;return Gn(Ks(c),i||0,null==s?u:s,function(e,t,o){var c,p,f,m=n(e,"left");if(e==t)c=m,p=f=m.left;else{if(c=n(t-1,"right"),"rtl"==o){var g=m;m=c,c=g}p=m.left,f=c.right}null==i&&0==e&&(p=h),c.top-m.top>3&&(r(p,m.top,null,m.bottom),p=h,m.bottom<c.top&&r(p,m.bottom,null,c.top)),null==s&&t==u&&(f=d),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||c.bottom>l.bottom||c.bottom==l.bottom&&c.right>l.right)&&(l=c),h+1>p&&(p=h),r(p,c.top,f-p,c.bottom)}),{start:a,end:l}}var n=e.display,o=e.doc,a=document.createDocumentFragment(),l=Rt(e.display),h=l.left,d=Math.max(n.sizerWidth,Ut(e)-n.sizer.offsetLeft)-l.right,c=t.from(),u=t.to();if(c.line==u.line)s(c.line,c.ch,u.ch);else{var p=Fs(o,c.line),f=Fs(o,u.line),m=ds(p)==ds(f),g=s(c.line,c.ch,m?p.text.length+1:null).end,v=s(u.line,m?0:null,u.ch).start;m&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(h,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(h,g.bottom,null,v.top)}i.appendChild(a)}function Dt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function At(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Hn(Et,e))}function Et(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,r=Zo(t.mode,Ot(e,t.frontier)),s=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(n){if(t.frontier>=e.display.viewFrom){var o=n.styles,a=Ts(e,n,r,!0);n.styles=a.styles;var l=n.styleClasses,h=a.classes;h?n.styleClasses=h:l&&(n.styleClasses=null);for(var d=!o||o.length!=n.styles.length||l!=h&&(!l||!h||l.bgClass!=h.bgClass||l.textClass!=h.textClass),c=0;!d&&c<o.length;++c)d=o[c]!=n.styles[c];d&&s.push(t.frontier),n.stateAfter=Zo(t.mode,r)}else Is(e,n.text,r),n.stateAfter=t.frontier%5==0?Zo(t.mode,r):null;return++t.frontier,+new Date>i?(At(e,e.options.workDelay),!0):void 0}),s.length&&Ti(e,function(){for(var t=0;t<s.length;t++)Li(e,s[t],"text")})}}function Mt(e,t,i){for(var r,s,n=e.doc,o=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>o;--a){if(a<=n.first)return n.first;var l=Fs(n,a-1);if(l.stateAfter&&(!i||a<=n.frontier))return a;var h=ka(l.text,null,e.options.tabSize);(null==s||r>h)&&(s=a-1,r=h)}return s}function Ot(e,t,i){var r=e.doc,s=e.display;if(!r.mode.startState)return!0;var n=Mt(e,t,i),o=n>r.first&&Fs(r,n-1).stateAfter;return o=o?Zo(r.mode,o):Qo(r.mode),r.iter(n,t,function(i){Is(e,i.text,o);var a=n==t-1||n%5==0||n>=s.viewFrom&&n<s.viewTo;i.stateAfter=a?Zo(r.mode,o):null,++n}),i&&(r.frontier=n),o}function Nt(e){return e.lineSpace.offsetTop}function Wt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Rt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=En(e.measure,Dn("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Ft(e){return Ca-e.display.nativeBarWidth}function Ut(e){return e.display.scroller.clientWidth-Ft(e)-e.display.barWidth}function $t(e){return e.display.scroller.clientHeight-Ft(e)-e.display.barHeight}function Vt(e,t,i){var r=e.options.lineWrapping,s=r&&Ut(e);if(!t.measure.heights||r&&t.measure.width!=s){var n=t.measure.heights=[];if(r){t.measure.width=s;for(var o=t.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var l=o[a],h=o[a+1];Math.abs(l.bottom-h.bottom)>2&&n.push((l.bottom+h.top)/2-i.top)}}n.push(i.bottom-i.top)}}function Gt(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(Gs(e.rest[r])>i)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Xt(e,t){t=ds(t);var i=Gs(t),r=e.display.externalMeasured=new Bi(e.doc,t,i);r.lineN=i;var s=r.built=Bs(e,r);return r.text=s.pre,En(e.display.lineMeasure,s.pre),r}function Yt(e,t,i,r){return Zt(e,Jt(e,t),i,r)}function Kt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Di(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function Jt(e,t){var i=Gs(t),r=Kt(e,i);r&&!r.text?r=null:r&&r.changes&&D(e,r,i,L(e)),r||(r=Xt(e,t));var s=Gt(r,t,i);return{line:t,view:r,rect:null,map:s.map,cache:s.cache,before:s.before,hasHeights:!1}}function Zt(e,t,i,r,s){t.before&&(i=-1);var n,o=i+(r||"");return t.cache.hasOwnProperty(o)?n=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Vt(e,t.view,t.rect),t.hasHeights=!0),n=ei(e,t,i,r),n.bogus||(t.cache[o]=n)),{left:n.left,right:n.right,top:s?n.rtop:n.top,bottom:s?n.rbottom:n.bottom}}function Qt(e,t,i){for(var r,s,n,o,a=0;a<e.length;a+=3){var l=e[a],h=e[a+1];if(l>t?(s=0,n=1,o="left"):h>t?(s=t-l,n=s+1):(a==e.length-3||t==h&&e[a+3]>t)&&(n=h-l,s=n-1,t>=h&&(o="right")),null!=s){if(r=e[a+2],l==h&&i==(r.insertLeft?"left":"right")&&(o=i),"left"==i&&0==s)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)r=e[(a-=3)+2],o="left";if("right"==i&&s==h-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)r=e[(a+=3)+2],o="right";break}}return{node:r,start:s,end:n,collapse:o,coverStart:l,coverEnd:h}}function ei(e,t,i,r){var s,n=Qt(t.map,i,r),o=n.node,a=n.start,l=n.end,h=n.collapse;if(3==o.nodeType){for(var d=0;4>d;d++){for(;a&&Pn(t.line.text.charAt(n.coverStart+a));)--a;for(;n.coverStart+l<n.coverEnd&&Pn(t.line.text.charAt(n.coverStart+l));)++l;if(ho&&9>co&&0==a&&l==n.coverEnd-n.coverStart)s=o.parentNode.getBoundingClientRect();else if(ho&&e.options.lineWrapping){var c=za(o,a,l).getClientRects();s=c.length?c["right"==r?c.length-1:0]:Po}else s=za(o,a,l).getBoundingClientRect()||Po;if(s.left||s.right||0==a)break;l=a,a-=1,h="right"}ho&&11>co&&(s=ti(e.display.measure,s))}else{a>0&&(h=r="right");var c;s=e.options.lineWrapping&&(c=o.getClientRects()).length>1?c["right"==r?c.length-1:0]:o.getBoundingClientRect()}if(ho&&9>co&&!a&&(!s||!s.left&&!s.right)){var u=o.parentNode.getClientRects()[0];
s=u?{left:u.left,right:u.left+gi(e.display),top:u.top,bottom:u.bottom}:Po}for(var p=s.top-t.rect.top,f=s.bottom-t.rect.top,m=(p+f)/2,g=t.view.measure.heights,d=0;d<g.length-1&&!(m<g[d]);d++);var v=d?g[d-1]:0,w=g[d],x={left:("right"==h?s.right:s.left)-t.rect.left,right:("left"==h?s.left:s.right)-t.rect.left,top:v,bottom:w};return s.left||s.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=p,x.rbottom=f),x}function ti(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Vn(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*r,bottom:t.bottom*r}}function ii(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ri(e){e.display.externalMeasure=null,An(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ii(e.display.view[t])}function si(e){ri(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ni(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function oi(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ai(e,t,i,r){if(t.widgets)for(var s=0;s<t.widgets.length;++s)if(t.widgets[s].above){var n=vs(t.widgets[s]);i.top+=n,i.bottom+=n}if("line"==r)return i;r||(r="local");var o=Ys(t);if("local"==r?o+=Nt(e.display):o-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==r?0:oi());var l=a.left+("window"==r?0:ni());i.left+=l,i.right+=l}return i.top+=o,i.bottom+=o,i}function li(e,t,i){if("div"==i)return t;var r=t.left,s=t.top;if("page"==i)r-=ni(),s-=oi();else if("local"==i||!i){var n=e.display.sizer.getBoundingClientRect();r+=n.left,s+=n.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:s-o.top}}function hi(e,t,i,r,s){return r||(r=Fs(e.doc,t.line)),ai(e,r,Yt(e,r,t.ch,s),i)}function di(e,t,i,r,s,n){function o(t,o){var a=Zt(e,s,t,o?"right":"left",n);return o?a.left=a.right:a.right=a.left,ai(e,r,a,i)}function a(e,t){var i=l[t],r=i.level%2;return e==Xn(i)&&t&&i.level<l[t-1].level?(i=l[--t],e=Yn(i)-(i.level%2?0:1),r=!0):e==Yn(i)&&t<l.length-1&&i.level<l[t+1].level&&(i=l[++t],e=Xn(i)-i.level%2,r=!1),r&&e==i.to&&e>i.from?o(e-1):o(e,r)}r=r||Fs(e.doc,t.line),s||(s=Jt(e,r));var l=Ks(r),h=t.ch;if(!l)return o(h);var d=io(l,h),c=a(h,d);return null!=Xa&&(c.other=a(h,Xa)),c}function ci(e,t){var i=0,t=ft(e.doc,t);e.options.lineWrapping||(i=gi(e.display)*t.ch);var r=Fs(e.doc,t.line),s=Ys(r)+Nt(e.display);return{left:i,right:i,top:s,bottom:s+r.height}}function ui(e,t,i,r){var s=Io(e,t);return s.xRel=r,i&&(s.outside=!0),s}function pi(e,t,i){var r=e.doc;if(i+=e.display.viewOffset,0>i)return ui(r.first,0,!0,-1);var s=Xs(r,i),n=r.first+r.size-1;if(s>n)return ui(r.first+r.size-1,Fs(r,n).text.length,!0,1);0>t&&(t=0);for(var o=Fs(r,s);;){var a=fi(e,o,s,t,i),l=ls(o),h=l&&l.find(0,!0);if(!l||!(a.ch>h.from.ch||a.ch==h.from.ch&&a.xRel>0))return a;s=Gs(o=h.to.line)}}function fi(e,t,i,r,s){function n(r){var s=di(e,Io(i,r),"line",t,h);return a=!0,o>s.bottom?s.left-l:o<s.top?s.left+l:(a=!1,s.left)}var o=s-Ys(t),a=!1,l=2*e.display.wrapper.clientWidth,h=Jt(e,t),d=Ks(t),c=t.text.length,u=Kn(t),p=Jn(t),f=n(u),m=a,g=n(p),v=a;if(r>g)return ui(i,p,v,1);for(;;){if(d?p==u||p==so(t,u,1):1>=p-u){for(var w=f>r||g-r>=r-f?u:p,x=r-(w==u?f:g);Pn(t.text.charAt(w));)++w;var b=ui(i,w,w==u?m:v,-1>x?-1:x>1?1:0);return b}var _=Math.ceil(c/2),y=u+_;if(d){y=u;for(var j=0;_>j;++j)y=so(t,y,1)}var C=n(y);C>r?(p=y,g=C,(v=a)&&(g+=1e3),c=_):(u=y,f=C,m=a,c-=_)}}function mi(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ho){Ho=Dn("pre");for(var t=0;49>t;++t)Ho.appendChild(document.createTextNode("x")),Ho.appendChild(Dn("br"));Ho.appendChild(document.createTextNode("x"))}En(e.measure,Ho);var i=Ho.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),An(e.measure),i||1}function gi(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Dn("span","xxxxxxxxxx"),i=Dn("pre",[t]);En(e.measure,i);var r=t.getBoundingClientRect(),s=(r.right-r.left)/10;return s>2&&(e.cachedCharWidth=s),s||10}function vi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Ao},Do?Do.ops.push(e.curOp):e.curOp.ownsGroup=Do={ops:[e.curOp],delayedCallbacks:[]}}function wi(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i]();for(var r=0;r<e.ops.length;r++){var s=e.ops[r];if(s.cursorActivityHandlers)for(;s.cursorActivityCalled<s.cursorActivityHandlers.length;)s.cursorActivityHandlers[s.cursorActivityCalled++](s.cm)}}while(i<t.length)}function xi(e){var t=e.curOp,i=t.ownsGroup;if(i)try{wi(i)}finally{Do=null;for(var r=0;r<i.ops.length;r++)i.ops[r].cm.curOp=null;bi(i)}}function bi(e){for(var t=e.ops,i=0;i<t.length;i++)_i(t[i]);for(var i=0;i<t.length;i++)yi(t[i]);for(var i=0;i<t.length;i++)ji(t[i]);for(var i=0;i<t.length;i++)Ci(t[i]);for(var i=0;i<t.length;i++)qi(t[i])}function _i(e){var t=e.cm,i=t.display;T(t),e.updateMaxLine&&u(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new q(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function yi(e){e.updatedDisplay=e.mustUpdate&&S(e.cm,e.update)}function ji(e){var t=e.cm,i=t.display;e.updatedDisplay&&H(t),e.barMeasure=f(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Yt(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+Ft(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Ut(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function Ci(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Zi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&B(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&w(t,e.barMeasure),e.selectionChanged&&Dt(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing)}function qi(e){var t=e.cm,i=t.display,r=t.doc;if(e.updatedDisplay&&I(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==e.scrollTop||i.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,e.scrollTop)),i.scrollbars.setScrollTop(r.scrollTop),i.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||i.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-Ut(t),e.scrollLeft)),i.scrollbars.setScrollLeft(r.scrollLeft),i.scroller.scrollLeft=r.scrollLeft,_(t)),e.scrollToPos){var s=Tr(t,ft(r,e.scrollToPos.from),ft(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&qr(t,s)}var n=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(n)for(var a=0;a<n.length;++a)n[a].lines.length||ya(n[a],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&ya(o[a],"unhide");i.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ya(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ti(e,t){if(e.curOp)return t();vi(e);try{return t()}finally{xi(e)}}function Si(e,t){return function(){if(e.curOp)return t.apply(e,arguments);vi(e);try{return t.apply(e,arguments)}finally{xi(e)}}}function Ii(e){return function(){if(this.curOp)return e.apply(this,arguments);vi(this);try{return e.apply(this,arguments)}finally{xi(this)}}}function ki(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);vi(t);try{return e.apply(this,arguments)}finally{xi(t)}}}function Bi(e,t,i){this.line=t,this.rest=cs(t),this.size=this.rest?Gs(qn(this.rest))-i+1:1,this.node=this.text=null,this.hidden=fs(e,t)}function Hi(e,t,i){for(var r,s=[],n=t;i>n;n=r){var o=new Bi(e.doc,Fs(e.doc,n),n);r=n+o.size,s.push(o)}return s}function zi(e,t,i,r){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),r||(r=0);var s=e.display;if(r&&i<s.viewTo&&(null==s.updateLineNumbers||s.updateLineNumbers>t)&&(s.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=s.viewTo)So&&us(e.doc,t)<s.viewTo&&Pi(e);else if(i<=s.viewFrom)So&&ps(e.doc,i+r)>s.viewFrom?Pi(e):(s.viewFrom+=r,s.viewTo+=r);else if(t<=s.viewFrom&&i>=s.viewTo)Pi(e);else if(t<=s.viewFrom){var n=Ai(e,i,i+r,1);n?(s.view=s.view.slice(n.index),s.viewFrom=n.lineN,s.viewTo+=r):Pi(e)}else if(i>=s.viewTo){var n=Ai(e,t,t,-1);n?(s.view=s.view.slice(0,n.index),s.viewTo=n.lineN):Pi(e)}else{var o=Ai(e,t,t,-1),a=Ai(e,i,i+r,1);o&&a?(s.view=s.view.slice(0,o.index).concat(Hi(e,o.lineN,a.lineN)).concat(s.view.slice(a.index)),s.viewTo+=r):Pi(e)}var l=s.externalMeasured;l&&(i<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(s.externalMeasured=null))}function Li(e,t,i){e.curOp.viewChanged=!0;var r=e.display,s=e.display.externalMeasured;if(s&&t>=s.lineN&&t<s.lineN+s.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var n=r.view[Di(e,t)];if(null!=n.node){var o=n.changes||(n.changes=[]);-1==Tn(o,i)&&o.push(i)}}}function Pi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Di(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var i=e.display.view,r=0;r<i.length;r++)if(t-=i[r].size,0>t)return r}function Ai(e,t,i,r){var s,n=Di(e,t),o=e.display.view;if(!So||i==e.doc.first+e.doc.size)return{index:n,lineN:i};for(var a=0,l=e.display.viewFrom;n>a;a++)l+=o[a].size;if(l!=t){if(r>0){if(n==o.length-1)return null;s=l+o[n].size-t,n++}else s=l-t;t+=s,i+=s}for(;us(e.doc,i)!=i;){if(n==(0>r?0:o.length-1))return null;i+=r*o[n-(0>r?1:0)].size,n+=r}return{index:n,lineN:i}}function Ei(e,t,i){var r=e.display,s=r.view;0==s.length||t>=r.viewTo||i<=r.viewFrom?(r.view=Hi(e,t,i),r.viewFrom=t):(r.viewFrom>t?r.view=Hi(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Di(e,t))),r.viewFrom=t,r.viewTo<i?r.view=r.view.concat(Hi(e,r.viewTo,i)):r.viewTo>i&&(r.view=r.view.slice(0,Di(e,i)))),r.viewTo=i}function Mi(e){for(var t=e.display.view,i=0,r=0;r<t.length;r++){var s=t[r];s.hidden||s.node&&!s.changes||++i}return i}function Oi(e){function t(){n.activeTouch&&(o=setTimeout(function(){n.activeTouch=null},1e3),a=n.activeTouch,a.end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var i=t.left-e.left,r=t.top-e.top;return i*i+r*r>400}function s(t){wn(e,t)||xa(t)}var n=e.display;ba(n.scroller,"mousedown",Si(e,Fi)),ho&&11>co?ba(n.scroller,"dblclick",Si(e,function(t){if(!wn(e,t)){var i=Ri(e,t);if(i&&!Xi(e,t)&&!Wi(e.display,t)){va(t);var r=e.findWordAt(i);xt(e.doc,r.anchor,r.head)}}})):ba(n.scroller,"dblclick",function(t){wn(e,t)||va(t)}),qo||ba(n.scroller,"contextmenu",function(t){cr(e,t)});var o,a={end:0};ba(n.scroller,"touchstart",function(e){if(!i(e)){clearTimeout(o);var t=+new Date;n.activeTouch={start:t,moved:!1,prev:t-a.end<=300?a:null},1==e.touches.length&&(n.activeTouch.left=e.touches[0].pageX,n.activeTouch.top=e.touches[0].pageY)}}),ba(n.scroller,"touchmove",function(){n.activeTouch&&(n.activeTouch.moved=!0)}),ba(n.scroller,"touchend",function(i){var s=n.activeTouch;if(s&&!Wi(n,i)&&null!=s.left&&!s.moved&&new Date-s.start<300){var o,a=e.coordsChar(n.activeTouch,"page");o=!s.prev||r(s,s.prev)?new dt(a,a):!s.prev.prev||r(s,s.prev.prev)?e.findWordAt(a):new dt(Io(a.line,0),ft(e.doc,Io(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),va(i)}t()}),ba(n.scroller,"touchcancel",t),ba(n.scroller,"scroll",function(){n.scroller.clientHeight&&(Ji(e,n.scroller.scrollTop),Zi(e,n.scroller.scrollLeft,!0),ya(e,"scroll",e))}),ba(n.scroller,"mousewheel",function(t){Qi(e,t)}),ba(n.scroller,"DOMMouseScroll",function(t){Qi(e,t)}),ba(n.wrapper,"scroll",function(){n.wrapper.scrollTop=n.wrapper.scrollLeft=0}),e.options.dragDrop&&(ba(n.scroller,"dragstart",function(t){Ki(e,t)}),ba(n.scroller,"dragenter",s),ba(n.scroller,"dragover",s),ba(n.scroller,"drop",Si(e,Yi)));var l=n.input.getField();ba(l,"keyup",function(t){ar.call(e,t)}),ba(l,"keydown",Si(e,nr)),ba(l,"keypress",Si(e,lr)),ba(l,"focus",Hn(hr,e)),ba(l,"blur",Hn(dr,e))}function Ni(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Wi(e,t){for(var i=fn(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Ri(e,t,i,r){var s=e.display;if(!i&&"true"==fn(t).getAttribute("cm-not-content"))return null;var n,o,a=s.lineSpace.getBoundingClientRect();try{n=t.clientX-a.left,o=t.clientY-a.top}catch(t){return null}var l,h=pi(e,n,o);if(r&&1==h.xRel&&(l=Fs(e.doc,h.line).text).length==h.ch){var d=ka(l,l.length,e.options.tabSize)-l.length;h=Io(h.line,Math.max(0,Math.round((n-Rt(e.display).left)/gi(e.display))-d))}return h}function Fi(e){var t=this,i=t.display;if(!(i.activeTouch&&i.input.supportsTouch()||wn(t,e))){if(i.shift=e.shiftKey,Wi(i,e))return void(uo||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100)));if(!Xi(t,e)){var r=Ri(t,e);switch(window.focus(),mn(e)){case 1:r?Ui(t,e,r):fn(e)==i.scroller&&va(e);break;case 2:uo&&(t.state.lastMiddleDown=+new Date),r&&xt(t.doc,r),setTimeout(function(){i.input.focus()},20),va(e);break;case 3:qo&&cr(t,e)}}}}function Ui(e,t,i){ho?setTimeout(Hn(K,e),0):K(e);var r,s=+new Date;Lo&&Lo.time>s-400&&0==ko(Lo.pos,i)?r="triple":zo&&zo.time>s-400&&0==ko(zo.pos,i)?(r="double",Lo={time:s,pos:i}):(r="single",zo={time:s,pos:i});var n,o=e.doc.sel,a=_o?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ra&&!J(e)&&"single"==r&&(n=o.contains(i))>-1&&!o.ranges[n].empty()?$i(e,t,i,a):Vi(e,t,i,r,a)}function $i(e,t,i,r){var s=e.display,n=Si(e,function(o){uo&&(s.scroller.draggable=!1),e.state.draggingText=!1,_a(document,"mouseup",n),_a(s.scroller,"drop",n),Math.abs(t.clientX-o.clientX)+Math.abs(t.clientY-o.clientY)<10&&(va(o),r||xt(e.doc,i),s.input.focus(),ho&&9==co&&setTimeout(function(){document.body.focus(),s.input.focus()},20))});uo&&(s.scroller.draggable=!0),e.state.draggingText=n,s.scroller.dragDrop&&s.scroller.dragDrop(),ba(document,"mouseup",n),ba(s.scroller,"drop",n)}function Vi(e,t,i,r,s){function n(t){if(0!=ko(g,t))if(g=t,"rect"==r){for(var s=[],n=e.options.tabSize,o=ka(Fs(h,i.line).text,i.ch,n),a=ka(Fs(h,t.line).text,t.ch,n),l=Math.min(o,a),p=Math.max(o,a),f=Math.min(i.line,t.line),m=Math.min(e.lastLine(),Math.max(i.line,t.line));m>=f;f++){var v=Fs(h,f).text,w=jn(v,l,n);l==p?s.push(new dt(Io(f,w),Io(f,w))):v.length>w&&s.push(new dt(Io(f,w),Io(f,jn(v,p,n))))}s.length||s.push(new dt(i,i)),qt(h,ct(u.ranges.slice(0,c).concat(s),c),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x=d,b=x.anchor,_=t;if("single"!=r){if("double"==r)var y=e.findWordAt(t);else var y=new dt(Io(t.line,0),ft(h,Io(t.line+1,0)));ko(y.anchor,b)>0?(_=y.head,b=Y(x.from(),y.anchor)):(_=y.anchor,b=X(x.to(),y.head))}var s=u.ranges.slice(0);s[c]=new dt(ft(h,b),_),qt(h,ct(s,c),Sa)}}function o(t){var i=++w,s=Ri(e,t,!0,"rect"==r);if(s)if(0!=ko(s,g)){K(e),n(s);var a=b(l,h);(s.line>=a.to||s.line<a.from)&&setTimeout(Si(e,function(){w==i&&o(t)}),150)}else{var d=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;d&&setTimeout(Si(e,function(){w==i&&(l.scroller.scrollTop+=d,o(t))}),50)}}function a(e){w=1/0,va(e),l.input.focus(),_a(document,"mousemove",x),_a(document,"mouseup",_),h.history.lastSelOrigin=null}var l=e.display,h=e.doc;va(t);var d,c,u=h.sel,p=u.ranges;if(s&&!t.shiftKey?(c=h.sel.contains(i),d=c>-1?p[c]:new dt(i,i)):d=h.sel.primary(),t.altKey)r="rect",s||(d=new dt(i,i)),i=Ri(e,t,!0,!0),c=-1;else if("double"==r){var f=e.findWordAt(i);d=e.display.shift||h.extend?wt(h,d,f.anchor,f.head):f}else if("triple"==r){var m=new dt(Io(i.line,0),ft(h,Io(i.line+1,0)));d=e.display.shift||h.extend?wt(h,d,m.anchor,m.head):m}else d=wt(h,d,i);s?-1==c?(c=p.length,qt(h,ct(p.concat([d]),c),{scroll:!1,origin:"*mouse"})):p.length>1&&p[c].empty()&&"single"==r?(qt(h,ct(p.slice(0,c).concat(p.slice(c+1)),0)),u=h.sel):_t(h,c,d,Sa):(c=0,qt(h,new ht([d],0),Sa),u=h.sel);var g=i,v=l.wrapper.getBoundingClientRect(),w=0,x=Si(e,function(e){mn(e)?o(e):a(e)}),_=Si(e,a);ba(document,"mousemove",x),ba(document,"mouseup",_)}function Gi(e,t,i,r,s){try{var n=t.clientX,o=t.clientY}catch(t){return!1}if(n>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&va(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!bn(e,i))return pn(t);o-=l.top-a.viewOffset;for(var h=0;h<e.options.gutters.length;++h){var d=a.gutters.childNodes[h];if(d&&d.getBoundingClientRect().right>=n){var c=Xs(e.doc,o),u=e.options.gutters[h];return s(e,i,e,c,u,t),pn(t)}}}function Xi(e,t){return Gi(e,t,"gutterClick",!0,gn)}function Yi(e){var t=this;if(!wn(t,e)&&!Wi(t.display,e)){va(e),ho&&(Eo=+new Date);var i=Ri(t,e,!0),r=e.dataTransfer.files;if(i&&!J(t))if(r&&r.length&&window.FileReader&&window.File)for(var s=r.length,n=Array(s),o=0,a=function(e,r){var a=new FileReader;a.onload=Si(t,function(){if(n[r]=a.result,++o==s){i=ft(t.doc,i);var e={from:i,to:i,text:Fa(n.join("\n")),origin:"paste"};wr(t.doc,e),Ct(t.doc,ut(i,Fo(e)))}}),a.readAsText(e)},l=0;s>l;++l)a(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var n=e.dataTransfer.getData("Text");if(n){if(t.state.draggingText&&!(_o?e.metaKey:e.ctrlKey))var h=t.listSelections();if(Tt(t.doc,ut(i,i)),h)for(var l=0;l<h.length;++l)Cr(t.doc,"",h[l].anchor,h[l].head,"drag");t.replaceSelection(n,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ki(e,t){if(ho&&(!e.state.draggingText||+new Date-Eo<100))return void xa(t);if(!wn(e,t)&&!Wi(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!go)){var i=Dn("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",mo&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),mo&&i.parentNode.removeChild(i)}}function Ji(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,oo||k(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),oo&&k(e),At(e,100))}function Zi(e,t,i){(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,_(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Qi(e,t){var i=No(t),r=i.x,s=i.y,n=e.display,o=n.scroller;if(r&&o.scrollWidth>o.clientWidth||s&&o.scrollHeight>o.clientHeight){if(s&&_o&&uo)e:for(var a=t.target,l=n.view;a!=o;a=a.parentNode)for(var h=0;h<l.length;h++)if(l[h].node==a){e.display.currentWheelTarget=a;break e}if(r&&!oo&&!mo&&null!=Oo)return s&&Ji(e,Math.max(0,Math.min(o.scrollTop+s*Oo,o.scrollHeight-o.clientHeight))),Zi(e,Math.max(0,Math.min(o.scrollLeft+r*Oo,o.scrollWidth-o.clientWidth))),va(t),void(n.wheelStartX=null);if(s&&null!=Oo){var d=s*Oo,c=e.doc.scrollTop,u=c+n.wrapper.clientHeight;0>d?c=Math.max(0,c+d-50):u=Math.min(e.doc.height,u+d+50),k(e,{top:c,bottom:u})}20>Mo&&(null==n.wheelStartX?(n.wheelStartX=o.scrollLeft,n.wheelStartY=o.scrollTop,n.wheelDX=r,n.wheelDY=s,setTimeout(function(){if(null!=n.wheelStartX){var e=o.scrollLeft-n.wheelStartX,t=o.scrollTop-n.wheelStartY,i=t&&n.wheelDY&&t/n.wheelDY||e&&n.wheelDX&&e/n.wheelDX;n.wheelStartX=n.wheelStartY=null,i&&(Oo=(Oo*Mo+i)/(Mo+1),++Mo)}},200)):(n.wheelDX+=r,n.wheelDY+=s))}}function er(e,t,i){if("string"==typeof t&&(t=ea[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,s=!1;try{J(e)&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),s=t(e)!=qa}finally{e.display.shift=r,e.state.suppressEdits=!1}return s}function tr(e,t,i){for(var r=0;r<e.state.keyMaps.length;r++){var s=ia(t,e.state.keyMaps[r],i,e);if(s)return s}return e.options.extraKeys&&ia(t,e.options.extraKeys,i,e)||ia(t,e.options.keyMap,i,e)}function ir(e,t,i,r){var s=e.state.keySeq;if(s){if(ra(t))return"handled";Wo.set(50,function(){e.state.keySeq==s&&(e.state.keySeq=null,e.display.input.reset())}),t=s+" "+t}var n=tr(e,t,r);return"multi"==n&&(e.state.keySeq=t),"handled"==n&&gn(e,"keyHandled",e,t,i),("handled"==n||"multi"==n)&&(va(i),Dt(e)),s&&!n&&/\'$/.test(t)?(va(i),!0):!!n}function rr(e,t){var i=sa(t,!0);return i?t.shiftKey&&!e.state.keySeq?ir(e,"Shift-"+i,t,function(t){return er(e,t,!0)})||ir(e,i,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?er(e,t):void 0}):ir(e,i,t,function(t){return er(e,t)}):!1}function sr(e,t,i){return ir(e,"'"+i+"'",t,function(t){return er(e,t,!0)})}function nr(e){var t=this;if(K(t),!wn(t,e)){ho&&11>co&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var r=rr(t,e);mo&&(Ro=r?i:null,!r&&88==i&&!$a&&(_o?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||or(t)}}function or(e){function t(e){18!=e.keyCode&&e.altKey||(Oa(i,"CodeMirror-crosshair"),_a(document,"keyup",t),_a(document,"mouseover",t))}var i=e.display.lineDiv;Na(i,"CodeMirror-crosshair"),ba(document,"keyup",t),ba(document,"mouseover",t)}function ar(e){16==e.keyCode&&(this.doc.sel.shift=!1),wn(this,e)}function lr(e){var t=this;if(!(Wi(t.display,e)||wn(t,e)||e.ctrlKey&&!e.altKey||_o&&e.metaKey)){var i=e.keyCode,r=e.charCode;if(mo&&i==Ro)return Ro=null,void va(e);if(!mo||e.which&&!(e.which<10)||!rr(t,e)){var s=String.fromCharCode(null==r?i:r);sr(t,e,s)||t.display.input.onKeyPress(e)}}}function hr(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(ya(e,"focus",e),e.state.focused=!0,Na(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),uo&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Dt(e))}function dr(e){e.state.focused&&(ya(e,"blur",e),e.state.focused=!1,Oa(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function cr(e,t){Wi(e.display,t)||ur(e,t)||e.display.input.onContextMenu(t)}function ur(e,t){return bn(e,"gutterContextMenu")?Gi(e,t,"gutterContextMenu",!1,ya):!1}function pr(e,t){if(ko(e,t.from)<0)return e;if(ko(e,t.to)<=0)return Fo(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Fo(t).ch-t.to.ch),Io(i,r)}function fr(e,t){for(var i=[],r=0;r<e.sel.ranges.length;r++){var s=e.sel.ranges[r];i.push(new dt(pr(s.anchor,t),pr(s.head,t)))}return ct(i,e.sel.primIndex)}function mr(e,t,i){return e.line==t.line?Io(i.line,e.ch-t.ch+i.ch):Io(i.line+(e.line-t.line),e.ch)}function gr(e,t,i){for(var r=[],s=Io(e.first,0),n=s,o=0;o<t.length;o++){var a=t[o],l=mr(a.from,s,n),h=mr(Fo(a),s,n);if(s=a.to,n=h,"around"==i){var d=e.sel.ranges[o],c=ko(d.head,d.anchor)<0;r[o]=new dt(c?h:l,c?l:h)}else r[o]=new dt(l,l)}return new ht(r,e.sel.primIndex)}function vr(e,t,i){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return i&&(r.update=function(t,i,r,s){t&&(this.from=ft(e,t)),i&&(this.to=ft(e,i)),r&&(this.text=r),void 0!==s&&(this.origin=s)}),ya(e,"beforeChange",e,r),e.cm&&ya(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function wr(e,t,i){if(e.cm){if(!e.cm.curOp)return Si(e.cm,wr)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(bn(e,"beforeChange")||e.cm&&bn(e.cm,"beforeChange"))||(t=vr(e,t,!0))){var r=To&&!i&&es(e,t.from,t.to);if(r)for(var s=r.length-1;s>=0;--s)xr(e,{from:r[s].from,to:r[s].to,text:s?[""]:t.text});else xr(e,t)}}function xr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ko(t.from,t.to)){var i=fr(e,t);tn(e,t,i,e.cm?e.cm.curOp.id:0/0),yr(e,t,i,Jr(e,t));var r=[];Ws(e,function(e,i){i||-1!=Tn(r,e.history)||(un(e.history,t),r.push(e.history)),yr(e,t,null,Jr(e,t))})}}function br(e,t,i){if(!e.cm||!e.cm.state.suppressEdits){for(var r,s=e.history,n=e.sel,o="undo"==t?s.done:s.undone,a="undo"==t?s.undone:s.done,l=0;l<o.length&&(r=o[l],i?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=o.length){for(s.lastOrigin=s.lastSelOrigin=null;r=o.pop(),r.ranges;){if(nn(r,a),i&&!r.equals(e.sel))return void qt(e,r,{clearRedo:!1});n=r}var h=[];nn(n,a),a.push({changes:h,generation:s.generation}),s.generation=r.generation||++s.maxGeneration;for(var d=bn(e,"beforeChange")||e.cm&&bn(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var c=r.changes[l];if(c.origin=t,d&&!vr(e,c,!1))return void(o.length=0);h.push(Zs(e,c));var u=l?fr(e,c):qn(o);yr(e,c,u,Qr(e,c)),!l&&e.cm&&e.cm.scrollIntoView({from:c.from,to:Fo(c)});var p=[];Ws(e,function(e,t){t||-1!=Tn(p,e.history)||(un(e.history,c),p.push(e.history)),yr(e,c,null,Qr(e,c))})}}}}function _r(e,t){if(0!=t&&(e.first+=t,e.sel=new ht(Sn(e.sel.ranges,function(e){return new dt(Io(e.anchor.line+t,e.anchor.ch),Io(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){zi(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,r=i.viewFrom;r<i.viewTo;r++)Li(e.cm,r,"gutter")}}function yr(e,t,i,r){if(e.cm&&!e.cm.curOp)return Si(e.cm,yr)(e,t,i,r);if(t.to.line<e.first)return void _r(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var s=t.text.length-1-(e.first-t.from.line);_r(e,s),t={from:Io(e.first,0),to:Io(t.to.line+s,t.to.ch),text:[qn(t.text)],origin:t.origin}}var n=e.lastLine();t.to.line>n&&(t={from:t.from,to:Io(n,Fs(e,n).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Us(e,t.from,t.to),i||(i=fr(e,t)),e.cm?jr(e.cm,t,r):Ms(e,t,r),Tt(e,i,Ta)}}function jr(e,t,i){var r=e.doc,s=e.display,o=t.from,a=t.to,l=!1,h=o.line;e.options.lineWrapping||(h=Gs(ds(Fs(r,o.line))),r.iter(h,a.line+1,function(e){return e==s.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&xn(e),Ms(r,t,i,n(e)),e.options.lineWrapping||(r.iter(h,o.line+t.text.length,function(e){var t=c(e);t>s.maxLineLength&&(s.maxLine=e,s.maxLineLength=t,s.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),At(e,400);var d=t.text.length-(a.line-o.line)-1;t.full?zi(e):o.line!=a.line||1!=t.text.length||Es(e.doc,t)?zi(e,o.line,a.line+1,d):Li(e,o.line,"text");var u=bn(e,"changes"),p=bn(e,"change");if(p||u){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&gn(e,"change",e,f),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function Cr(e,t,i,r,s){if(r||(r=i),ko(r,i)<0){var n=r;r=i,i=n}"string"==typeof t&&(t=Fa(t)),wr(e,{from:i,to:r,text:t,origin:s})}function qr(e,t){if(!wn(e,"scrollCursorIntoView")){var i=e.display,r=i.sizer.getBoundingClientRect(),s=null;if(t.top+r.top<0?s=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(s=!1),null!=s&&!wo){var n=Dn("div","​",null,"position: absolute; top: "+(t.top-i.viewOffset-Nt(e.display))+"px; height: "+(t.bottom-t.top+Ft(e)+i.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(n),n.scrollIntoView(s),e.display.lineSpace.removeChild(n)}}}function Tr(e,t,i,r){null==r&&(r=0);for(var s=0;5>s;s++){var n=!1,o=di(e,t),a=i&&i!=t?di(e,i):o,l=Ir(e,Math.min(o.left,a.left),Math.min(o.top,a.top)-r,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+r),h=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=l.scrollTop&&(Ji(e,l.scrollTop),Math.abs(e.doc.scrollTop-h)>1&&(n=!0)),null!=l.scrollLeft&&(Zi(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(n=!0)),!n)break}return o}function Sr(e,t,i,r,s){var n=Ir(e,t,i,r,s);null!=n.scrollTop&&Ji(e,n.scrollTop),null!=n.scrollLeft&&Zi(e,n.scrollLeft)}function Ir(e,t,i,r,s){var n=e.display,o=mi(e.display);0>i&&(i=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,l=$t(e),h={};s-i>l&&(s=i+l);var d=e.doc.height+Wt(n),c=o>i,u=s>d-o;if(a>i)h.scrollTop=c?0:i;else if(s>a+l){var p=Math.min(i,(u?d:s)-l);p!=a&&(h.scrollTop=p)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,m=Ut(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),g=r-t>m;return g&&(r=t+m),10>t?h.scrollLeft=0:f>t?h.scrollLeft=Math.max(0,t-(g?0:10)):r>m+f-3&&(h.scrollLeft=r+(g?0:10)-m),h}function kr(e,t,i){(null!=t||null!=i)&&Hr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=i&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+i)}function Br(e){Hr(e);var t=e.getCursor(),i=t,r=t;e.options.lineWrapping||(i=t.ch?Io(t.line,t.ch-1):t,r=Io(t.line,t.ch+1)),e.curOp.scrollToPos={from:i,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Hr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=ci(e,t.from),r=ci(e,t.to),s=Ir(e,Math.min(i.left,r.left),Math.min(i.top,r.top)-t.margin,Math.max(i.right,r.right),Math.max(i.bottom,r.bottom)+t.margin);e.scrollTo(s.scrollLeft,s.scrollTop)}}function zr(e,t,i,r){var s,n=e.doc;null==i&&(i="add"),"smart"==i&&(n.mode.indent?s=Ot(e,t):i="prev");var o=e.options.tabSize,a=Fs(n,t),l=ka(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var h,d=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==i&&(h=n.mode.indent(s,a.text.slice(d.length),a.text),h==qa||h>150)){if(!r)return;i="prev"}}else h=0,i="not";"prev"==i?h=t>n.first?ka(Fs(n,t-1).text,null,o):0:"add"==i?h=l+e.options.indentUnit:"subtract"==i?h=l-e.options.indentUnit:"number"==typeof i&&(h=l+i),h=Math.max(0,h);var c="",u=0;if(e.options.indentWithTabs)for(var p=Math.floor(h/o);p;--p)u+=o,c+="	";if(h>u&&(c+=Cn(h-u)),c!=d)Cr(n,c,Io(t,0),Io(t,d.length),"+input");else for(var p=0;p<n.sel.ranges.length;p++){var f=n.sel.ranges[p];if(f.head.line==t&&f.head.ch<d.length){var u=Io(t,d.length);_t(n,p,new dt(u,u));break}}a.stateAfter=null}function Lr(e,t,i,r){var s=t,n=t;return"number"==typeof t?n=Fs(e,pt(e,t)):s=Gs(t),null==s?null:(r(n,s)&&e.cm&&Li(e.cm,s,i),n)}function Pr(e,t){for(var i=e.doc.sel.ranges,r=[],s=0;s<i.length;s++){for(var n=t(i[s]);r.length&&ko(n.from,qn(r).to)<=0;){var o=r.pop();if(ko(o.from,n.from)<0){n.from=o.from;break}}r.push(n)}Ti(e,function(){for(var t=r.length-1;t>=0;t--)Cr(e.doc,"",r[t].from,r[t].to,"+delete");Br(e)})}function Dr(e,t,i,r,s){function n(){var t=a+i;return t<e.first||t>=e.first+e.size?c=!1:(a=t,d=Fs(e,t))}function o(e){var t=(s?so:no)(d,l,i,!0);if(null==t){if(e||!n())return c=!1;l=s?(0>i?Jn:Kn)(d):0>i?d.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,h=i,d=Fs(e,a),c=!0;if("char"==r)o();else if("column"==r)o(!0);else if("word"==r||"group"==r)for(var u=null,p="group"==r,f=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>i)||o(!m);m=!1){var g=d.text.charAt(l)||"\n",v=zn(g,f)?"w":p&&"\n"==g?"n":!p||/\s/.test(g)?null:"p";if(!p||m||v||(v="s"),u&&u!=v){0>i&&(i=1,o());break}if(v&&(u=v),i>0&&!o(!m))break}var w=Bt(e,Io(a,l),h,!0);return c||(w.hitSide=!0),w}function Ar(e,t,i,r){var s,n=e.doc,o=t.left;if("page"==r){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);s=t.top+i*(a-(0>i?1.5:.5)*mi(e.display))}else"line"==r&&(s=i>0?t.bottom+3:t.top-3);for(;;){var l=pi(e,o,s);if(!l.outside)break;if(0>i?0>=s:s>=n.height){l.hitSide=!0;break}s+=5*i}return l}function Er(t,i,r,s){e.defaults[t]=i,r&&($o[t]=s?function(e,t,i){i!=Vo&&r(e,t,i)
}:r)}function Mr(e){for(var t,i,r,s,n=e.split(/-(?!$)/),e=n[n.length-1],o=0;o<n.length-1;o++){var a=n[o];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),s&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Or(e){return"string"==typeof e?ta[e]:e}function Nr(e,t,i,r,s){if(r&&r.shared)return Wr(e,t,i,r,s);if(e.cm&&!e.cm.curOp)return Si(e.cm,Nr)(e,t,i,r,s);var n=new aa(e,s),o=ko(t,i);if(r&&Bn(r,n,!1),o>0||0==o&&n.clearWhenEmpty!==!1)return n;if(n.replacedWith&&(n.collapsed=!0,n.widgetNode=Dn("span",[n.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||n.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(n.widgetNode.insertLeft=!0)),n.collapsed){if(hs(e,t.line,t,i,n)||t.line!=i.line&&hs(e,i.line,t,i,n))throw new Error("Inserting collapsed marker partially overlapping an existing one");So=!0}n.addToHistory&&tn(e,{from:t,to:i,origin:"markText"},e.sel,0/0);var a,l=t.line,h=e.cm;if(e.iter(l,i.line+1,function(e){h&&n.collapsed&&!h.options.lineWrapping&&ds(e)==h.display.maxLine&&(a=!0),n.collapsed&&l!=t.line&&Vs(e,0),Xr(e,new $r(n,l==t.line?t.ch:null,l==i.line?i.ch:null)),++l}),n.collapsed&&e.iter(t.line,i.line+1,function(t){fs(e,t)&&Vs(t,0)}),n.clearOnEnter&&ba(n,"beforeCursorEnter",function(){n.clear()}),n.readOnly&&(To=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),n.collapsed&&(n.id=++oa,n.atomic=!0),h){if(a&&(h.curOp.updateMaxLine=!0),n.collapsed)zi(h,t.line,i.line+1);else if(n.className||n.title||n.startStyle||n.endStyle||n.css)for(var d=t.line;d<=i.line;d++)Li(h,d,"text");n.atomic&&It(h.doc),gn(h,"markerAdded",h,n)}return n}function Wr(e,t,i,r,s){r=Bn(r),r.shared=!1;var n=[Nr(e,t,i,r,s)],o=n[0],a=r.widgetNode;return Ws(e,function(e){a&&(r.widgetNode=a.cloneNode(!0)),n.push(Nr(e,ft(e,t),ft(e,i),r,s));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=qn(n)}),new la(n,o)}function Rr(e){return e.findMarks(Io(e.first,0),e.clipPos(Io(e.lastLine())),function(e){return e.parent})}function Fr(e,t){for(var i=0;i<t.length;i++){var r=t[i],s=r.find(),n=e.clipPos(s.from),o=e.clipPos(s.to);if(ko(n,o)){var a=Nr(e,n,o,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function Ur(e){for(var t=0;t<e.length;t++){var i=e[t],r=[i.primary.doc];Ws(i.primary.doc,function(e){r.push(e)});for(var s=0;s<i.markers.length;s++){var n=i.markers[s];-1==Tn(r,n.doc)&&(n.parent=null,i.markers.splice(s--,1))}}}function $r(e,t,i){this.marker=e,this.from=t,this.to=i}function Vr(e,t){if(e)for(var i=0;i<e.length;++i){var r=e[i];if(r.marker==t)return r}}function Gr(e,t){for(var i,r=0;r<e.length;++r)e[r]!=t&&(i||(i=[])).push(e[r]);return i}function Xr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Yr(e,t,i){if(e)for(var r,s=0;s<e.length;++s){var n=e[s],o=n.marker,a=null==n.from||(o.inclusiveLeft?n.from<=t:n.from<t);if(a||n.from==t&&"bookmark"==o.type&&(!i||!n.marker.insertLeft)){var l=null==n.to||(o.inclusiveRight?n.to>=t:n.to>t);(r||(r=[])).push(new $r(o,n.from,l?null:n.to))}}return r}function Kr(e,t,i){if(e)for(var r,s=0;s<e.length;++s){var n=e[s],o=n.marker,a=null==n.to||(o.inclusiveRight?n.to>=t:n.to>t);if(a||n.from==t&&"bookmark"==o.type&&(!i||n.marker.insertLeft)){var l=null==n.from||(o.inclusiveLeft?n.from<=t:n.from<t);(r||(r=[])).push(new $r(o,l?null:n.from-t,null==n.to?null:n.to-t))}}return r}function Jr(e,t){if(t.full)return null;var i=gt(e,t.from.line)&&Fs(e,t.from.line).markedSpans,r=gt(e,t.to.line)&&Fs(e,t.to.line).markedSpans;if(!i&&!r)return null;var s=t.from.ch,n=t.to.ch,o=0==ko(t.from,t.to),a=Yr(i,s,o),l=Kr(r,n,o),h=1==t.text.length,d=qn(t.text).length+(h?s:0);if(a)for(var c=0;c<a.length;++c){var u=a[c];if(null==u.to){var p=Vr(l,u.marker);p?h&&(u.to=null==p.to?null:p.to+d):u.to=s}}if(l)for(var c=0;c<l.length;++c){var u=l[c];if(null!=u.to&&(u.to+=d),null==u.from){var p=Vr(a,u.marker);p||(u.from=d,h&&(a||(a=[])).push(u))}else u.from+=d,h&&(a||(a=[])).push(u)}a&&(a=Zr(a)),l&&l!=a&&(l=Zr(l));var f=[a];if(!h){var m,g=t.text.length-2;if(g>0&&a)for(var c=0;c<a.length;++c)null==a[c].to&&(m||(m=[])).push(new $r(a[c].marker,null,null));for(var c=0;g>c;++c)f.push(m);f.push(l)}return f}function Zr(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Qr(e,t){var i=ln(e,t),r=Jr(e,t);if(!i)return r;if(!r)return i;for(var s=0;s<i.length;++s){var n=i[s],o=r[s];if(n&&o)e:for(var a=0;a<o.length;++a){for(var l=o[a],h=0;h<n.length;++h)if(n[h].marker==l.marker)continue e;n.push(l)}else o&&(i[s]=o)}return i}function es(e,t,i){var r=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||r&&-1!=Tn(r,i)||(r||(r=[])).push(i)}}),!r)return null;for(var s=[{from:t,to:i}],n=0;n<r.length;++n)for(var o=r[n],a=o.find(0),l=0;l<s.length;++l){var h=s[l];if(!(ko(h.to,a.from)<0||ko(h.from,a.to)>0)){var d=[l,1],c=ko(h.from,a.from),u=ko(h.to,a.to);(0>c||!o.inclusiveLeft&&!c)&&d.push({from:h.from,to:a.from}),(u>0||!o.inclusiveRight&&!u)&&d.push({from:a.to,to:h.to}),s.splice.apply(s,d),l+=d.length-1}}return s}function ts(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function is(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function rs(e){return e.inclusiveLeft?-1:0}function ss(e){return e.inclusiveRight?1:0}function ns(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var r=e.find(),s=t.find(),n=ko(r.from,s.from)||rs(e)-rs(t);if(n)return-n;var o=ko(r.to,s.to)||ss(e)-ss(t);return o?o:t.id-e.id}function os(e,t){var i,r=So&&e.markedSpans;if(r)for(var s,n=0;n<r.length;++n)s=r[n],s.marker.collapsed&&null==(t?s.from:s.to)&&(!i||ns(i,s.marker)<0)&&(i=s.marker);return i}function as(e){return os(e,!0)}function ls(e){return os(e,!1)}function hs(e,t,i,r,s){var n=Fs(e,t),o=So&&n.markedSpans;if(o)for(var a=0;a<o.length;++a){var l=o[a];if(l.marker.collapsed){var h=l.marker.find(0),d=ko(h.from,i)||rs(l.marker)-rs(s),c=ko(h.to,r)||ss(l.marker)-ss(s);if(!(d>=0&&0>=c||0>=d&&c>=0)&&(0>=d&&(ko(h.to,i)>0||l.marker.inclusiveRight&&s.inclusiveLeft)||d>=0&&(ko(h.from,r)<0||l.marker.inclusiveLeft&&s.inclusiveRight)))return!0}}}function ds(e){for(var t;t=as(e);)e=t.find(-1,!0).line;return e}function cs(e){for(var t,i;t=ls(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function us(e,t){var i=Fs(e,t),r=ds(i);return i==r?t:Gs(r)}function ps(e,t){if(t>e.lastLine())return t;var i,r=Fs(e,t);if(!fs(e,r))return t;for(;i=ls(r);)r=i.find(1,!0).line;return Gs(r)+1}function fs(e,t){var i=So&&t.markedSpans;if(i)for(var r,s=0;s<i.length;++s)if(r=i[s],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ms(e,t,r))return!0}}function ms(e,t,i){if(null==i.to){var r=i.marker.find(1,!0);return ms(e,r.line,Vr(r.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var s,n=0;n<t.markedSpans.length;++n)if(s=t.markedSpans[n],s.marker.collapsed&&!s.marker.widgetNode&&s.from==i.to&&(null==s.to||s.to!=i.from)&&(s.marker.inclusiveLeft||i.marker.inclusiveRight)&&ms(e,t,s))return!0}function gs(e,t,i){Ys(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&kr(e,null,i)}function vs(e){if(null!=e.height)return e.height;if(!Aa(document.body,e.node)){var t="position: relative;";e.coverGutter&&(t+="margin-left: -"+e.cm.display.gutters.offsetWidth+"px;"),e.noHScroll&&(t+="width: "+e.cm.display.wrapper.clientWidth+"px;"),En(e.cm.display.measure,Dn("div",[e.node],null,t))}return e.height=e.node.offsetHeight}function ws(e,t,i,r){var s=new ha(e,i,r);return s.noHScroll&&(e.display.alignWidgets=!0),Lr(e.doc,t,"widget",function(t){var i=t.widgets||(t.widgets=[]);if(null==s.insertAt?i.push(s):i.splice(Math.min(i.length-1,Math.max(0,s.insertAt)),0,s),s.line=t,!fs(e.doc,t)){var r=Ys(t)<e.doc.scrollTop;Vs(t,t.height+vs(s)),r&&kr(e,null,s.height),e.curOp.forceUpdate=!0}return!0}),s}function xs(e,t,i,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ts(e),is(e,i);var s=r?r(e):1;s!=e.height&&Vs(e,s)}function bs(e){e.parent=null,ts(e)}function _s(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var r=i[1]?"bgClass":"textClass";null==t[r]?t[r]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+i[2])}return e}function ys(t,i){if(t.blankLine)return t.blankLine(i);if(t.innerMode){var r=e.innerMode(t,i);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function js(t,i,r,s){for(var n=0;10>n;n++){s&&(s[0]=e.innerMode(t,r).mode);var o=t.token(i,r);if(i.pos>i.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Cs(e,t,i,r){function s(e){return{start:c.start,end:c.pos,string:c.current(),type:n||null,state:e?Zo(o.mode,d):d}}var n,o=e.doc,a=o.mode;t=ft(o,t);var l,h=Fs(o,t.line),d=Ot(e,t.line,i),c=new na(h.text,e.options.tabSize);for(r&&(l=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,n=js(a,c,d),r&&l.push(s(!0));return r?l:s()}function qs(e,t,i,r,s,n,o){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,h=0,d=null,c=new na(t,e.options.tabSize),u=e.options.addModeClass&&[null];for(""==t&&_s(ys(i,r),n);!c.eol();){if(c.pos>e.options.maxHighlightLength?(a=!1,o&&Is(e,t,r,c.pos),c.pos=t.length,l=null):l=_s(js(i,c,r,u),n),u){var p=u[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||d!=l){for(;h<c.start;)h=Math.min(c.start,h+5e4),s(h,d);d=l}c.start=c.pos}for(;h<c.pos;){var f=Math.min(c.pos,h+5e4);s(f,d),h=f}}function Ts(e,t,i,r){var s=[e.state.modeGen],n={};qs(e,t.text,e.doc.mode,i,function(e,t){s.push(e,t)},n,r);for(var o=0;o<e.state.overlays.length;++o){var a=e.state.overlays[o],l=1,h=0;qs(e,t.text,a.mode,!0,function(e,t){for(var i=l;e>h;){var r=s[l];r>e&&s.splice(l,1,e,s[l+1],r),l+=2,h=Math.min(e,r)}if(t)if(a.opaque)s.splice(i,l-i,e,"cm-overlay "+t),l=i+2;else for(;l>i;i+=2){var n=s[i+1];s[i+1]=(n?n+" ":"")+"cm-overlay "+t}},n)}return{styles:s,classes:n.bgClass||n.textClass?n:null}}function Ss(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Ts(e,t,t.stateAfter=Ot(e,Gs(t)));t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.frontier&&e.doc.frontier++}return t.styles}function Is(e,t,i,r){var s=e.doc.mode,n=new na(t,e.options.tabSize);for(n.start=n.pos=r||0,""==t&&ys(s,i);!n.eol()&&n.pos<=e.options.maxHighlightLength;)js(s,n,i),n.start=n.pos}function ks(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?ua:ca;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Bs(e,t){var i=Dn("span",null,null,uo?"padding-right: .1px":null),r={pre:Dn("pre",[i]),content:i,col:0,pos:0,cm:e};t.measure={};for(var s=0;s<=(t.rest?t.rest.length:0);s++){var n,o=s?t.rest[s-1]:t.line;r.pos=0,r.addToken=zs,(ho||uo)&&e.getOption("lineWrapping")&&(r.addToken=Ls(r.addToken)),$n(e.display.measure)&&(n=Ks(o))&&(r.addToken=Ps(r.addToken,n)),r.map=[];var a=t!=e.display.externalMeasured&&Gs(o);As(o,r,Ss(e,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=Nn(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=Nn(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Un(e.display.measure))),0==s?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return uo&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),ya(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Nn(r.pre.className,r.textClass||"")),r}function Hs(e){var t=Dn("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function zs(e,t,i,r,s,n,o){if(t){var a=e.cm.options.specialChars,l=!1;if(a.test(t))for(var h=document.createDocumentFragment(),d=0;;){a.lastIndex=d;var c=a.exec(t),u=c?c.index-d:t.length-d;if(u){var p=document.createTextNode(t.slice(d,d+u));h.appendChild(ho&&9>co?Dn("span",[p]):p),e.map.push(e.pos,e.pos+u,p),e.col+=u,e.pos+=u}if(!c)break;if(d+=u+1,"	"==c[0]){var f=e.cm.options.tabSize,m=f-e.col%f,p=h.appendChild(Dn("span",Cn(m),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","	"),e.col+=m}else{var p=e.cm.options.specialCharPlaceholder(c[0]);p.setAttribute("cm-text",c[0]),h.appendChild(ho&&9>co?Dn("span",[p]):p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var h=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,h),ho&&9>co&&(l=!0),e.pos+=t.length}if(i||r||s||l||o){var g=i||"";r&&(g+=r),s&&(g+=s);var v=Dn("span",[h],g,o);return n&&(v.title=n),e.content.appendChild(v)}e.content.appendChild(h)}}function Ls(e){function t(e){for(var t=" ",i=0;i<e.length-2;++i)t+=i%2?" ":" ";return t+=" "}return function(i,r,s,n,o,a){e(i,r.replace(/ {3,}/g,t),s,n,o,a)}}function Ps(e,t){return function(i,r,s,n,o,a){s=s?s+" cm-force-border":"cm-force-border";for(var l=i.pos,h=l+r.length;;){for(var d=0;d<t.length;d++){var c=t[d];if(c.to>l&&c.from<=l)break}if(c.to>=h)return e(i,r,s,n,o,a);e(i,r.slice(0,c.to-l),s,n,null,a),n=null,r=r.slice(c.to-l),l=c.to}}}function Ds(e,t,i,r){var s=!r&&i.widgetNode;s&&e.map.push(e.pos,e.pos+t,s),!r&&e.cm.display.input.needsContentAttribute&&(s||(s=e.content.appendChild(document.createElement("span"))),s.setAttribute("cm-marker",i.id)),s&&(e.cm.display.input.setUneditable(s),e.content.appendChild(s)),e.pos+=t}function As(e,t,i){var r=e.markedSpans,s=e.text,n=0;if(r)for(var o,a,l,h,d,c,u,p=s.length,f=0,m=1,g="",v=0;;){if(v==f){l=h=d=c=a="",u=null,v=1/0;for(var w=[],x=0;x<r.length;++x){var b=r[x],_=b.marker;b.from<=f&&(null==b.to||b.to>f)?(null!=b.to&&v>b.to&&(v=b.to,h=""),_.className&&(l+=" "+_.className),_.css&&(a=_.css),_.startStyle&&b.from==f&&(d+=" "+_.startStyle),_.endStyle&&b.to==v&&(h+=" "+_.endStyle),_.title&&!c&&(c=_.title),_.collapsed&&(!u||ns(u.marker,_)<0)&&(u=b)):b.from>f&&v>b.from&&(v=b.from),"bookmark"==_.type&&b.from==f&&_.widgetNode&&w.push(_)}if(u&&(u.from||0)==f&&(Ds(t,(null==u.to?p+1:u.to)-f,u.marker,null==u.from),null==u.to))return;if(!u&&w.length)for(var x=0;x<w.length;++x)Ds(t,0,w[x])}if(f>=p)break;for(var y=Math.min(p,v);;){if(g){var j=f+g.length;if(!u){var C=j>y?g.slice(0,y-f):g;t.addToken(t,C,o?o+l:l,d,f+C.length==v?h:"",c,a)}if(j>=y){g=g.slice(y-f),f=y;break}f=j,d=""}g=s.slice(n,n=i[m++]),o=ks(i[m++],t.cm.options)}}else for(var m=1;m<i.length;m+=2)t.addToken(t,s.slice(n,n=i[m]),ks(i[m+1],t.cm.options))}function Es(e,t){return 0==t.from.ch&&0==t.to.ch&&""==qn(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ms(e,t,i,r){function s(e){return i?i[e]:null}function n(e,i,s){xs(e,i,s,r),gn(e,"change",e,t)}function o(e,t){for(var i=e,n=[];t>i;++i)n.push(new da(h[i],s(i),r));return n}var a=t.from,l=t.to,h=t.text,d=Fs(e,a.line),c=Fs(e,l.line),u=qn(h),p=s(h.length-1),f=l.line-a.line;if(t.full)e.insert(0,o(0,h.length)),e.remove(h.length,e.size-h.length);else if(Es(e,t)){var m=o(0,h.length-1);n(c,c.text,p),f&&e.remove(a.line,f),m.length&&e.insert(a.line,m)}else if(d==c)if(1==h.length)n(d,d.text.slice(0,a.ch)+u+d.text.slice(l.ch),p);else{var m=o(1,h.length-1);m.push(new da(u+d.text.slice(l.ch),p,r)),n(d,d.text.slice(0,a.ch)+h[0],s(0)),e.insert(a.line+1,m)}else if(1==h.length)n(d,d.text.slice(0,a.ch)+h[0]+c.text.slice(l.ch),s(0)),e.remove(a.line+1,f);else{n(d,d.text.slice(0,a.ch)+h[0],s(0)),n(c,u+c.text.slice(l.ch),p);var m=o(1,h.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,m)}gn(e,"change",e,t)}function Os(e){this.lines=e,this.parent=null;for(var t=0,i=0;t<e.length;++t)e[t].parent=this,i+=e[t].height;this.height=i}function Ns(e){this.children=e;for(var t=0,i=0,r=0;r<e.length;++r){var s=e[r];t+=s.chunkSize(),i+=s.height,s.parent=this}this.size=t,this.height=i,this.parent=null}function Ws(e,t,i){function r(e,s,n){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=s){var l=n&&a.sharedHist;(!i||l)&&(t(a.doc,l),r(a.doc,e,l))}}}r(e,null,!0)}function Rs(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),i(e),e.options.lineWrapping||u(e),e.options.mode=t.modeOption,zi(e)}function Fs(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var r=0;;++r){var s=i.children[r],n=s.chunkSize();if(n>t){i=s;break}t-=n}return i.lines[t]}function Us(e,t,i){var r=[],s=t.line;return e.iter(t.line,i.line+1,function(e){var n=e.text;s==i.line&&(n=n.slice(0,i.ch)),s==t.line&&(n=n.slice(t.ch)),r.push(n),++s}),r}function $s(e,t,i){var r=[];return e.iter(t,i,function(e){r.push(e.text)}),r}function Vs(e,t){var i=t-e.height;if(i)for(var r=e;r;r=r.parent)r.height+=i}function Gs(e){if(null==e.parent)return null;for(var t=e.parent,i=Tn(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var s=0;r.children[s]!=t;++s)i+=r.children[s].chunkSize();return i+t.first}function Xs(e,t){var i=e.first;e:do{for(var r=0;r<e.children.length;++r){var s=e.children[r],n=s.height;if(n>t){e=s;continue e}t-=n,i+=s.chunkSize()}return i}while(!e.lines);for(var r=0;r<e.lines.length;++r){var o=e.lines[r],a=o.height;if(a>t)break;t-=a}return i+r}function Ys(e){e=ds(e);for(var t=0,i=e.parent,r=0;r<i.lines.length;++r){var s=i.lines[r];if(s==e)break;t+=s.height}for(var n=i.parent;n;i=n,n=i.parent)for(var r=0;r<n.children.length;++r){var o=n.children[r];if(o==i)break;t+=o.height}return t}function Ks(e){var t=e.order;return null==t&&(t=e.order=Ya(e.text)),t}function Js(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Zs(e,t){var i={from:G(t.from),to:Fo(t),text:Us(e,t.from,t.to)};return on(e,i,t.from.line,t.to.line+1),Ws(e,function(e){on(e,i,t.from.line,t.to.line+1)},!0),i}function Qs(e){for(;e.length;){var t=qn(e);if(!t.ranges)break;e.pop()}}function en(e,t){return t?(Qs(e.done),qn(e.done)):e.done.length&&!qn(e.done).ranges?qn(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),qn(e.done)):void 0}function tn(e,t,i,r){var s=e.history;s.undone.length=0;var n,o=+new Date;if((s.lastOp==r||s.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&s.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(n=en(s,s.lastOp==r))){var a=qn(n.changes);0==ko(t.from,t.to)&&0==ko(t.from,a.to)?a.to=Fo(t):n.changes.push(Zs(e,t))}else{var l=qn(s.done);for(l&&l.ranges||nn(e.sel,s.done),n={changes:[Zs(e,t)],generation:s.generation},s.done.push(n);s.done.length>s.undoDepth;)s.done.shift(),s.done[0].ranges||s.done.shift()}s.done.push(i),s.generation=++s.maxGeneration,s.lastModTime=s.lastSelTime=o,s.lastOp=s.lastSelOp=r,s.lastOrigin=s.lastSelOrigin=t.origin,a||ya(e,"historyAdded")}function rn(e,t,i,r){var s=t.charAt(0);return"*"==s||"+"==s&&i.ranges.length==r.ranges.length&&i.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function sn(e,t,i,r){var s=e.history,n=r&&r.origin;i==s.lastSelOp||n&&s.lastSelOrigin==n&&(s.lastModTime==s.lastSelTime&&s.lastOrigin==n||rn(e,n,qn(s.done),t))?s.done[s.done.length-1]=t:nn(t,s.done),s.lastSelTime=+new Date,s.lastSelOrigin=n,s.lastSelOp=i,r&&r.clearRedo!==!1&&Qs(s.undone)}function nn(e,t){var i=qn(t);i&&i.ranges&&i.equals(e)||t.push(e)}function on(e,t,i,r){var s=t["spans_"+e.id],n=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,r),function(i){i.markedSpans&&((s||(s=t["spans_"+e.id]={}))[n]=i.markedSpans),++n})}function an(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function ln(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var r=0,s=[];r<t.text.length;++r)s.push(an(i[r]));return s}function hn(e,t,i){for(var r=0,s=[];r<e.length;++r){var n=e[r];if(n.ranges)s.push(i?ht.prototype.deepCopy.call(n):n);else{var o=n.changes,a=[];s.push({changes:a});for(var l=0;l<o.length;++l){var h,d=o[l];if(a.push({from:d.from,to:d.to,text:d.text}),t)for(var c in d)(h=c.match(/^spans_(\d+)$/))&&Tn(t,Number(h[1]))>-1&&(qn(a)[c]=d[c],delete d[c])}}}return s}function dn(e,t,i,r){i<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function cn(e,t,i,r){for(var s=0;s<e.length;++s){var n=e[s],o=!0;if(n.ranges){n.copied||(n=e[s]=n.deepCopy(),n.copied=!0);for(var a=0;a<n.ranges.length;a++)dn(n.ranges[a].anchor,t,i,r),dn(n.ranges[a].head,t,i,r)}else{for(var a=0;a<n.changes.length;++a){var l=n.changes[a];if(i<l.from.line)l.from=Io(l.from.line+r,l.from.ch),l.to=Io(l.to.line+r,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,s+1),s=0)}}}function un(e,t){var i=t.from.line,r=t.to.line,s=t.text.length-(r-i)-1;cn(e.done,i,r,s),cn(e.undone,i,r,s)}function pn(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function fn(e){return e.target||e.srcElement}function mn(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),_o&&e.ctrlKey&&1==t&&(t=3),t}function gn(e,t){function i(e){return function(){e.apply(null,n)}}var r=e._handlers&&e._handlers[t];if(r){var s,n=Array.prototype.slice.call(arguments,2);Do?s=Do.delayedCallbacks:ja?s=ja:(s=ja=[],setTimeout(vn,0));for(var o=0;o<r.length;++o)s.push(i(r[o]))}}function vn(){var e=ja;ja=null;for(var t=0;t<e.length;++t)e[t]()}function wn(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ya(e,i||t.type,e,t),pn(t)||t.codemirrorIgnore}function xn(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==Tn(i,t[r])&&i.push(t[r])}function bn(e,t){var i=e._handlers&&e._handlers[t];return i&&i.length>0}function _n(e){e.prototype.on=function(e,t){ba(this,e,t)},e.prototype.off=function(e,t){_a(this,e,t)}}function yn(){this.id=null}function jn(e,t,i){for(var r=0,s=0;;){var n=e.indexOf("	",r);-1==n&&(n=e.length);var o=n-r;if(n==e.length||s+o>=t)return r+Math.min(o,t-s);if(s+=n-r,s+=i-s%i,r=n+1,s>=t)return r}}function Cn(e){for(;Ba.length<=e;)Ba.push(qn(Ba)+" ");return Ba[e]}function qn(e){return e[e.length-1]}function Tn(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}function Sn(e,t){for(var i=[],r=0;r<e.length;r++)i[r]=t(e[r],r);return i}function In(){}function kn(e,t){var i;return Object.create?i=Object.create(e):(In.prototype=e,i=new In),t&&Bn(t,i),i}function Bn(e,t,i){t||(t={});for(var r in e)!e.hasOwnProperty(r)||i===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function Hn(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function zn(e,t){return t?t.source.indexOf("\\w")>-1&&Pa(e)?!0:t.test(e):Pa(e)}function Ln(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Pn(e){return e.charCodeAt(0)>=768&&Da.test(e)}function Dn(e,t,i,r){var s=document.createElement(e);if(i&&(s.className=i),r&&(s.style.cssText=r),"string"==typeof t)s.appendChild(document.createTextNode(t));else if(t)for(var n=0;n<t.length;++n)s.appendChild(t[n]);return s}function An(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function En(e,t){return An(e).appendChild(t)}function Mn(){return document.activeElement}function On(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Nn(e,t){for(var i=e.split(" "),r=0;r<i.length;r++)i[r]&&!On(i[r]).test(t)&&(t+=" "+i[r]);return t}function Wn(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var r=t[i].CodeMirror;r&&e(r)}}function Rn(){Wa||(Fn(),Wa=!0)}function Fn(){var e;ba(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Wn(Ni)},100))}),ba(window,"blur",function(){Wn(dr)})}function Un(e){if(null==Ea){var t=Dn("span","​");En(e,Dn("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ea=t.offsetWidth<=1&&t.offsetHeight>2&&!(ho&&8>co))}var i=Ea?Dn("span","​"):Dn("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function $n(e){if(null!=Ma)return Ma;var t=En(e,document.createTextNode("AخA")),i=za(t,0,1).getBoundingClientRect();if(!i||i.left==i.right)return!1;var r=za(t,1,2).getBoundingClientRect();return Ma=r.right-i.right<3}function Vn(e){if(null!=Va)return Va;var t=En(e,Dn("span","x")),i=t.getBoundingClientRect(),r=za(t,0,1).getBoundingClientRect();return Va=Math.abs(i.left-r.left)>1}function Gn(e,t,i,r){if(!e)return r(t,i,"ltr");for(var s=!1,n=0;n<e.length;++n){var o=e[n];(o.from<i&&o.to>t||t==i&&o.to==t)&&(r(Math.max(o.from,t),Math.min(o.to,i),1==o.level?"rtl":"ltr"),s=!0)}s||r(t,i,"ltr")}function Xn(e){return e.level%2?e.to:e.from}function Yn(e){return e.level%2?e.from:e.to}function Kn(e){var t=Ks(e);return t?Xn(t[0]):0}function Jn(e){var t=Ks(e);return t?Yn(qn(t)):e.text.length}function Zn(e,t){var i=Fs(e.doc,t),r=ds(i);r!=i&&(t=Gs(r));var s=Ks(r),n=s?s[0].level%2?Jn(r):Kn(r):0;return Io(t,n)}function Qn(e,t){for(var i,r=Fs(e.doc,t);i=ls(r);)r=i.find(1,!0).line,t=null;var s=Ks(r),n=s?s[0].level%2?Kn(r):Jn(r):r.text.length;return Io(null==t?Gs(r):t,n)}function eo(e,t){var i=Zn(e,t.line),r=Fs(e.doc,i.line),s=Ks(r);if(!s||0==s[0].level){var n=Math.max(0,r.text.search(/\S/)),o=t.line==i.line&&t.ch<=n&&t.ch;return Io(i.line,o?0:n)}return i}function to(e,t,i){var r=e[0].level;return t==r?!0:i==r?!1:i>t}function io(e,t){Xa=null;for(var i,r=0;r<e.length;++r){var s=e[r];if(s.from<t&&s.to>t)return r;if(s.from==t||s.to==t){if(null!=i)return to(e,s.level,e[i].level)?(s.from!=s.to&&(Xa=i),r):(s.from!=s.to&&(Xa=r),i);i=r}}return i}function ro(e,t,i,r){if(!r)return t+i;do t+=i;while(t>0&&Pn(e.text.charAt(t)));return t}function so(e,t,i,r){var s=Ks(e);if(!s)return no(e,t,i,r);for(var n=io(s,t),o=s[n],a=ro(e,t,o.level%2?-i:i,r);;){if(a>o.from&&a<o.to)return a;if(a==o.from||a==o.to)return io(s,a)==n?a:(o=s[n+=i],i>0==o.level%2?o.to:o.from);if(o=s[n+=i],!o)return null;a=i>0==o.level%2?ro(e,o.to,-1,r):ro(e,o.from,1,r)}}function no(e,t,i,r){var s=t+i;if(r)for(;s>0&&Pn(e.text.charAt(s));)s+=i;return 0>s||s>e.text.length?null:s}var oo=/gecko\/\d/i.test(navigator.userAgent),ao=/MSIE \d/.test(navigator.userAgent),lo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ho=ao||lo,co=ho&&(ao?document.documentMode||6:lo[1]),uo=/WebKit\//.test(navigator.userAgent),po=uo&&/Qt\/\d+\.\d+/.test(navigator.userAgent),fo=/Chrome\//.test(navigator.userAgent),mo=/Opera\//.test(navigator.userAgent),go=/Apple Computer/.test(navigator.vendor),vo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),wo=/PhantomJS/.test(navigator.userAgent),xo=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),bo=xo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),_o=xo||/Mac/.test(navigator.platform),yo=/win/i.test(navigator.platform),jo=mo&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);jo&&(jo=Number(jo[1])),jo&&jo>=15&&(mo=!1,uo=!0);var Co=_o&&(po||mo&&(null==jo||12.11>jo)),qo=oo||ho&&co>=9,To=!1,So=!1;m.prototype=Bn({update:function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var s=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+s)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var n=e.viewWidth-e.barLeft-(i?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+n+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==r&&this.overlayHack(),this.checkedOverlay=!0),{right:i?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=_o&&!vo?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,i=function(e){fn(e)!=t.vert&&fn(e)!=t.horiz&&Si(t.cm,Fi)(e)};ba(this.vert,"mousedown",i),ba(this.horiz,"mousedown",i)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=Bn({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":m,"null":g},q.prototype.signal=function(e,t){bn(e,t)&&this.events.push(arguments)},q.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ya.apply(null,this.events[e])};var Io=e.Pos=function(e,t){return this instanceof Io?(this.line=e,void(this.ch=t)):new Io(e,t)},ko=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Bo=null;tt.prototype=Bn({init:function(e){function t(e){if(r.somethingSelected())Bo=r.getSelections(),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,n.value=Bo.join("\n"),Ha(n));else{var t=Q(r);Bo=t.text,"cut"==e.type?r.setSelections(t.ranges,null,Ta):(i.prevInput="",n.value=t.text.join("\n"),Ha(n))}"cut"==e.type&&(r.state.cutIncoming=!0)}var i=this,r=this.cm,s=this.wrapper=it(),n=this.textarea=s.firstChild;e.wrapper.insertBefore(s,e.wrapper.firstChild),xo&&(n.style.width="0px"),ba(n,"input",function(){ho&&co>=9&&i.hasSelection&&(i.hasSelection=null),i.poll()}),ba(n,"paste",function(){if(uo&&!r.state.fakedLastChar&&!(new Date-r.state.lastMiddleDown<200)){var e=n.selectionStart,t=n.selectionEnd;n.value+="$",n.selectionEnd=t,n.selectionStart=e,r.state.fakedLastChar=!0}r.state.pasteIncoming=!0,i.fastPoll()}),ba(n,"cut",t),ba(n,"copy",t),ba(e.scroller,"paste",function(t){Wi(e,t)||(r.state.pasteIncoming=!0,i.focus())}),ba(e.lineSpace,"selectstart",function(t){Wi(e,t)||va(t)})},prepareSelection:function(){var e=this.cm,t=e.display,i=e.doc,r=zt(e);if(e.options.moveInputWithCursor){var s=di(e,i.sel.primary().head,"div"),n=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,s.top+o.top-n.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,s.left+o.left-n.left))}return r},showSelection:function(e){var t=this.cm,i=t.display;En(i.cursorDiv,e.cursors),En(i.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,i,r=this.cm,s=r.doc;if(r.somethingSelected()){this.prevInput="";var n=s.sel.primary();t=$a&&(n.to().line-n.from().line>100||(i=r.getSelection()).length>1e3);var o=t?"-":i||r.getSelection();this.textarea.value=o,r.state.focused&&Ha(this.textarea),ho&&co>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",ho&&co>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!bo||Mn()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var r=i.poll();r||t?(i.pollingFast=!1,i.slowPoll()):(t=!0,i.polling.set(60,e))}var t=!1,i=this;i.pollingFast=!0,i.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,i=this.prevInput;if(!e.state.focused||Ua(t)&&!i||J(e)||e.options.disableInput||e.state.keySeq)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);
var r=t.value;if(r==i&&!e.somethingSelected())return!1;if(ho&&co>=9&&this.hasSelection===r||_o&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;8203!=r.charCodeAt(0)||e.doc.sel!=e.display.selForContextMenu||i||(i="​");for(var s=0,n=Math.min(i.length,r.length);n>s&&i.charCodeAt(s)==r.charCodeAt(s);)++s;var o=this;return Ti(e,function(){Z(e,r.slice(s),i.length-s),r.length>1e3||r.indexOf("\n")>-1?t.value=o.prevInput="":o.prevInput=r}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ho&&co>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=o.selectionStart){var e=s.somethingSelected(),t=o.value="​"+(e?o.value:"");r.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,n.selForContextMenu=s.doc.sel}}function i(){if(r.contextMenuPending=!1,r.wrapper.style.position="relative",o.style.cssText=d,ho&&9>co&&n.scrollbars.setScrollTop(n.scroller.scrollTop=l),null!=o.selectionStart){(!ho||ho&&9>co)&&t();var e=0,i=function(){n.selForContextMenu==s.doc.sel&&0==o.selectionStart?Si(s,ea.selectAll)(s):e++<10?n.detectingSelectAll=setTimeout(i,500):n.input.reset()};n.detectingSelectAll=setTimeout(i,200)}}var r=this,s=r.cm,n=s.display,o=r.textarea,a=Ri(s,e),l=n.scroller.scrollTop;if(a&&!mo){var h=s.options.resetSelectionOnContextMenu;h&&-1==s.doc.sel.contains(a)&&Si(s,qt)(s.doc,ut(a),Ta);var d=o.style.cssText;if(r.wrapper.style.position="absolute",o.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(ho?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",uo)var c=window.scrollY;if(n.input.focus(),uo&&window.scrollTo(null,c),n.input.reset(),s.somethingSelected()||(o.value=r.prevInput=" "),r.contextMenuPending=!0,n.selForContextMenu=s.doc.sel,clearTimeout(n.detectingSelectAll),ho&&co>=9&&t(),qo){xa(e);var u=function(){_a(window,"mouseup",u),setTimeout(i,20)};ba(window,"mouseup",u)}else setTimeout(i,50)}},setUneditable:In,needsContentAttribute:!1},tt.prototype),rt.prototype=Bn({init:function(e){function t(e){if(r.somethingSelected())Bo=r.getSelections(),"cut"==e.type&&r.replaceSelection("",null,"cut");else{var t=Q(r);Bo=t.text,"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Ta),r.replaceSelection("",null,"cut")})}if(e.clipboardData&&!xo)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Bo.join("\n"));else{var i=it(),s=i.firstChild;r.display.lineSpace.insertBefore(i,r.display.lineSpace.firstChild),s.value=Bo.join("\n");var n=document.activeElement;Ha(s),setTimeout(function(){r.display.lineSpace.removeChild(i),n.focus()},50)}}var i=this,r=i.cm,s=i.div=e.lineDiv;s.contentEditable="true",et(s),ba(s,"paste",function(e){var t=e.clipboardData&&e.clipboardData.getData("text/plain");t&&(e.preventDefault(),r.replaceSelection(t,null,"paste"))}),ba(s,"compositionstart",function(e){var t=e.data;if(i.composing={sel:r.doc.sel,data:t,startData:t},t){var s=r.doc.sel.primary(),n=r.getLine(s.head.line),o=n.indexOf(t,Math.max(0,s.head.ch-t.length));o>-1&&o<=s.head.ch&&(i.composing.sel=ut(Io(s.head.line,o),Io(s.head.line,o+t.length)))}}),ba(s,"compositionupdate",function(e){i.composing.data=e.data}),ba(s,"compositionend",function(e){var t=i.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||i.applyComposition(t),i.composing==t&&(i.composing=null)},50))}),ba(s,"touchstart",function(){i.forceCompositionEnd()}),ba(s,"input",function(){i.composing||i.pollContent()||Ti(i.cm,function(){zi(r)})}),ba(s,"copy",t),ba(s,"cut",t)},prepareSelection:function(){var e=zt(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),i=ot(this.cm,e.anchorNode,e.anchorOffset),r=ot(this.cm,e.focusNode,e.focusOffset);if(!i||i.bad||!r||r.bad||0!=ko(Y(i,r),t.from())||0!=ko(X(i,r),t.to())){var s=st(this.cm,t.from()),n=st(this.cm,t.to());if(s||n){var o=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(s){if(!n){var l=o[o.length-1].measure,h=l.maps?l.maps[l.maps.length-1]:l.map;n={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}}else s={node:o[0].measure.map[2],offset:0};try{var d=za(s.node,s.offset,n.offset,n.node)}catch(c){}d&&(e.removeAllRanges(),e.addRange(d),a&&null==e.anchorNode&&e.addRange(a)),this.rememberSelection()}}},showMultipleSelections:function(e){En(this.cm.display.cursorDiv,e.cursors),En(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Aa(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Ti(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},pollSelection:function(){if(!this.composing){var e=window.getSelection(),t=this.cm;if(e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset){this.rememberSelection();var i=ot(t,e.anchorNode,e.anchorOffset),r=ot(t,e.focusNode,e.focusOffset);i&&r&&Ti(t,function(){qt(t.doc,ut(i,r),Ta),(i.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},pollContent:function(){var e=this.cm,t=e.display,i=e.doc.sel.primary(),r=i.from(),s=i.to();if(r.line<t.viewFrom||s.line>t.viewTo-1)return!1;var n;if(r.line==t.viewFrom||0==(n=Di(e,r.line)))var o=Gs(t.view[0].line),a=t.view[0].node;else var o=Gs(t.view[n].line),a=t.view[n-1].node.nextSibling;var l=Di(e,s.line);if(l==t.view.length-1)var h=t.viewTo-1,d=t.view[l].node;else var h=Gs(t.view[l+1].line)-1,d=t.view[l+1].node.previousSibling;for(var c=Fa(lt(e,a,d,o,h)),u=Us(e.doc,Io(o,0),Io(h,Fs(e.doc,h).text.length));c.length>1&&u.length>1;)if(qn(c)==qn(u))c.pop(),u.pop(),h--;else{if(c[0]!=u[0])break;c.shift(),u.shift(),o++}for(var p=0,f=0,m=c[0],g=u[0],v=Math.min(m.length,g.length);v>p&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var w=qn(c),x=qn(u),b=Math.min(w.length-(1==c.length?p:0),x.length-(1==u.length?p:0));b>f&&w.charCodeAt(w.length-f-1)==x.charCodeAt(x.length-f-1);)++f;c[c.length-1]=w.slice(0,w.length-f),c[0]=c[0].slice(p);var _=Io(o,p),y=Io(h,u.length?qn(u).length-f:0);return c.length>1||c[0]||ko(_,y)?(Cr(e.doc,c,_,y,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&Si(this.cm,Z)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),Si(this.cm,Z)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:In,resetPosition:In,needsContentAttribute:!0},rt.prototype),e.inputStyles={textarea:tt,contenteditable:rt},ht.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],r=e.ranges[t];if(0!=ko(i.anchor,r.anchor)||0!=ko(i.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new dt(G(this.ranges[t].anchor),G(this.ranges[t].head));return new ht(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var r=this.ranges[i];if(ko(t,r.from())>=0&&ko(e,r.to())<=0)return i}return-1}},dt.prototype={from:function(){return Y(this.anchor,this.head)},to:function(){return X(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ho,zo,Lo,Po={left:0,right:0,top:0,bottom:0},Do=null,Ao=0,Eo=0,Mo=0,Oo=null;ho?Oo=-.53:oo?Oo=15:fo?Oo=-.7:go&&(Oo=-1/3);var No=function(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}};e.wheelEventPixels=function(e){var t=No(e);return t.x*=Oo,t.y*=Oo,t};var Wo=new yn,Ro=null,Fo=e.changeEnd=function(e){return e.text?Io(e.from.line+e.text.length-1,qn(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,r=i[e];(i[e]!=t||"mode"==e)&&(i[e]=t,$o.hasOwnProperty(e)&&Si(this,$o[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Or(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Ii(function(t,i){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:i&&i.opaque}),this.state.modeGen++,zi(this)}),removeOverlay:Ii(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var r=t[i].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(i,1),this.state.modeGen++,void zi(this)}}),indentLine:Ii(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),gt(this.doc,e)&&zr(this,e,t,i)}),indentSelection:Ii(function(e){for(var t=this.doc.sel.ranges,i=-1,r=0;r<t.length;r++){var s=t[r];if(s.empty())s.head.line>i&&(zr(this,s.head.line,e,!0),i=s.head.line,r==this.doc.sel.primIndex&&Br(this));else{var n=s.from(),o=s.to(),a=Math.max(i,n.line);i=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=a;i>l;++l)zr(this,l,e);var h=this.doc.sel.ranges;0==n.ch&&t.length==h.length&&h[r].from().ch>0&&_t(this.doc,r,new dt(n,h[r].to()),Ta)}}}),getTokenAt:function(e,t){return Cs(this,e,t)},getLineTokens:function(e,t){return Cs(this,Io(e),t,!0)},getTokenTypeAt:function(e){e=ft(this.doc,e);var t,i=Ss(this,Fs(this.doc,e.line)),r=0,s=(i.length-1)/2,n=e.ch;if(0==n)t=i[2];else for(;;){var o=r+s>>1;if((o?i[2*o-1]:0)>=n)s=o;else{if(!(i[2*o+1]<n)){t=i[2*o+2];break}r=o+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!Jo.hasOwnProperty(t))return Jo;var r=Jo[t],s=this.getModeAt(e);if("string"==typeof s[t])r[s[t]]&&i.push(r[s[t]]);else if(s[t])for(var n=0;n<s[t].length;n++){var o=r[s[t][n]];o&&i.push(o)}else s.helperType&&r[s.helperType]?i.push(r[s.helperType]):r[s.name]&&i.push(r[s.name]);for(var n=0;n<r._global.length;n++){var a=r._global[n];a.pred(s,this)&&-1==Tn(i,a.val)&&i.push(a.val)}return i},getStateAfter:function(e,t){var i=this.doc;return e=pt(i,null==e?i.first+i.size-1:e),Ot(this,e+1,t)},cursorCoords:function(e,t){var i,r=this.doc.sel.primary();return i=null==e?r.head:"object"==typeof e?ft(this.doc,e):e?r.from():r.to(),di(this,i,t||"page")},charCoords:function(e,t){return hi(this,ft(this.doc,e),t||"page")},coordsChar:function(e,t){return e=li(this,e,t||"page"),pi(this,e.left,e.top)},lineAtHeight:function(e,t){return e=li(this,{top:e,left:0},t||"page").top,Xs(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var i=!1,r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0);var s=Fs(this.doc,e);return ai(this,s,{top:0,left:0},t||"page").top+(i?this.doc.height-Ys(s):0)},defaultTextHeight:function(){return mi(this.display)},defaultCharWidth:function(){return gi(this.display)},setGutterMarker:Ii(function(e,t,i){return Lr(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=i,!i&&Ln(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Ii(function(e){var t=this,i=t.doc,r=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&(i.gutterMarkers[e]=null,Li(t,r,"gutter"),Ln(i.gutterMarkers)&&(i.gutterMarkers=null)),++r})}),addLineWidget:Ii(function(e,t,i){return ws(this,e,t,i)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!gt(this.doc,e))return null;var t=e;if(e=Fs(this.doc,e),!e)return null}else{var t=Gs(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,r,s){var n=this.display;e=di(this,ft(this.doc,e));var o=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),n.sizer.appendChild(t),"over"==r)o=e.top;else if("above"==r||"near"==r){var l=Math.max(n.wrapper.clientHeight,this.doc.height),h=Math.max(n.sizer.clientWidth,n.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),a+t.offsetWidth>h&&(a=h-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==s?(a=n.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==s?a=0:"middle"==s&&(a=(n.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),i&&Sr(this,a,o,a+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:Ii(nr),triggerOnKeyPress:Ii(lr),triggerOnKeyUp:ar,execCommand:function(e){return ea.hasOwnProperty(e)?ea[e](this):void 0},findPosH:function(e,t,i,r){var s=1;0>t&&(s=-1,t=-t);for(var n=0,o=ft(this.doc,e);t>n&&(o=Dr(this.doc,o,s,i,r),!o.hitSide);++n);return o},moveH:Ii(function(e,t){var i=this;i.extendSelectionsBy(function(r){return i.display.shift||i.doc.extend||r.empty()?Dr(i.doc,r.head,e,t,i.options.rtlMoveVisually):0>e?r.from():r.to()},Ia)}),deleteH:Ii(function(e,t){var i=this.doc.sel,r=this.doc;i.somethingSelected()?r.replaceSelection("",null,"+delete"):Pr(this,function(i){var s=Dr(r,i.head,e,t,!1);return 0>e?{from:s,to:i.head}:{from:i.head,to:s}})}),findPosV:function(e,t,i,r){var s=1,n=r;0>t&&(s=-1,t=-t);for(var o=0,a=ft(this.doc,e);t>o;++o){var l=di(this,a,"div");if(null==n?n=l.left:l.left=n,a=Ar(this,l,s,i),a.hitSide)break}return a},moveV:Ii(function(e,t){var i=this,r=this.doc,s=[],n=!i.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(o){if(n)return 0>e?o.from():o.to();var a=di(i,o.head,"div");null!=o.goalColumn&&(a.left=o.goalColumn),s.push(a.left);var l=Ar(i,a,e,t);return"page"==t&&o==r.sel.primary()&&kr(i,null,hi(i,l,"div").top-a.top),l},Ia),s.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=s[o]}),findWordAt:function(e){var t=this.doc,i=Fs(t,e.line).text,r=e.ch,s=e.ch;if(i){var n=this.getHelper(e,"wordChars");(e.xRel<0||s==i.length)&&r?--r:++s;for(var o=i.charAt(r),a=zn(o,n)?function(e){return zn(e,n)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!zn(e)};r>0&&a(i.charAt(r-1));)--r;for(;s<i.length&&a(i.charAt(s));)++s}return new dt(Io(e.line,r),Io(e.line,s))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Na(this.display.cursorDiv,"CodeMirror-overwrite"):Oa(this.display.cursorDiv,"CodeMirror-overwrite"),ya(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Mn()},scrollTo:Ii(function(e,t){(null!=e||null!=t)&&Hr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ft(this)-this.display.barHeight,width:e.scrollWidth-Ft(this)-this.display.barWidth,clientHeight:$t(this),clientWidth:Ut(this)}},scrollIntoView:Ii(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Io(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Hr(this),this.curOp.scrollToPos=e;else{var i=Ir(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:Ii(function(e,t){function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=i(e)),null!=t&&(r.display.wrapper.style.height=i(t)),r.options.lineWrapping&&ri(this);var s=r.display.viewFrom;r.doc.iter(s,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Li(r,s,"widget");break}++s}),r.curOp.forceUpdate=!0,ya(r,"refresh",this)}),operation:function(e){return Ti(this,e)},refresh:Ii(function(){var e=this.display.cachedTextHeight;zi(this),this.curOp.forceUpdate=!0,si(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),d(this),(null==e||Math.abs(e-mi(this.display))>.5)&&o(this),ya(this,"refresh",this)}),swapDoc:Ii(function(e){var t=this.doc;return t.cm=null,Rs(this,e),si(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,gn(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_n(e);var Uo=e.defaults={},$o=e.optionHandlers={},Vo=e.Init={toString:function(){return"CodeMirror.Init"}};Er("value","",function(e,t){e.setValue(t)},!0),Er("mode",null,function(e,t){e.doc.modeOption=t,i(e)},!0),Er("indentUnit",2,i,!0),Er("indentWithTabs",!1),Er("smartIndent",!0),Er("tabSize",4,function(e){r(e),si(e),zi(e)},!0),Er("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),Er("specialCharPlaceholder",Hs,function(e){e.refresh()},!0),Er("electricChars",!0),Er("inputStyle",bo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Er("rtlMoveVisually",!yo),Er("wholeLineUpdateBefore",!0),Er("theme","default",function(e){a(e),l(e)},!0),Er("keyMap","default",function(t,i,r){var s=Or(i),n=r!=e.Init&&Or(r);n&&n.detach&&n.detach(t,s),s.attach&&s.attach(t,n||null)}),Er("extraKeys",null),Er("lineWrapping",!1,s,!0),Er("gutters",[],function(e){p(e.options),l(e)},!0),Er("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?C(e.display)+"px":"0",e.refresh()},!0),Er("coverGutterNextToScrollbar",!1,function(e){w(e)},!0),Er("scrollbarStyle","native",function(e){v(e),w(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Er("lineNumbers",!1,function(e){p(e.options),l(e)},!0),Er("firstLineNumber",1,l,!0),Er("lineNumberFormatter",function(e){return e},l,!0),Er("showCursorWhenSelecting",!1,Ht,!0),Er("resetSelectionOnContextMenu",!0),Er("readOnly",!1,function(e,t){"nocursor"==t?(dr(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),Er("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Er("dragDrop",!0),Er("cursorBlinkRate",530),Er("cursorScrollMargin",0),Er("cursorHeight",1,Ht,!0),Er("singleCursorHeightPerLine",!0,Ht,!0),Er("workTime",100),Er("workDelay",100),Er("flattenSpans",!0,r,!0),Er("addModeClass",!1,r,!0),Er("pollInterval",100),Er("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Er("historyEventDelay",1250),Er("viewportMargin",10,function(e){e.refresh()},!0),Er("maxHighlightLength",1e4,r,!0),Er("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Er("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Er("autofocus",null);var Go=e.modes={},Xo=e.mimeModes={};e.defineMode=function(t,i){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),Go[t]=i},e.defineMIME=function(e,t){Xo[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Xo.hasOwnProperty(t))t=Xo[t];else if(t&&"string"==typeof t.name&&Xo.hasOwnProperty(t.name)){var i=Xo[t.name];"string"==typeof i&&(i={name:i}),t=kn(i,t),t.name=i.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,i){var i=e.resolveMode(i),r=Go[i.name];if(!r)return e.getMode(t,"text/plain");var s=r(t,i);if(Yo.hasOwnProperty(i.name)){var n=Yo[i.name];for(var o in n)n.hasOwnProperty(o)&&(s.hasOwnProperty(o)&&(s["_"+o]=s[o]),s[o]=n[o])}if(s.name=i.name,i.helperType&&(s.helperType=i.helperType),i.modeProps)for(var o in i.modeProps)s[o]=i.modeProps[o];return s},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Yo=e.modeExtensions={};e.extendMode=function(e,t){var i=Yo.hasOwnProperty(e)?Yo[e]:Yo[e]={};Bn(t,i)},e.defineExtension=function(t,i){e.prototype[t]=i},e.defineDocExtension=function(e,t){fa.prototype[e]=t},e.defineOption=Er;var Ko=[];e.defineInitHook=function(e){Ko.push(e)};var Jo=e.helpers={};e.registerHelper=function(t,i,r){Jo.hasOwnProperty(t)||(Jo[t]=e[t]={_global:[]}),Jo[t][i]=r},e.registerGlobalHelper=function(t,i,r,s){e.registerHelper(t,i,s),Jo[t]._global.push({pred:r,val:s})};var Zo=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var i={};for(var r in t){var s=t[r];s instanceof Array&&(s=s.concat([])),i[r]=s}return i},Qo=e.startState=function(e,t,i){return e.startState?e.startState(t,i):!0};e.innerMode=function(e,t){for(;e.innerMode;){var i=e.innerMode(t);if(!i||i.mode==e)break;t=i.state,e=i.mode}return i||{mode:e,state:t}};var ea=e.commands={selectAll:function(e){e.setSelection(Io(e.firstLine(),0),Io(e.lastLine()),Ta)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ta)},killLine:function(e){Pr(e,function(t){if(t.empty()){var i=Fs(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:Io(t.head.line+1,0)}:{from:t.head,to:Io(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Pr(e,function(t){return{from:Io(t.from().line,0),to:ft(e.doc,Io(t.to().line+1,0))}})},delLineLeft:function(e){Pr(e,function(e){return{from:Io(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Pr(e,function(t){var i=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:i},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){Pr(e,function(t){var i=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Io(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Io(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return Zn(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return eo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return Qn(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},Ia)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},Ia)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var i=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:i},"div");return r.ch<e.getLine(r.line).search(/\S/)?eo(e,t.head):r},Ia)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),r=e.options.tabSize,s=0;s<i.length;s++){var n=i[s].from(),o=ka(e.getLine(n.line),n.ch,r);t.push(new Array(r-o%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Ti(e,function(){for(var t=e.listSelections(),i=[],r=0;r<t.length;r++){var s=t[r].head,n=Fs(e.doc,s.line).text;if(n)if(s.ch==n.length&&(s=new Io(s.line,s.ch-1)),s.ch>0)s=new Io(s.line,s.ch+1),e.replaceRange(n.charAt(s.ch-1)+n.charAt(s.ch-2),Io(s.line,s.ch-2),s,"+transpose");else if(s.line>e.doc.first){var o=Fs(e.doc,s.line-1).text;o&&e.replaceRange(n.charAt(0)+"\n"+o.charAt(o.length-1),Io(s.line-1,o.length-1),Io(s.line,1),"+transpose")}i.push(new dt(s,s))}e.setSelections(i)})},newlineAndIndent:function(e){Ti(e,function(){for(var t=e.listSelections().length,i=0;t>i;i++){var r=e.listSelections()[i];e.replaceRange("\n",r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0),Br(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},ta=e.keyMap={};ta.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ta.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ta.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},ta.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ta["default"]=_o?ta.macDefault:ta.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==r){delete e[i];continue}for(var s=Sn(i.split(" "),Mr),n=0;n<s.length;n++){var o,a;n==s.length-1?(a=i,o=r):(a=s.slice(0,n+1).join(" "),o="...");var l=t[a];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+a)}else t[a]=o}delete e[i]}for(var h in t)e[h]=t[h];return e};var ia=e.lookupKey=function(e,t,i,r){t=Or(t);var s=t.call?t.call(e,r):t[e];if(s===!1)return"nothing";if("..."===s)return"multi";if(null!=s&&i(s))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ia(e,t.fallthrough,i,r);for(var n=0;n<t.fallthrough.length;n++){var o=ia(e,t.fallthrough[n],i,r);if(o)return o}}},ra=e.isModifierKey=function(e){var t="string"==typeof e?e:Ga[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},sa=e.keyName=function(e,t){if(mo&&34==e.keyCode&&e["char"])return!1;var i=Ga[e.keyCode],r=i;return null==r||e.altGraphKey?!1:(e.altKey&&"Alt"!=i&&(r="Alt-"+r),(Co?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(r="Ctrl-"+r),(Co?e.ctrlKey:e.metaKey)&&"Cmd"!=i&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=i&&(r="Shift-"+r),r)};e.fromTextArea=function(t,i){function r(){t.value=h.getValue()}if(i=i?Bn(i):{},i.value=t.value,!i.tabindex&&t.tabIndex&&(i.tabindex=t.tabIndex),!i.placeholder&&t.placeholder&&(i.placeholder=t.placeholder),null==i.autofocus){var s=Mn();i.autofocus=s==t||null!=t.getAttribute("autofocus")&&s==document.body}if(t.form&&(ba(t.form,"submit",r),!i.leaveSubmitMethodAlone)){var n=t.form,o=n.submit;try{var a=n.submit=function(){r(),n.submit=o,n.submit(),n.submit=a}}catch(l){}}i.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(_a(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var h=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},i);return h};var na=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};na.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var i=t==e;else var i=t&&(e.test?e.test(t):e(t));return i?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length
},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ka(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ka(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ka(this.string,null,this.tabSize)-(this.lineStart?ka(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,i){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var s=function(e){return i?e.toLowerCase():e},n=this.string.substr(this.pos,e.length);return s(n)==s(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var oa=0,aa=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++oa};_n(aa),aa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&vi(e),bn(this,"clear")){var i=this.find();i&&gn(this,"clear",i.from,i.to)}for(var r=null,s=null,n=0;n<this.lines.length;++n){var o=this.lines[n],a=Vr(o.markedSpans,this);e&&!this.collapsed?Li(e,Gs(o),"text"):e&&(null!=a.to&&(s=Gs(o)),null!=a.from&&(r=Gs(o))),o.markedSpans=Gr(o.markedSpans,a),null==a.from&&this.collapsed&&!fs(this.doc,o)&&e&&Vs(o,mi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var n=0;n<this.lines.length;++n){var l=ds(this.lines[n]),h=c(l);h>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=h,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&zi(e,r,s+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&It(e.doc)),e&&gn(e,"markerCleared",e,this),t&&xi(e),this.parent&&this.parent.clear()}},aa.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var i,r,s=0;s<this.lines.length;++s){var n=this.lines[s],o=Vr(n.markedSpans,this);if(null!=o.from&&(i=Io(t?n:Gs(n),o.from),-1==e))return i;if(null!=o.to&&(r=Io(t?n:Gs(n),o.to),1==e))return r}return i&&{from:i,to:r}},aa.prototype.changed=function(){var e=this.find(-1,!0),t=this,i=this.doc.cm;e&&i&&Ti(i,function(){var r=e.line,s=Gs(e.line),n=Kt(i,s);if(n&&(ii(n),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!fs(t.doc,r)&&null!=t.height){var o=t.height;t.height=null;var a=vs(t)-o;a&&Vs(r,r.height+a)}})},aa.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Tn(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},aa.prototype.detachLine=function(e){if(this.lines.splice(Tn(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var oa=0,la=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};_n(la),la.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();gn(this,"clear")}},la.prototype.find=function(e,t){return this.primary.find(e,t)};var ha=e.LineWidget=function(e,t,i){if(i)for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);this.cm=e,this.node=t};_n(ha),ha.prototype.clear=function(){var e=this.cm,t=this.line.widgets,i=this.line,r=Gs(i);if(null!=r&&t){for(var s=0;s<t.length;++s)t[s]==this&&t.splice(s--,1);t.length||(i.widgets=null);var n=vs(this);Ti(e,function(){gs(e,i,-n),Li(e,r,"widget"),Vs(i,Math.max(0,i.height-n))})}},ha.prototype.changed=function(){var e=this.height,t=this.cm,i=this.line;this.height=null;var r=vs(this)-e;r&&Ti(t,function(){t.curOp.forceUpdate=!0,gs(t,i,r),Vs(i,i.height+r)})};var da=e.Line=function(e,t,i){this.text=e,is(this,t),this.height=i?i(this):1};_n(da),da.prototype.lineNo=function(){return Gs(this)};var ca={},ua={};Os.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,r=e+t;r>i;++i){var s=this.lines[i];this.height-=s.height,bs(s),gn(s,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,i){for(var r=e+t;r>e;++e)if(i(this.lines[e]))return!0}},Ns.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var r=this.children[i],s=r.chunkSize();if(s>e){var n=Math.min(t,s-e),o=r.height;if(r.removeInner(e,n),this.height-=o-r.height,s==n&&(this.children.splice(i--,1),r.parent=null),0==(t-=n))break;e=0}else e-=s}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Os))){var a=[];this.collapse(a),this.children=[new Os(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var r=0;r<this.children.length;++r){var s=this.children[r],n=s.chunkSize();if(n>=e){if(s.insertInner(e,t,i),s.lines&&s.lines.length>50){for(;s.lines.length>50;){var o=s.lines.splice(s.lines.length-25,25),a=new Os(o);s.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=n}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new Ns(t);if(e.parent){e.size-=i.size,e.height-=i.height;var r=Tn(e.parent.children,e);e.parent.children.splice(r+1,0,i)}else{var s=new Ns(e.children);s.parent=e,e.children=[s,i],e=s}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var r=0;r<this.children.length;++r){var s=this.children[r],n=s.chunkSize();if(n>e){var o=Math.min(t,n-e);if(s.iterN(e,o,i))return!0;if(0==(t-=o))break;e=0}else e-=n}}};var pa=0,fa=e.Doc=function(e,t,i){if(!(this instanceof fa))return new fa(e,t,i);null==i&&(i=0),Ns.call(this,[new Os([new da("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var r=Io(i,0);this.sel=ut(r),this.history=new Js(null),this.id=++pa,this.modeOption=t,"string"==typeof e&&(e=Fa(e)),Ms(this,{from:r,to:r,text:e}),qt(this,ut(r),Ta)};fa.prototype=kn(Ns.prototype,{constructor:fa,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,r=0;r<t.length;++r)i+=t[r].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=$s(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:ki(function(e){var t=Io(this.first,0),i=this.first+this.size-1;wr(this,{from:t,to:Io(i,Fs(this,i).text.length),text:Fa(e),origin:"setValue",full:!0},!0),qt(this,ut(t))}),replaceRange:function(e,t,i,r){t=ft(this,t),i=i?ft(this,i):t,Cr(this,e,t,i,r)},getRange:function(e,t,i){var r=Us(this,ft(this,e),ft(this,t));return i===!1?r:r.join(i||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return gt(this,e)?Fs(this,e):void 0},getLineNumber:function(e){return Gs(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Fs(this,e)),ds(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ft(this,e)},getCursor:function(e){var t,i=this.sel.primary();return t=null==e||"head"==e?i.head:"anchor"==e?i.anchor:"end"==e||"to"==e||e===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ki(function(e,t,i){yt(this,ft(this,"number"==typeof e?Io(e,t||0):e),null,i)}),setSelection:ki(function(e,t,i){yt(this,ft(this,e),ft(this,t||e),i)}),extendSelection:ki(function(e,t,i){xt(this,ft(this,e),t&&ft(this,t),i)}),extendSelections:ki(function(e,t){bt(this,vt(this,e,t))}),extendSelectionsBy:ki(function(e,t){bt(this,Sn(this.sel.ranges,e),t)}),setSelections:ki(function(e,t,i){if(e.length){for(var r=0,s=[];r<e.length;r++)s[r]=new dt(ft(this,e[r].anchor),ft(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),qt(this,ct(s,t),i)}}),addSelection:ki(function(e,t,i){var r=this.sel.ranges.slice(0);r.push(new dt(ft(this,e),ft(this,t||e))),qt(this,ct(r,r.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,r=0;r<i.length;r++){var s=Us(this,i[r].from(),i[r].to());t=t?t.concat(s):s}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],i=this.sel.ranges,r=0;r<i.length;r++){var s=Us(this,i[r].from(),i[r].to());e!==!1&&(s=s.join(e||"\n")),t[r]=s}return t},replaceSelection:function(e,t,i){for(var r=[],s=0;s<this.sel.ranges.length;s++)r[s]=e;this.replaceSelections(r,t,i||"+input")},replaceSelections:ki(function(e,t,i){for(var r=[],s=this.sel,n=0;n<s.ranges.length;n++){var o=s.ranges[n];r[n]={from:o.from(),to:o.to(),text:Fa(e[n]),origin:i}}for(var a=t&&"end"!=t&&gr(this,r,t),n=r.length-1;n>=0;n--)wr(this,r[n]);a?Ct(this,a):this.cm&&Br(this.cm)}),undo:ki(function(){br(this,"undo")}),redo:ki(function(){br(this,"redo")}),undoSelection:ki(function(){br(this,"undo",!0)}),redoSelection:ki(function(){br(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new Js(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:hn(this.history.done),undone:hn(this.history.undone)}},setHistory:function(e){var t=this.history=new Js(this.history.maxGeneration);t.done=hn(e.done.slice(0),null,!0),t.undone=hn(e.undone.slice(0),null,!0)},addLineClass:ki(function(e,t,i){return Lr(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(On(i).test(e[r]))return!1;e[r]+=" "+i}else e[r]=i;return!0})}),removeLineClass:ki(function(e,t,i){return Lr(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",s=e[r];if(!s)return!1;if(null==i)e[r]=null;else{var n=s.match(On(i));if(!n)return!1;var o=n.index+n[0].length;e[r]=s.slice(0,n.index)+(n.index&&o!=s.length?" ":"")+s.slice(o)||null}return!0})}),markText:function(e,t,i){return Nr(this,ft(this,e),ft(this,t),i,"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return e=ft(this,e),Nr(this,e,e,i,"bookmark")},findMarksAt:function(e){e=ft(this,e);var t=[],i=Fs(this,e.line).markedSpans;if(i)for(var r=0;r<i.length;++r){var s=i[r];(null==s.from||s.from<=e.ch)&&(null==s.to||s.to>=e.ch)&&t.push(s.marker.parent||s.marker)}return t},findMarks:function(e,t,i){e=ft(this,e),t=ft(this,t);var r=[],s=e.line;return this.iter(e.line,t.line+1,function(n){var o=n.markedSpans;if(o)for(var a=0;a<o.length;a++){var l=o[a];s==e.line&&e.ch>l.to||null==l.from&&s!=e.line||s==t.line&&l.from>t.ch||i&&!i(l.marker)||r.push(l.marker.parent||l.marker)}++s}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var r=0;r<i.length;++r)null!=i[r].from&&e.push(i[r].marker)}),e},posFromIndex:function(e){var t,i=this.first;return this.iter(function(r){var s=r.text.length+1;return s>e?(t=e,!0):(e-=s,void++i)}),ft(this,Io(i,t))},indexFromPos:function(e){e=ft(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new fa($s(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var r=new fa($s(this,t,i),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Fr(r,Rr(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i){var r=this.linked[i];if(r.doc==t){this.linked.splice(i,1),t.unlinkDoc(this),Ur(Rr(this));break}}if(t.history==this.history){var s=[t.id];Ws(t,function(e){s.push(e.id)},!0),t.history=new Js(null),t.history.done=hn(this.history.done,s),t.history.undone=hn(this.history.undone,s)}},iterLinkedDocs:function(e){Ws(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),fa.prototype.eachLine=fa.prototype.iter;var ma="iter insert remove copy getEditor".split(" ");for(var ga in fa.prototype)fa.prototype.hasOwnProperty(ga)&&Tn(ma,ga)<0&&(e.prototype[ga]=function(e){return function(){return e.apply(this.doc,arguments)}}(fa.prototype[ga]));_n(fa);var va=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},wa=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},xa=e.e_stop=function(e){va(e),wa(e)},ba=e.on=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var r=e._handlers||(e._handlers={}),s=r[t]||(r[t]=[]);s.push(i)}},_a=e.off=function(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var s=0;s<r.length;++s)if(r[s]==i){r.splice(s,1);break}}},ya=e.signal=function(e,t){var i=e._handlers&&e._handlers[t];if(i)for(var r=Array.prototype.slice.call(arguments,2),s=0;s<i.length;++s)i[s].apply(null,r)},ja=null,Ca=30,qa=e.Pass={toString:function(){return"CodeMirror.Pass"}},Ta={scroll:!1},Sa={origin:"*mouse"},Ia={origin:"+move"};yn.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var ka=e.countColumn=function(e,t,i,r,s){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var n=r||0,o=s||0;;){var a=e.indexOf("	",n);if(0>a||a>=t)return o+(t-n);o+=a-n,o+=i-o%i,n=a+1}},Ba=[""],Ha=function(e){e.select()};xo?Ha=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ho&&(Ha=function(e){try{e.select()}catch(t){}});var za,La=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Pa=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||La.test(e))},Da=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;za=document.createRange?function(e,t,i,r){var s=document.createRange();return s.setEnd(r||e,i),s.setStart(e,t),s}:function(e,t,i){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(s){return r}return r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r};var Aa=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};ho&&11>co&&(Mn=function(){try{return document.activeElement}catch(e){return document.body}});var Ea,Ma,Oa=e.rmClass=function(e,t){var i=e.className,r=On(t).exec(i);if(r){var s=i.slice(r.index+r[0].length);e.className=i.slice(0,r.index)+(s?r[1]+s:"")}},Na=e.addClass=function(e,t){var i=e.className;On(t).test(i)||(e.className+=(i?" ":"")+t)},Wa=!1,Ra=function(){if(ho&&9>co)return!1;var e=Dn("div");return"draggable"in e||"dragDrop"in e}(),Fa=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],r=e.length;r>=t;){var s=e.indexOf("\n",t);-1==s&&(s=e.length);var n=e.slice(t,"\r"==e.charAt(s-1)?s-1:s),o=n.indexOf("\r");-1!=o?(i.push(n.slice(0,o)),t+=o+1):(i.push(n),t=s+1)}return i}:function(e){return e.split(/\r\n?|\n/)},Ua=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(i){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},$a=function(){var e=Dn("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Va=null,Ga={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Ga,function(){for(var e=0;10>e;e++)Ga[e+48]=Ga[e+96]=String(e);for(var e=65;90>=e;e++)Ga[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Ga[e+111]=Ga[e+63235]="F"+e}();var Xa,Ya=function(){function e(e){return 247>=e?i.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,i){this.level=e,this.from=t,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,h="L";return function(i){if(!s.test(i))return!1;for(var r,d=i.length,c=[],u=0;d>u;++u)c.push(r=e(i.charCodeAt(u)));for(var u=0,p=h;d>u;++u){var r=c[u];"m"==r?c[u]=p:p=r}for(var u=0,f=h;d>u;++u){var r=c[u];"1"==r&&"r"==f?c[u]="n":o.test(r)&&(f=r,"r"==r&&(c[u]="R"))}for(var u=1,p=c[0];d-1>u;++u){var r=c[u];"+"==r&&"1"==p&&"1"==c[u+1]?c[u]="1":","!=r||p!=c[u+1]||"1"!=p&&"n"!=p||(c[u]=p),p=r}for(var u=0;d>u;++u){var r=c[u];if(","==r)c[u]="N";else if("%"==r){for(var m=u+1;d>m&&"%"==c[m];++m);for(var g=u&&"!"==c[u-1]||d>m&&"1"==c[m]?"1":"N",v=u;m>v;++v)c[v]=g;u=m-1}}for(var u=0,f=h;d>u;++u){var r=c[u];"L"==f&&"1"==r?c[u]="L":o.test(r)&&(f=r)}for(var u=0;d>u;++u)if(n.test(c[u])){for(var m=u+1;d>m&&n.test(c[m]);++m);for(var w="L"==(u?c[u-1]:h),x="L"==(d>m?c[m]:h),g=w||x?"L":"R",v=u;m>v;++v)c[v]=g;u=m-1}for(var b,_=[],u=0;d>u;)if(a.test(c[u])){var y=u;for(++u;d>u&&a.test(c[u]);++u);_.push(new t(0,y,u))}else{var j=u,C=_.length;for(++u;d>u&&"L"!=c[u];++u);for(var v=j;u>v;)if(l.test(c[v])){v>j&&_.splice(C,0,new t(1,j,v));var q=v;for(++v;u>v&&l.test(c[v]);++v);_.splice(C,0,new t(2,q,v)),j=v}else++v;u>j&&_.splice(C,0,new t(1,j,u))}return 1==_[0].level&&(b=i.match(/^\s+/))&&(_[0].from=b[0].length,_.unshift(new t(0,0,b[0].length))),1==qn(_).level&&(b=i.match(/\s+$/))&&(qn(_).to-=b[0].length,_.push(new t(0,d-b[0].length,d))),_[0].level!=qn(_).level&&_.push(new t(_[0].level,d,d)),_}}();return e.version="5.0.0",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("js/codemirror")):"function"==typeof define&&define.amd?define(["js/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,r,s){var n=e.getLineHandle(t.line),l=t.ch-1,h=l>=0&&a[n.text.charAt(l)]||a[n.text.charAt(++l)];if(!h)return null;var d=">"==h.charAt(1)?1:-1;if(r&&d>0!=(l==t.ch))return null;var c=e.getTokenTypeAt(o(t.line,l+1)),u=i(e,o(t.line,l+(d>0?1:0)),d,c||null,s);return null==u?null:{from:o(t.line,l),to:u&&u.pos,match:u&&u.ch==h.charAt(0),forward:d>0}}function i(e,t,i,r,s){for(var n=s&&s.maxScanLineLength||1e4,l=s&&s.maxScanLines||1e3,h=[],d=s&&s.bracketRegex?s.bracketRegex:/[(){}[\]]/,c=i>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),u=t.line;u!=c;u+=i){var p=e.getLine(u);if(p){var f=i>0?0:p.length-1,m=i>0?p.length:-1;if(!(p.length>n))for(u==t.line&&(f=t.ch-(0>i?1:0));f!=m;f+=i){var g=p.charAt(f);if(d.test(g)&&(void 0===r||e.getTokenTypeAt(o(u,f+1))==r)){var v=a[g];if(">"==v.charAt(1)==i>0)h.push(g);else{if(!h.length)return{pos:o(u,f),ch:g};h.pop()}}}}}return u-i==(i>0?e.lastLine():e.firstLine())?!1:null}function r(e,i,r){for(var s=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),h=0;h<l.length;h++){var d=l[h].empty()&&t(e,l[h].head,!1,r);if(d&&e.getLine(d.from.line).length<=s){var c=d.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(d.from,o(d.from.line,d.from.ch+1),{className:c})),d.to&&e.getLine(d.to.line).length<=s&&a.push(e.markText(d.to,o(d.to.line,d.to.ch+1),{className:c}))}}if(a.length){n&&e.state.focused&&e.focus();var u=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!i)return u;setTimeout(u,800)}}function s(e){e.operation(function(){l&&(l(),l=null),l=r(e,!1,e.state.matchBrackets)})}var n=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),o=e.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,i,r){r&&r!=e.Init&&t.off("cursorActivity",s),i&&(t.state.matchBrackets="object"==typeof i?i:{},t.on("cursorActivity",s))}),e.defineExtension("matchBrackets",function(){r(this,!0)}),e.defineExtension("findMatchingBracket",function(e,i,r){return t(this,e,i,r)}),e.defineExtension("scanForBracket",function(e,t,r,s){return i(this,e,t,r,s)})});var JSHINT=function(){"use strict";function e(){}function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(e,t){void 0===At[e]&&void 0===Dt[e]&&a("Opção errada: '"+e+"'.",t)}function r(e,i){var r;for(r in i)t(i,r)&&(e[r]=i[r])}function s(){pt.couch&&r(ft,Nt),pt.rhino&&r(ft,Yt),pt.prototypejs&&r(ft,Xt),pt.node&&(r(ft,Gt),pt.globalstrict=!0),pt.devel&&r(ft,Wt),pt.dojo&&r(ft,Rt),pt.browser&&r(ft,Ot),pt.nonstandard&&r(ft,Jt),pt.jquery&&r(ft,$t),pt.mootools&&r(ft,Vt),pt.wsh&&r(ft,Qt),pt.esnext&&jt(),pt.globalstrict&&pt.strict!==!1&&(pt.strict=!0)}function n(e,t,i){var r=Math.floor(t/at.length*100);throw{name:"JSHintError",line:t,character:i,message:e+" ("+r+"% scanned).",raw:e}}function o(e,t,i,r){return JSHINT.undefs.push([e,t,i,r])}function a(e,t,i,r,s,o){var a,l,h;return t=t||ct,"(end)"===t.id&&(t=_t),l=t.line||0,a=t.from||0,h={id:"(error)",raw:e,evidence:at[l-1]||"",line:l,character:a,a:i,b:r,c:s,d:o},h.reason=e.supplant(h),JSHINT.errors.push(h),pt.passfail&&n("Parando. ",l,a),Ct+=1,Ct>=pt.maxerr&&n("Número excessivo de erros.",l,a),h}function l(e,t,i,r,s,n,o){return a(e,{line:t,from:i},r,s,n,o)}function h(e,t,i,r,s,n){a(e,t,i,r,s,n)}function d(e,t,i,r,s,n,o){return h(e,{line:t,from:i},r,s,n,o)}function c(e,i){"hasOwnProperty"===e&&a("'hasOwnProperty' é um nome realmente ruim."),t(et,e)&&!et["(global)"]&&(et[e]===!0?pt.latedef&&a("'{a}' foi usado antes de ser definido.",ct,e):pt.shadow||"exception"===i||a("'{a}' já definido.",ct,e)),et[e]=i,et["(global)"]?(it[e]=et,t(rt,e)&&(pt.latedef&&a("'{a}'foi usado antes de ser definido.",ct,e),delete rt[e])):vt[e]=et}function u(){var e,t,r,n,o,a,l=ct.value;switch(l){case"*/":h("Comentário não iniciado.");break;case"/*members":case"/*member":l="/*members",dt||(dt={}),t=dt;break;case"/*jshint":case"/*jslint":t=pt,r=Dt;break;case"/*global":t=ft;break;default:h("O que?")}n=ei.token();e:for(;;){for(;;){if("special"===n.type&&"*/"===n.value)break e;if("(endline)"!==n.id&&","!==n.id)break;n=ei.token()}"(string)"!==n.type&&"(identifier)"!==n.type&&"/*members"!==l&&h("Bad option.",n),a=ei.token(),":"===a.id?(a=ei.token(),t===dt&&h("Esperava '{a}' mas encontrou '{b}'.",n,"*/",":"),"/*jshint"===l&&i(n.value,n),"indent"!==n.value||"/*jshint"!==l&&"/*jslint"!==l?"maxerr"!==n.value||"/*jshint"!==l&&"/*jslint"!==l?"maxlen"!==n.value||"/*jshint"!==l&&"/*jslint"!==l?"validthis"===n.value?et["(global)"]?h("Opção 'validthis' não pode ser usada no escopo global."):"true"===a.value||"false"===a.value?t[n.value]="true"===a.value:h("Opção errada de valor.",a):"true"===a.value||"false"===a.value?"/*jslint"===l?(o=Mt[n.value]||n.value,t[o]="true"===a.value,void 0!==Et[o]&&(t[o]=!t[o])):t[n.value]="true"===a.value:h("Opção errada de valor.",a):(e=+a.value,("number"!=typeof e||!isFinite(e)||0>=e||Math.floor(e)!==e)&&h("Esperava um número inteiro pequeno mas encontrou '{a}'.",a,a.value),t.maxlen=e):(e=+a.value,("number"!=typeof e||!isFinite(e)||0>=e||Math.floor(e)!==e)&&h("Esperava um número inteiro pequeno mas encontrou '{a}'.",a,a.value),t.maxerr=e):(e=+a.value,("number"!=typeof e||!isFinite(e)||0>=e||Math.floor(e)!==e)&&h("Esperava um número inteiro pequeno mas encontrou '{a}'.",a,a.value),t.white=!0,t.indent=e),n=ei.token()):(("/*jshint"===l||"/*jslint"===l)&&h("Falta valor da opção.",n),t[n.value]=!1,n=a)}r&&s()}function p(e){for(var t,i=e||0,r=0;i>=r;)t=lt[r],t||(t=lt[r]=ei.token()),r+=1;return t}function f(e,t){switch(_t.id){case"(number)":"."===ct.id&&a("Um ponto seguindo um número pode ser confundido com um ponto decimal.",_t);break;case"-":("-"===ct.id||"--"===ct.id)&&a("Sinais de menos confusos.");break;case"+":("+"===ct.id||"++"===ct.id)&&a("Sinais de mais confusos.")}for(("(string)"===_t.type||_t.identifier)&&(Q=_t.value),e&&ct.id!==e&&(t?"(end)"===ct.id?a("'{a}' não casado.",t,t.id):a("Esperava '{a}' para casar com '{b}' da linha {c} mas encontrou '{d}'.",ct,e,t.id,t.line,ct.value):("(identifier)"!==ct.type||ct.value!==e)&&a("Esperava '{a}' mas encontrou '{b}'.",ct,e,ct.value)),gt=_t,_t=ct;;){if(ct=lt.shift()||ei.token(),"(end)"===ct.id||"(error)"===ct.id)return;if("special"===ct.type)u();else if("(endline)"!==ct.id)break}}function m(e,t){var i,r=!1,s=!1;if("(end)"===ct.id&&h("Fim do programa antes do esperado.",_t),f(),t&&(Q="anonymous",et["(verb)"]=_t.value),t===!0&&_t.fud)i=_t.fud();else{if(_t.nud)i=_t.nud();else{if("(number)"===ct.type&&"."===_t.id)return a("Um ponto decimal no início do número pode ser confundido com um ponto: '.{a}'.",_t,ct.value),f(),_t;h("Esperava identificador mas encontrou '{a}'.",_t,_t.id)}for(;e<ct.lbp;)r="Array"===_t.value,s="Object"===_t.value,i&&(i.value||i.first&&i.first.value)&&("new"!==i.value||i.first&&i.first.value&&"."===i.first.value)&&(r=!1,i.value!==_t.value&&(s=!1)),f(),r&&"("===_t.id&&")"===ct.id&&a("Use a notação literal de vetor [].",_t),s&&"("===_t.id&&")"===ct.id&&a("Use a notação literal de objeto {}.",_t),_t.led?i=_t.led(i):h("Esperava operador mas encontrou '{a}'.",_t,_t.id)}return i}function g(e,t){e=e||_t,t=t||ct,pt.white&&e.character!==t.from&&e.line===t.line&&(e.from+=e.character-e.from,a("Espaço inesperado após '{a}'.",e,e.value))}function v(e,t){e=e||_t,t=t||ct,!pt.white||e.character===t.from&&e.line===t.line||a("Espaço inesperado antes de '{a}'.",t,t.value)}function w(e,t){e=e||_t,t=t||ct,pt.white&&!e.comment&&e.line===t.line&&g(e,t)}function x(e,t){pt.white&&(e=e||_t,t=t||ct,e.line===t.line&&e.character===t.from&&(e.from+=e.character-e.from,a("Falta espaço após '{a}'.",e,e.value)))}function b(e,t){e=e||_t,t=t||ct,pt.laxbreak||e.line===t.line?pt.white&&(e=e||_t,t=t||ct,e.character===t.from&&(e.from+=e.character-e.from,a("Falta espaço após '{a}'.",e,e.value))):a("Quebra de linha errada antes de '{a}'.",t,t.id)}function _(e){var t;pt.white&&"(end)"!==ct.id&&(t=nt+(e||0),ct.from!==t&&a("Esperava '{a}' ter uma indentação em {b} ao invés de {c}.",ct,ct.value,t,ct.from))}function y(e){e=e||_t,e.line!==ct.line&&a("Erro de quebra de linha '{a}'.",e,e.value)}function j(){_t.line!==ct.line?pt.laxcomma||(j.first&&(a("Avisos de vírgula podem ser desligados com 'laxcomma'"),j.first=!1),a("Erro de quebra de linha antes de '{a}'.",_t,ct.id)):!_t.comment&&_t.character!==ct.from&&pt.white&&(_t.from+=_t.character-_t.from,a("Espaço inesperado após '{a}'.",_t,_t.value)),f(","),x(_t,ct)}function C(e,t){var i=Zt[e];return i&&"object"==typeof i||(Zt[e]=i={id:e,lbp:t,value:e}),i}function q(e){return C(e,0)}function T(e,t){var i=q(e);return i.identifier=i.reserved=!0,i.fud=t,i}function S(e,t){var i=T(e,t);return i.block=!0,i}function I(e){var t=e.id.charAt(0);return(t>="a"&&"z">=t||t>="A"&&"Z">=t)&&(e.identifier=e.reserved=!0),e}function k(e,t){var i=C(e,150);return I(i),i.nud="function"==typeof t?t:function(){return this.right=m(150),this.arity="unary",("++"===this.id||"--"===this.id)&&(pt.plusplus?a("Uso inesperado de '{a}'.",this,this.id):this.right.identifier&&!this.right.reserved||"."===this.right.id||"["===this.right.id||a("Operando errado.",this)),this},i}function B(e,t){var i=q(e);return i.type=e,i.nud=t,i}function H(e,t){var i=B(e,t);return i.identifier=i.reserved=!0,i}function z(e,t){return H(e,function(){return"function"==typeof t&&t(this),this})}function L(e,t,i,r){var s=C(e,i);return I(s),s.led=function(s){return r||(b(gt,_t),x(_t,ct)),"in"===e&&"!"===s.id&&a("Uso confuso de '{a}'.",s,"!"),"function"==typeof t?t(s,this):(this.left=s,this.right=m(i),this)},s}function P(e,t){var i=C(e,100);return i.led=function(e){b(gt,_t),x(_t,ct);var i=m(100);return e&&"NaN"===e.id||i&&"NaN"===i.id?a("Uso de função isNaN para comparar com NaN.",this):t&&t.apply(this,[e,i]),"!"===e.id&&a("Uso confuso de '{a}'.",e,"!"),"!"===i.id&&a("Uso confuso de '{a}'.",i,"!"),this.left=e,this.right=i,this},i}function D(e){return e&&("(number)"===e.type&&0===+e.value||"(string)"===e.type&&""===e.value||"null"===e.type&&!pt.eqnull||"true"===e.type||"false"===e.type||"undefined"===e.type)
}function A(e){return C(e,20).exps=!0,L(e,function(e,t){if(t.left=e,ft[e.value]===!1&&vt[e.value]["(global)"]===!0?a("Leitura apenas.",e):e["function"]&&a("'{a}' é uma função.",e,e.value),e){if(pt.esnext&&"const"===et[e.value]&&a("Tentativa de override '{a}' que é uma constante",e,e.value),"."===e.id||"["===e.id)return e.left&&"arguments"!==e.left.value||a("Atribuição errada.",t),t.right=m(19),t;if(e.identifier&&!e.reserved)return"exception"===et[e.value]&&a("Não atribua ao parâmetro de exceção.",e),t.right=m(19),t;e===Zt["function"]&&a("Esperava um identificador em uma atribuição, mas encontrou invocação de função.",_t)}h("Atribuição errada.",t)},20)}function E(e,t,i){var r=C(e,i);return I(r),r.led="function"==typeof t?t:function(e){return pt.bitwise&&a("Uso inexperado de '{a}'.",this,this.id),this.left=e,this.right=m(i),this},r}function M(e){return C(e,20).exps=!0,L(e,function(e,t){return pt.bitwise&&a("Uso inesperado de '{a}'.",t,t.id),x(gt,_t),x(_t,ct),e?"."===e.id||"["===e.id||e.identifier&&!e.reserved?(m(19),t):(e===Zt["function"]&&a("Expected an identifier in an assignment, and instead saw a function invocation.",_t),t):void h("Bad assignment.",t)},20)}function O(e){var t=C(e,150);return t.led=function(e){return pt.plusplus?a("Uso inesperado de '{a}'.",this,this.id):e.identifier&&!e.reserved||"."===e.id||"["===e.id||a("Operando errado.",this),this.left=e,this},t}function N(e){return ct.identifier?(f(),_t.reserved&&!pt.es5&&(e&&"undefined"===_t.value||a("Esperava identificador mas encontrou '{a}' (palavra reservada).",_t,_t.id)),_t.value):void 0}function W(e){var t=N(e);return t?t:void("function"===_t.id&&"("===ct.id?a("Falta nome em declaração de função."):h("Esperava identificador mas encontrou '{a}'.",ct,ct.value))}function R(e){var t,i=0;if(";"===ct.id&&!ut)for(;;){if(t=p(i),t.reach)return;if("(endline)"!==t.id){if("function"===t.id){if(!pt.latedef)break;a("Funções internas devem ser listadas na parte de cima da função que a contém.",t);break}a("'{a}' não alcançado após '{b}'.",t,t.value,e);break}i+=1}}function F(e){var t,i=nt,r=vt,s=ct;if(";"===s.id)return void f(";");if(s.identifier&&!s.reserved&&":"===p().id&&(f(),f(":"),vt=Object.create(r),c(s.value,"label"),ct.labelled||a("Rótulo '{a}' em {b} comando.",ct,s.value,ct.value),zt.test(s.value+":")&&a("Rótulo '{a}' parece uma url javascript.",s,s.value),ct.label=s.value,s=ct),e||_(),t=m(0,!0),!s.block){if(pt.expr||t&&t.exps?pt.nonew&&"("===t.id&&"new"===t.left.id&&a("Não use 'new' para side effects."):a("Esperava atribuição ou chamada de função mas encontrou uma expressão.",_t),","===ct.id)return j();";"!==ct.id?pt.asi||pt.lastsemic&&"}"===ct.id&&ct.line===_t.line||l("Falta ponto-e-vírgula.",_t.line,_t.character):(g(_t,ct),f(";"),x(_t,ct))}return nt=i,vt=r,t}function U(e){for(var t,i=[];!ct.reach&&"(end)"!==ct.id;)";"===ct.id?(t=p(),t&&"("===t.id||a("Ponto-e-vírgula desnecessário."),f(";")):i.push(F(e===ct.line));return i}function $(){for(var e,t,i;"(string)"===ct.id;){if(t=p(0),"(endline)"===t.id){e=1;do i=p(e),e+=1;while("(endline)"===i.id);if(";"!==i.id){if("(string)"!==i.id&&"(number)"!==i.id&&"(regexp)"!==i.id&&i.identifier!==!0&&"}"!==i.id)break;a("Falta ponto-e-vírgula.",ct)}else t=i}else if("}"===t.id)a("Falta ponto-e-vírgula.",t);else if(";"!==t.id)break;_(),f(),xt[_t.value]&&a('Diretiva desnecessária "{a}".',_t,_t.value),"use strict"===_t.value&&(pt.newcap=!0,pt.undef=!0),xt[_t.value]=!0,";"===t.id&&f(";")}}function V(e,i,r){var s,n,o,l,d,c=st,u=nt,p=vt;if(st=e,e&&pt.funcscope||(vt=Object.create(vt)),x(_t,ct),o=ct,"{"===ct.id){if(f("{"),l=_t.line,"}"!==ct.id){for(nt+=pt.indent;!e&&ct.from>nt;)nt+=pt.indent;if(r){n={};for(d in xt)t(xt,d)&&(n[d]=xt[d]);$(),pt.strict&&et["(context)"]["(global)"]&&(n["use strict"]||xt["use strict"]||a('Falta comando "use strict".'))}s=U(l),r&&(xt=n),nt-=pt.indent,l!==ct.line&&_()}else l!==ct.line&&_();f("}",o),nt=u}else e?((!i||pt.curly)&&a("Esperava '{a}' mas encontrou '{b}'.",ct,"{",ct.value),ut=!0,nt+=pt.indent,s=[F(ct.line===_t.line)],nt-=pt.indent,ut=!1):h("Esperava '{a}' mas encontrou '{b}'.",ct,"{",ct.value);return et["(verb)"]=null,e&&pt.funcscope||(vt=p),st=c,!e||!pt.noempty||s&&0!==s.length||a("Bloco vazio."),s}function G(e){dt&&"boolean"!=typeof dt[e]&&a("Inesperado /*membro '{a}'.",_t,e),"number"==typeof ht[e]?ht[e]+=1:ht[e]=1}function X(e){var t=e.value,i=e.line,r=rt[t];"function"==typeof r&&(r=!1),r?r[r.length-1]!==i&&r.push(i):(r=[i],rt[t]=r)}function Y(){var e=N(!0);return e||("(string)"===ct.id?(e=ct.value,f()):"(number)"===ct.id&&(e=ct.value.toString(),f())),e}function K(){var e,t=ct,i=[];if(f("("),w(),")"===ct.id)return void f(")");for(;;){if(e=W(!0),i.push(e),c(e,"parameter"),","!==ct.id)return f(")",t),w(gt,_t),i;j()}}function J(e,t){var i,r=pt,s=vt;return pt=Object.create(pt),vt=Object.create(vt),et={"(name)":e||'"'+Q+'"',"(line)":ct.line,"(context)":et,"(breakage)":0,"(loopage)":0,"(scope)":vt,"(statement)":t},i=et,_t.funct=et,tt.push(et),e&&c(e,"function"),et["(params)"]=K(),V(!1,!1,!0),vt=s,pt=r,et["(last)"]=_t.line,et=et["(context)"],i}function Z(){function e(){var e={},t=ct;if(f("{"),"}"!==ct.id)for(;;){if("(end)"===ct.id)h("Falta '}' para casar com '{' da linha {a}.",ct,t.line);else{if("}"===ct.id){a("Vírgula inesperada.",_t);break}","===ct.id?h("Vírgula inesperada.",ct):"(string)"!==ct.id&&a("Esperava cadeia de caracteres mas encontrou {a}.",ct,ct.value)}if(e[ct.value]===!0?a("Chave duplicada '{a}'.",ct,ct.value):"__proto__"===ct.value&&!pt.proto||"__iterator__"===ct.value&&!pt.iterator?a("A chave '{a}' pode produzir resultados inesperados.",ct,ct.value):e[ct.value]=!0,f(),f(":"),Z(),","!==ct.id)break;f(",")}f("}")}function t(){var e=ct;if(f("["),"]"!==ct.id)for(;;){if("(end)"===ct.id)h("Falta ']' para casar com '[' da linha {a}.",ct,e.line);else{if("]"===ct.id){a("Vírgula inesperada.",_t);break}","===ct.id&&h("Vírgula inesperada.",ct)}if(Z(),","!==ct.id)break;f(",")}f("]")}switch(ct.id){case"{":e();break;case"[":t();break;case"true":case"false":case"null":case"(number)":case"(string)":f();break;case"-":f("-"),_t.character!==ct.from&&a("Espaço inesperado após '-'.",_t),g(_t,ct),f("(number)");break;default:h("Esperava valor JSON.",ct)}}var Q,et,tt,it,rt,st,nt,ot,at,lt,ht,dt,ct,ut,pt,ft,mt,gt,vt,wt,xt,bt,_t,yt,jt,Ct,qt,Tt,St,It,kt,Bt,Ht,zt,Lt,Pt={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},Dt={asi:!0,bitwise:!0,boss:!0,browser:!0,couch:!0,curly:!0,debug:!0,devel:!0,dojo:!0,eqeqeq:!0,eqnull:!0,es5:!0,esnext:!0,evil:!0,expr:!0,forin:!0,funcscope:!0,globalstrict:!0,immed:!0,iterator:!0,jquery:!0,lastsemic:!0,latedef:!0,laxbreak:!0,laxcomma:!0,loopfunc:!0,mootools:!0,multistr:!0,newcap:!0,noarg:!0,node:!0,noempty:!0,nonew:!0,nonstandard:!0,nomen:!0,onevar:!0,onecase:!0,passfail:!0,plusplus:!0,proto:!0,prototypejs:!0,regexdash:!0,regexp:!0,rhino:!0,undef:!0,scripturl:!0,shadow:!0,smarttabs:!0,strict:!0,sub:!0,supernew:!0,trailing:!0,validthis:!0,withstmt:!0,white:!0,wsh:!0},At={maxlen:!1,indent:!1,maxerr:!1,predef:!1},Et={bitwise:!0,forin:!0,newcap:!0,nomen:!0,plusplus:!0,regexp:!0,undef:!0,white:!0,eqeqeq:!0,onevar:!0},Mt={eqeq:"eqeqeq",vars:"onevar",windows:"wsh"},Ot={ArrayBuffer:!1,ArrayBufferView:!1,Audio:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,DataView:!1,DOMParser:!1,defaultStatus:!1,document:!1,event:!1,FileReader:!1,Float32Array:!1,Float64Array:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Image:!1,length:!1,localStorage:!1,location:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,moveBy:!1,moveTo:!1,name:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,top:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,WebSocket:!1,window:!1,Worker:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},Nt={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},Wt={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},Rt={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},Ft={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},Ut=["closure","exception","global","label","outer","unused","var"],$t={$:!1,jQuery:!1},Vt={$:!1,$$:!1,Assets:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,Iframe:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},Gt={__filename:!1,__dirname:!1,Buffer:!1,console:!1,exports:!1,GLOBAL:!1,global:!1,module:!1,process:!1,require:!1,setTimeout:!1,clearTimeout:!1,setInterval:!1,clearInterval:!1},Xt={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},Yt={defineClass:!1,deserialize:!1,gc:!1,help:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},Kt={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,JSON:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},Jt={escape:!1,unescape:!1},Zt={},Qt={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0};!function(){qt=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i,Tt=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,St=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jshint|jslint|members?|global)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,It=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,kt=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Bt=/\*\/|\/\*/,Ht=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,zt=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,Lt=/^\s*\/\*\s*falls\sthrough\s*\*\/\s*$/}(),"function"!=typeof Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)}),"function"!=typeof Object.create&&(Object.create=function(t){return e.prototype=t,new e}),"function"!=typeof Object.keys&&(Object.keys=function(e){var i,r=[];for(i in e)t(e,i)&&r.push(i);return r}),"function"!=typeof String.prototype.entityify&&(String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),"function"!=typeof String.prototype.isAlpha&&(String.prototype.isAlpha=function(){return this>="a"&&"z￿">=this||this>="A"&&"Z￿">=this}),"function"!=typeof String.prototype.isDigit&&(String.prototype.isDigit=function(){return this>="0"&&"9">=this}),"function"!=typeof String.prototype.supplant&&(String.prototype.supplant=function(e){return this.replace(/\{([^{}]*)\}/g,function(t,i){var r=e[i];return"string"==typeof r||"number"==typeof r?r:t})}),"function"!=typeof String.prototype.name&&(String.prototype.name=function(){return Ht.test(this)?this:It.test(this)?'"'+this.replace(kt,function(e){var t=Ft[e];return t?t:"\\u"+("0000"+e.charCodeAt().toString(16)).slice(-4)})+'"':'"'+this+'"'});var ei=function(){function e(){var e,t;return o>=at.length?!1:(r=1,a=at[o],o+=1,e=a.search(pt.smarttabs?/ \t/:/ \t|\t /),e>=0&&l("Espaços e tabs misturados.",o,e+1),a=a.replace(/\t/g,bt),e=a.search(Tt),e>=0&&l("Caractere não seguro.",o,e),pt.maxlen&&pt.maxlen<a.length&&l("Linha muito longa.",o,a.length),t=pt.trailing&&a.match(/^(.*?)\s+$/),t&&!/^\s+$/.test(a)&&l("Espaços extras ao final.",o,t[1].length+1),!0)}function i(e,i){var n,a;return a="(color)"===e||"(range)"===e?{type:e}:"(punctuator)"===e||"(identifier)"===e&&t(Zt,i)?Zt[i]||Zt["(error)"]:Zt[e],a=Object.create(a),("(string)"===e||"(range)"===e)&&!pt.scripturl&&zt.test(i)&&l("Script URL.",o,s),"(identifier)"===e&&(a.identifier=!0,"__proto__"!==i||pt.proto?"__iterator__"!==i||pt.iterator?!pt.nomen||"_"!==i.charAt(0)&&"_"!==i.charAt(i.length-1)||(!pt.node||"."===_t.id||"__dirname"!==i&&"__filename"!==i)&&l("{a} não esperado em  '{b}'.",o,s,"dangling '_'",i):l("'{a}' disponível apenas em JavaScript 1.7.",o,s,i):l("A propriedade '{a}' é obsoleta.",o,s,i)),a.value=i,a.line=o,a.character=r,a.from=s,n=a.id,"(endline)"!==n&&(mt=n&&("(,=:[!&|?{};".indexOf(n.charAt(n.length-1))>=0||"return"===n||"case"===n)),a}var r,s,o,a;return{init:function(t){at="string"==typeof t?t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"):t,at[0]&&"#!"===at[0].substr(0,2)&&(at[0]=""),o=0,e(),s=1},range:function(e,t){var n,h="";for(s=r,a.charAt(0)!==e&&d("Esperava '{a}' mas encontrou '{b}'.",o,r,e,a.charAt(0));;){switch(a=a.slice(1),r+=1,n=a.charAt(0)){case"":d("Falta '{a}'.",o,r,n);break;case t:return a=a.slice(1),r+=1,i("(range)",h);case"\\":l("'{a}' não esperado.",o,r,n)}h+=n}},token:function(){function t(e){var t,i=e.exec(a);return i?(w=i[0].length,t=i[1],u=t.charAt(0),a=a.substr(w),s=r+w-t.length,r+=w,t):void 0}function h(t){function n(e){var t=parseInt(a.substr(c+1,e),16);c+=e,t>=32&&126>=t&&34!==t&&92!==t&&39!==t&&l("'Escape' desnecessário.",o,r),r+=e,h=String.fromCharCode(t)}var h,c,u="",p=!1;ot&&'"'!==t&&l("Cadeias de caracteres devem usar aspas duplas.",o,r),c=0;e:for(;;){for(;c>=a.length;){c=0;var f=o,m=s;if(!e()){d("Cadeia de caracteres não terminada.",f,m);break e}p?p=!1:l("Cadeia de caracteres não terminada.",f,m)}if(h=a.charAt(c),h===t)return r+=1,a=a.substr(c+1),i("(string)",u,t);if(" ">h){if("\n"===h||"\r"===h)break;l("Caractere de controle em cadeia de caracteres: {a}.",o,r+c,a.slice(0,c))}else if("\\"===h)switch(c+=1,r+=1,h=a.charAt(c),C=a.charAt(c+1),h){case"\\":case'"':case"/":break;case"'":ot&&l("Evite \\'.",o,r);break;case"b":h="\b";break;case"f":h="\f";break;case"n":h="\n";break;case"r":h="\r";break;case"t":h="	";break;case"0":h="\x00",C>=0&&7>=C&&xt["use strict"]&&l("Literal octal não é permitido em modo estrito.",o,r);break;case"u":n(4);break;case"v":ot&&l("Evite \\v.",o,r),h="";break;case"x":ot&&l("Evite \\x-.",o,r),n(2);break;case"":if(p=!0,pt.multistr){ot&&l("Evite 'escape' EOL.",o,r),h="",r-=1;break}l("'Escape' errado de EOL. Use opção multistr se necessário.",o,r);break;default:l("'Escape' errado.",o,r)}u+=h,r+=1,c+=1}}for(var c,u,p,f,m,g,v,w,x,b,_,y,j,C;;){if(!a)return i(e()?"(endline)":"(end)","");if(_=t(St)){if(u.isAlpha()||"_"===u||"$"===u)return i("(identifier)",_);if(u.isDigit())return isFinite(Number(_))||l("Bad number '{a}'.",o,r,_),a.substr(0,1).isAlpha()&&l("Falta espaço após '{a}'.",o,r,_),"0"===u&&(f=_.substr(1,1),f.isDigit()?"."!==_t.id&&l("Não use zeros à esquerda desnecessários '{a}'.",o,r,_):!ot||"x"!==f&&"X"!==f||l("Evite 0x-. '{a}'.",o,r,_)),"."===_.substr(_.length-1)&&l("Um ponto decimal ao final pode ser confundido com um ponto '{a}'.",o,r,_),i("(number)",_);switch(_){case'"':case"'":return h(_);case"//":a="",_t.comment=!0;break;case"/*":for(;v=a.search(Bt),!(v>=0);)e()||d("Comentário não terminado.",o,r);r+=v+2,"/"===a.substr(v,1)&&d("Comentário encaixado.",o,r),a=a.substr(v+2),_t.comment=!0;break;case"/*members":case"/*member":case"/*jshint":case"/*jslint":case"/*global":case"*/":return{value:_,type:"special",line:o,character:r,from:s};case"":break;case"/":if("/="===_t.id&&d("Um literal de expressão regular pode ser confundido com '/='.",o,s),mt){for(m=0,p=0,w=0;;){switch(c=!0,u=a.charAt(w),w+=1,u){case"":return d("Expressão regular não terminada.",o,s),n("Parando.",o,s);case"/":for(m>0&&l("{a} expressão regular não terminada group(s).",o,s+w,m),u=a.substr(0,w-1),b={g:!0,i:!0,m:!0};b[a.charAt(w)]===!0;)b[a.charAt(w)]=!1,w+=1;return r+=w,a=a.substr(w),b=a.charAt(0),("/"===b||"*"===b)&&d("Confusing regular expression.",o,s),i("(regexp)",u);case"\\":u=a.charAt(w)," ">u?l("Caracter de controle não esperado em expressão regular.",o,s+w):"<"===u&&l("Caractere 'escaped' '{a}' em expressão regular.",o,s+w,u),w+=1;break;case"(":if(m+=1,c=!1,"?"===a.charAt(w))switch(w+=1,a.charAt(w)){case":":case"=":case"!":w+=1;break;default:l("Esperava '{a}' mas encontrou '{b}'.",o,s+w,":",a.charAt(w))}else p+=1;break;case"|":c=!1;break;case")":0===m?l("Caractere não 'Escaped' '{a}'.",o,s+w,")"):m-=1;break;case" ":for(b=1;" "===a.charAt(w);)w+=1,b+=1;b>1&&l("Espaços são difíceis de contar. Use {{a}}.",o,s+w,b);break;case"[":u=a.charAt(w),"^"===u&&(w+=1,pt.regexp?l("'{a}' inseguro.",o,s+w,u):"]"===a.charAt(w)&&d("Caractere não 'Escaped' '{a}'.",o,s+w,"^")),"]"===u&&l("Classe vazia.",o,s+w-1),y=!1,j=!1;e:do switch(u=a.charAt(w),w+=1,u){case"[":case"^":l("Caractere não 'Escaped' '{a}'.",o,s+w,u),j?j=!1:y=!0;break;case"-":y&&!j?(y=!1,j=!0):j?j=!1:"]"===a.charAt(w)?j=!0:(pt.regexdash!==(2===w||3===w&&"^"===a.charAt(1))&&l("Caractere não 'Escaped' '{a}'.",o,s+w-1,"-"),y=!0);break;case"]":j&&!pt.regexdash&&l("Caractere não 'Escaped' '{a}'.",o,s+w-1,"-");break e;case"\\":u=a.charAt(w)," ">u?l("Caractere de controle não esperado em expressão regular.",o,s+w):"<"===u&&l("Caractere 'escaped' não esperado '{a}' em expressão regular.",o,s+w,u),w+=1,/[wsd]/i.test(u)?(j&&(l("Caractere não 'Escaped' '{a}'.",o,s+w,"-"),j=!1),y=!1):j?j=!1:y=!0;break;case"/":l("Caractere não 'Escaped' '{a}'.",o,s+w-1,"/"),j?j=!1:y=!0;break;case"<":j?j=!1:y=!0;break;default:j?j=!1:y=!0}while(u);break;case".":pt.regexp&&l("'{a}' inseguro.",o,s+w,u);break;case"]":case"?":case"{":case"}":case"+":case"*":l("Caractere não 'Escaped' '{a}'.",o,s+w,u)}if(c)switch(a.charAt(w)){case"?":case"+":case"*":w+=1,"?"===a.charAt(w)&&(w+=1);break;case"{":for(w+=1,u=a.charAt(w),("0">u||u>"9")&&l("Experava um número mas encontrou '{a}'.",o,s+w,u),w+=1,x=+u;u=a.charAt(w),!("0">u||u>"9");)w+=1,x=+u+10*x;if(g=x,","===u&&(w+=1,g=1/0,u=a.charAt(w),u>="0"&&"9">=u))for(w+=1,g=+u;u=a.charAt(w),!("0">u||u>"9");)w+=1,g=+u+10*g;"}"!==a.charAt(w)?l("Esperava '{a}' mas encontrou '{b}'.",o,s+w,"}",u):w+=1,"?"===a.charAt(w)&&(w+=1),x>g&&l("'{a}' não pode ser maior que '{b}'.",o,s+w,x,g)}}return u=a.substr(0,w-1),r+=w,a=a.substr(w),i("(regexp)",u)}return i("(punctuator)",_);case"#":return i("(punctuator)",_);default:return i("(punctuator)",_)}}else{for(_="",u="";a&&"!">a;)a=a.substr(1);a&&(d("'{a}' não esperado.",o,r,a.substr(0,1)),a="")}}}}}();B("(number)",function(){return this}),B("(string)",function(){return this}),Zt["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var e,t=this.value,i=vt[t];if("function"==typeof i?i=void 0:"boolean"==typeof i&&(e=et,et=tt[0],c(t,"var"),i=et,et=e),et===i)switch(et[t]){case"unused":et[t]="var";break;case"unction":et[t]="function",this["function"]=!0;break;case"function":this["function"]=!0;break;case"label":a("'{a}' é um rótulo de comando.",_t,t)}else if(et["(global)"])pt.undef&&"boolean"!=typeof ft[t]&&("typeof"!==Q&&"delete"!==Q||ct&&("."===ct.value||"["===ct.value))&&o(et,"'{a}' não está definido.",_t,t),X(_t);else switch(et[t]){case"closure":case"function":case"var":case"unused":a("'{a}' usado fora de escopo.",_t,t);break;case"label":a("'{a}' é um rótulo de comando.",_t,t);break;case"outer":case"global":break;default:if(i===!0)et[t]=!0;else if(null===i)a("'{a}' is not allowed.",_t,t),X(_t);else if("object"!=typeof i)pt.undef&&("typeof"!==Q&&"delete"!==Q||ct&&("."===ct.value||"["===ct.value))&&o(et,"'{a}' não está definido.",_t,t),et[t]=!0,X(_t);else switch(i[t]){case"function":case"unction":this["function"]=!0,i[t]="closure",et[t]=i["(global)"]?"global":"outer";break;case"var":case"unused":i[t]="closure",et[t]=i["(global)"]?"global":"outer";break;case"closure":case"parameter":et[t]=i["(global)"]?"global":"outer";break;case"label":a("'{a}' é um rótulo de comando.",_t,t)}}return this},led:function(){h("Esperava um operador mas encontrou '{a}'.",ct,ct.value)}},B("(regexp)",function(){return this}),q("(endline)"),q("(begin)"),q("(end)").reach=!0,q("</").reach=!0,q("<!"),q("<!--"),q("-->"),q("(error)").reach=!0,q("}").reach=!0,q(")"),q("]"),q('"').reach=!0,q("'").reach=!0,q(";"),q(":").reach=!0,q(","),q("#"),q("@"),H("else"),H("case").reach=!0,H("catch"),H("default").reach=!0,H("finally"),z("arguments",function(e){xt["use strict"]&&et["(global)"]&&a("Violação de estrito.",e)}),z("eval"),z("false"),z("Infinity"),z("NaN"),z("null"),z("this",function(e){xt["use strict"]&&!pt.validthis&&(et["(statement)"]&&et["(name)"].charAt(0)>"Z"||et["(global)"])&&a("Possível violação de estrito.",e)}),z("true"),z("undefined"),A("=","assign",20),A("+=","assignadd",20),A("-=","assignsub",20),A("*=","assignmult",20),A("/=","assigndiv",20).nud=function(){h("Um literal de expressão regular pode ser confundido com '/='.")},A("%=","assignmod",20),M("&=","assignbitand",20),M("|=","assignbitor",20),M("^=","assignbitxor",20),M("<<=","assignshiftleft",20),M(">>=","assignshiftright",20),M(">>>=","assignshiftrightunsigned",20),L("?",function(e,t){return t.left=e,t.right=m(10),f(":"),t["else"]=m(10),t},30),L("||","or",40),L("&&","and",50),E("|","bitor",70),E("^","bitxor",80),E("&","bitand",90),P("==",function(e,t){var i=pt.eqnull&&("null"===e.value||"null"===t.value);return!i&&pt.eqeqeq?a("Esperava '{a}' mas encontrou '{b}'.",this,"===","=="):D(e)?a("Use '{a}' para comparar com '{b}'.",this,"===",e.value):D(t)&&a("Use '{a}' para comparar com '{b}'.",this,"===",t.value),this}),P("==="),P("!=",function(e,t){var i=pt.eqnull&&("null"===e.value||"null"===t.value);return!i&&pt.eqeqeq?a("Esperava '{a}' mas encontrou '{b}'.",this,"!==","!="):D(e)?a("Use '{a}' para comparar com '{b}'.",this,"!==",e.value):D(t)&&a("Use '{a}' para comparar com '{b}'.",this,"!==",t.value),this}),P("!=="),P("<"),P(">"),P("<="),P(">="),E("<<","shiftleft",120),E(">>","shiftright",120),E(">>>","shiftrightunsigned",120),L("in","in",120),L("instanceof","instanceof",120),L("+",function(e,t){var i=m(130);return e&&i&&"(string)"===e.id&&"(string)"===i.id?(e.value+=i.value,e.character=i.character,!pt.scripturl&&zt.test(e.value)&&a("JavaScript URL.",e),e):(t.left=e,t.right=i,t)},130),k("+","num"),k("+++",function(){return a("Sinais de mais confusos."),this.right=m(150),this.arity="unary",this}),L("+++",function(e){return a("Sinais de mais confusos."),this.left=e,this.right=m(130),this},130),L("-","sub",130),k("-","neg"),k("---",function(){return a("Sinais de menos confusos."),this.right=m(150),this.arity="unary",this}),L("---",function(e){return a("Sinais de menos confusos."),this.left=e,this.right=m(130),this},130),L("*","mult",140),L("/","div",140),L("%","mod",140),O("++","postinc"),k("++","preinc"),Zt["++"].exps=!0,O("--","postdec"),k("--","predec"),Zt["--"].exps=!0,k("delete",function(){var e=m(0);return(!e||"."!==e.id&&"["!==e.id)&&a("Variáveis não devem ser deletadas."),this.first=e,this}).exps=!0,k("~",function(){return pt.bitwise&&a("'{a}' inesperado.",this,"~"),m(150),this}),k("!",function(){return this.right=m(150),this.arity="unary",Pt[this.right.id]===!0&&a("Uso confuso de '{a}'.",this,"!"),this}),k("typeof","typeof"),k("new",function(){var e,t=m(155);if(t&&"function"!==t.id)if(t.identifier)switch(t["new"]=!0,t.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":a("Não use {a} como um construtor.",_t,t.value);break;case"Function":pt.evil||a("O construtor de Function é eval.");break;case"Date":case"RegExp":break;default:"function"!==t.id&&(e=t.value.substr(0,1),pt.newcap&&("A">e||e>"Z")&&a("Um nove de construtor deve iniciar com letra maiúscula.",_t))}else"."!==t.id&&"["!==t.id&&"("!==t.id&&a("Construtor incorreto.",_t);else pt.supernew||a("Construção estranha. Remova 'new'.",this);return g(_t,ct),"("===ct.id||pt.supernew||a("Falta '()' ao invocar um construtor."),this.first=t,this}),Zt["new"].exps=!0,k("void").exps=!0,L(".",function(e,t){g(gt,_t),v();var i=W();return"string"==typeof i&&G(i),t.left=e,t.right=i,!e||"arguments"!==e.value||"callee"!==i&&"caller"!==i?pt.evil||!e||"document"!==e.value||"write"!==i&&"writeln"!==i||a("document.write pode ser uma forma de eval.",e):pt.noarg?a("Evite argumentos.{a}.",e,i):xt["use strict"]&&h("Violação estrita."),pt.evil||"eval"!==i&&"execScript"!==i||a("eval é danado!"),t},160,!0),L("(",function(e,t){"}"!==gt.id&&")"!==gt.id&&v(gt,_t),w(),pt.immed&&!e.immed&&"function"===e.id&&a("Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.");var i=0,r=[];if(e&&"(identifier)"===e.type&&e.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&"Number"!==e.value&&"String"!==e.value&&"Boolean"!==e.value&&"Date"!==e.value&&("Math"===e.value?a("Math não é uma função.",e):pt.newcap&&a("Falta prefixo 'new' ao invocar um construtor.",e)),")"!==ct.id)for(;r[r.length]=m(10),i+=1,","===ct.id;)j();return f(")"),w(gt,_t),"object"==typeof e&&("parseInt"===e.value&&1===i&&a("Falta parâmetro de base.",e),pt.evil||("eval"===e.value||"Function"===e.value||"execScript"===e.value?a("eval é danado.",e):!r[0]||"(string)"!==r[0].id||"setTimeout"!==e.value&&"setInterval"!==e.value||a("eval impícito é danado. Passe uma função ao invés de uma cadeia de caracteres.",e)),e.identifier||"."===e.id||"["===e.id||"("===e.id||"&&"===e.id||"||"===e.id||"?"===e.id||a("Invocação errada.",e)),t.left=e,t},155,!0).exps=!0,k("(",function(){w(),"function"===ct.id&&(ct.immed=!0);var e=m(0);return f(")",this),w(gt,_t),pt.immed&&"function"===e.id&&("("===ct.id||"."===ct.id&&("call"===p().value||"apply"===p().value)?a("Mova a invocação para o parênteses que contém a função",ct):a("Não envolva literal de função em parenteses a menos que ela seja invocada imediatamente.",this)),e}),L("[",function(e,t){v(gt,_t),w();var i,r=m(0);return r&&"(string)"===r.type&&(pt.evil||"eval"!==r.value&&"execScript"!==r.value||a("eval é danado.",t),G(r.value),!pt.sub&&Ht.test(r.value)&&(i=Zt[r.value],i&&i.reserved||a("['{a}'] é melhor escrito em notação com ponto.",r,r.value))),f("]",t),w(gt,_t),t.left=e,t.right=r,t},160,!0),k("[",function(){var e=_t.line!==ct.line;for(this.first=[],e&&(nt+=pt.indent,ct.from===nt+pt.indent&&(nt+=pt.indent));"(end)"!==ct.id;){for(;","===ct.id;)a("Extra comma."),f(",");if("]"===ct.id)break;if(e&&_t.line!==ct.line&&_(),this.first.push(m(10)),","!==ct.id)break;if(j(),"]"===ct.id&&!pt.es5){a("Vírgula a mais.",_t);break}}return e&&(nt-=pt.indent,_()),f("]",this),this},160),function(e){e.nud=function(){function e(e,i){c[e]&&t(c,e)?a("Membro duplicado '{a}'.",ct,o):c[e]={},c[e].basic=!0,c[e].basicToken=i}function i(e,i){c[e]&&t(c,e)?(c[e].basic||c[e].setter)&&a("Membro duplicado '{a}'.",ct,o):c[e]={},c[e].setter=!0,c[e].setterToken=i}function r(e){c[e]&&t(c,e)?(c[e].basic||c[e].getter)&&a("Membro duplicado '{a}'.",ct,o):c[e]={},c[e].getter=!0,c[e].getterToken=_t}var s,n,o,l,d,c={};for(s=_t.line!==ct.line,s&&(nt+=pt.indent,ct.from===nt+pt.indent&&(nt+=pt.indent));"}"!==ct.id;){if(s&&_(),"get"===ct.value&&":"!==p().id)f("get"),pt.es5||h("get/set are ES5 features."),o=Y(),o||h("Falta nome de propriedade."),r(o),d=ct,g(_t,ct),n=J(),l=n["(params)"],l&&a("Parâmetro '{a}' inesperado em função get {b} .",d,l[0],o),g(_t,ct);else if("set"===ct.value&&":"!==p().id)f("set"),pt.es5||h("get/set are ES5 features."),o=Y(),o||h("Falta nome de propriedade."),i(o,ct),d=ct,g(_t,ct),n=J(),l=n["(params)"],l&&1===l.length||a("Expected a single parameter in set {a} function.",d,o);else{if(o=Y(),e(o,ct),"string"!=typeof o)break;f(":"),x(_t,ct),m(10)}if(G(o),","!==ct.id)break;j(),","===ct.id?a("Vírgula a mais.",_t):"}"!==ct.id||pt.es5||a("Vírgula a mais.",_t)}if(s&&(nt-=pt.indent,_()),f("}",this),pt.es5)for(var u in c)t(c,u)&&c[u].setter&&!c[u].getter&&a("Setter is defined without getter.",c[u].setterToken);return this},e.fud=function(){h("Esperava encontrar um comando mas encontrou um bloco.",_t)}}(q("{")),jt=function(){var e=T("const",function(e){var t,i,r;for(this.first=[];(x(_t,ct),t=W(),"const"===et[t]&&a("const '"+t+"' has already been declared"),et["(global)"]&&ft[t]===!1&&a("Redefinição de '{a}'.",_t,t),c(t,"const"),!e)&&(i=_t,this.first.push(_t),"="!==ct.id&&a("const '{a}' é inicializado como  'undefined'.",_t,t),"="===ct.id&&(x(_t,ct),f("="),x(_t,ct),"undefined"===ct.id&&a("Não é necessário inicializar '{a}' para 'undefined'.",_t,t),"="===p(0).id&&ct.identifier&&h("Constante {a} não foi declarada corretamente.",ct,ct.value),r=m(0),i.first=r),","===ct.id);)j();return this});e.exps=!0};var ti=T("var",function(e){var t,i,r;for(et["(onevar)"]&&pt.onevar?a("Muitos comandos var."):et["(global)"]||(et["(onevar)"]=!0),this.first=[];(x(_t,ct),t=W(),pt.esnext&&"const"===et[t]&&a("const '"+t+"' já foi declarada"),et["(global)"]&&ft[t]===!1&&a("Redefinição de '{a}'.",_t,t),c(t,"unused"),!e)&&(i=_t,this.first.push(_t),"="===ct.id&&(x(_t,ct),f("="),x(_t,ct),"undefined"===ct.id&&a("Não é necessário inicializar '{a}' como 'undefined'.",_t,t),"="===p(0).id&&ct.identifier&&h("Variavel {a} não foi declarada corretamente.",ct,ct.value),r=m(0),i.first=r),","===ct.id);)j();return this});ti.exps=!0,S("function",function(){st&&a("Declaração de funções não devem ser colocadas em blocos. Use uma expressão de função ou mova o comando para o topo da função exterior",_t);var e=W();return pt.esnext&&"const"===et[e]&&a("const '"+e+"' já foi declarada"),g(_t,ct),c(e,"unction"),J(e,!0),"("===ct.id&&ct.line===_t.line&&h("Declarações de funções não são invocáveis. Coloque a invocação da função entre parenteses."),this}),k("function",function(){var e=N();return e?g(_t,ct):x(_t,ct),J(e),!pt.loopfunc&&et["(loopage)"]&&a("Não crie funções dentro de loops."),this}),S("if",function(){var e=ct;return f("("),x(this,e),w(),m(20),"="===ct.id&&(pt.boss||a("Esperava uma expressão condicional mas encontrou uma atribuição."),f("="),m(20)),f(")",e),w(gt,_t),V(!0,!0),"else"===ct.id&&(x(_t,ct),f("else"),"if"===ct.id||"switch"===ct.id?F(!0):V(!0,!0)),this
}),S("try",function(){var e,t,i;return V(!1),"catch"===ct.id&&(f("catch"),x(_t,ct),f("("),i=vt,vt=Object.create(i),t=ct.value,"(identifier)"!==ct.type?a("Esperava identificador mas encontrou '{a}'.",ct,t):c(t,"exception"),f(),f(")"),V(!1),e=!0,vt=i),"finally"===ct.id?(f("finally"),void V(!1)):(e||h("Esperava '{a}' mas encontrou '{b}'.",ct,"catch",ct.value),this)}),S("while",function(){var e=ct;return et["(breakage)"]+=1,et["(loopage)"]+=1,f("("),x(this,e),w(),m(20),"="===ct.id&&(pt.boss||a("Esperava uma expressão condicional mas encontrou uma atribuição."),f("="),m(20)),f(")",e),w(gt,_t),V(!0,!0),et["(breakage)"]-=1,et["(loopage)"]-=1,this}).labelled=!0,S("with",function(){var e=ct;return xt["use strict"]?h("'with' não é permitido em modo estrito.",_t):pt.withstmt||a("Não use 'with'.",_t),f("("),x(this,e),w(),m(0),f(")",e),w(gt,_t),V(!0,!0),this}),S("switch",function(){var e=ct,t=!1;for(et["(breakage)"]+=1,f("("),x(this,e),w(),this.condition=m(20),f(")",e),w(gt,_t),x(_t,ct),e=ct,f("{"),x(_t,ct),nt+=pt.indent,this.cases=[];;)switch(ct.id){case"case":switch(et["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:Lt.test(at[ct.line-2])||a("Esperava um comando 'break' antes de 'case'.",_t)}_(-pt.indent),f("case"),this.cases.push(m(20)),t=!0,f(":"),et["(verb)"]="case";break;case"default":switch(et["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:Lt.test(at[ct.line-2])||a("Esperava um comando 'break' antes de 'default'.",_t)}_(-pt.indent),f("default"),t=!0,f(":");break;case"}":return nt-=pt.indent,_(),f("}",e),(1===this.cases.length||"true"===this.condition.id||"false"===this.condition.id)&&(pt.onecase||a("Este 'switch' deveria ser um 'if'.",this)),et["(breakage)"]-=1,void(et["(verb)"]=void 0);case"(end)":return void h("Falta '{a}'.",ct,"}");default:if(t)switch(_t.id){case",":return void h("Cada valor deve ter seu próprio rótulo case.");case":":t=!1,U();break;default:return void h("Falta ':' em uma cláusula case.",_t)}else{if(":"!==_t.id)return void h("Esperava '{a}' mas encontrou '{b}'.",ct,"case",ct.value);f(":"),h("'{a}' inesperado.",_t,":"),U()}}}).labelled=!0,T("debugger",function(){return pt.debug||a("Todos os comandos 'debugger' devem ser removidos."),this}).exps=!0,function(){var e=T("do",function(){et["(breakage)"]+=1,et["(loopage)"]+=1,this.first=V(!0),f("while");var e=ct;return x(_t,e),f("("),w(),m(20),"="===ct.id&&(pt.boss||a("Esperava uma expressão condicional mas encontrou uma atribuição."),f("="),m(20)),f(")",e),w(gt,_t),et["(breakage)"]-=1,et["(loopage)"]-=1,this});e.labelled=!0,e.exps=!0}(),S("for",function(){var e,t=ct;if(et["(breakage)"]+=1,et["(loopage)"]+=1,f("("),x(this,t),w(),"in"===p("var"===ct.id?1:0).id){if("var"===ct.id)f("var"),ti.fud.call(ti,!0);else{switch(et[ct.value]){case"unused":et[ct.value]="var";break;case"var":break;default:a("For errado em variável '{a}'.",ct,ct.value)}f()}return f("in"),m(20),f(")",t),e=V(!0,!0),pt.forin&&e&&(e.length>1||"object"!=typeof e[0]||"if"!==e[0].value)&&a("O corpo de um 'for in' deve ser envolvido em um comando if para filtrar propriedades indesejáveis do protótipo.",this),et["(breakage)"]-=1,et["(loopage)"]-=1,this}if(";"!==ct.id)if("var"===ct.id)f("var"),ti.fud.call(ti);else for(;m(0,"for"),","===ct.id;)j();if(y(_t),f(";"),";"!==ct.id&&(m(20),"="===ct.id&&(pt.boss||a("Esperava uma expressão condicional mas encontrou uma atribuição."),f("="),m(20))),y(_t),f(";"),";"===ct.id&&h("Esperava '{a}' mas encontrou '{b}'.",ct,")",";"),")"!==ct.id)for(;m(0,"for"),","===ct.id;)j();return f(")",t),w(gt,_t),V(!0,!0),et["(breakage)"]-=1,et["(loopage)"]-=1,this}).labelled=!0,T("break",function(){var e=ct.value;return 0===et["(breakage)"]&&a("'{a}' inesperado.",ct,this.value),pt.asi||y(this),";"!==ct.id&&_t.line===ct.line&&("label"!==et[e]?a("'{a}' não é um rótulo de comando.",ct,e):vt[e]!==et&&a("'{a}' fora de escopo.",ct,e),this.first=ct,f()),R("break"),this}).exps=!0,T("continue",function(){var e=ct.value;return 0===et["(breakage)"]&&a("'{a}' inesperado.",ct,this.value),pt.asi||y(this),";"!==ct.id?_t.line===ct.line&&("label"!==et[e]?a("'{a}' não é um rótulo de comando.",ct,e):vt[e]!==et&&a("'{a}' fora de escopo.",ct,e),this.first=ct,f()):et["(loopage)"]||a("'{a}' inesperado.",ct,this.value),R("continue"),this}).exps=!0,T("return",function(){return this.line===ct.line?("(regexp)"===ct.id&&a("Envolva o literal /regexp/ em parênteses para desambiguar o operador barra."),";"===ct.id||ct.reach||(x(_t,ct),"="!==p().value||pt.boss||l("Você queria retornar um condicional ao invés de uma atribuição?",_t.line,_t.character+1),this.first=m(0))):pt.asi||y(this),R("return"),this}).exps=!0,T("throw",function(){return y(this),x(_t,ct),this.first=m(20),R("throw"),this}).exps=!0,H("class"),H("const"),H("enum"),H("export"),H("extends"),H("import"),H("super"),H("let"),H("yield"),H("implements"),H("interface"),H("package"),H("private"),H("protected"),H("public"),H("static");var ii=function(e,n,o){var l,h,d,c,u,p={};if(JSHINT.errors=[],JSHINT.undefs=[],ft=Object.create(Kt),r(ft,o||{}),n){if(l=n.predef)if(Array.isArray(l))for(h=0;h<l.length;h+=1)ft[l[h]]=!0;else if("object"==typeof l)for(d=Object.keys(l),h=0;h<d.length;h+=1)ft[d[h]]=!!l[d[h]];for(u=Object.keys(n),c=0;c<u.length;c++)p[u[c]]=n[u[c]]}for(pt=p,pt.indent=pt.indent||4,pt.maxerr=pt.maxerr||50,bt="",h=0;h<pt.indent;h+=1)bt+=" ";nt=1,it=Object.create(ft),vt=it,et={"(global)":!0,"(name)":"(global)","(scope)":vt,"(breakage)":0,"(loopage)":0},tt=[et],yt=[],wt=null,ht={},dt=null,rt={},st=!1,lt=[],ot=!1,Ct=0,ei.init(e),mt=!0,xt={},gt=_t=ct=Zt["(begin)"];for(var m in n)t(n,m)&&i(m,_t);s(),r(ft,o||{}),j.first=!0;try{switch(f(),ct.id){case"{":case"[":pt.laxbreak=!0,ot=!0,Z();break;default:$(),xt["use strict"]&&!pt.globalstrict&&a('Use a forma de função de "use strict".',gt),U()}f("(end)");var g=function(e,t){do{if("string"==typeof t[e])return"unused"===t[e]?t[e]="var":"unction"===t[e]&&(t[e]="closure"),!0;t=t["(context)"]}while(t);return!1},v=function(e,t){if(rt[e]){for(var i=[],r=0;r<rt[e].length;r+=1)rt[e][r]!==t&&i.push(rt[e][r]);0===i.length?delete rt[e]:rt[e]=i}};for(h=0;h<JSHINT.undefs.length;h+=1)d=JSHINT.undefs[h].slice(0),g(d[2].value,d[0])?v(d[2].value,d[2].line):a.apply(a,d.slice(1))}catch(w){if(w){var x=ct||{};JSHINT.errors.push({raw:w.raw,reason:w.message,line:w.line||x.line,character:w.character||x.from},null)}}return 0===JSHINT.errors.length};return ii.data=function(){var e,i,r,s,n,o,a,l={functions:[],options:pt},h=[],d=[],c=[];ii.errors.length&&(l.errors=ii.errors),ot&&(l.json=!0);for(o in rt)t(rt,o)&&h.push({name:o,line:rt[o]});for(h.length>0&&(l.implieds=h),yt.length>0&&(l.urls=yt),i=Object.keys(vt),i.length>0&&(l.globals=i),s=1;s<tt.length;s+=1){for(r=tt[s],e={},n=0;n<Ut.length;n+=1)e[Ut[n]]=[];for(o in r)t(r,o)&&"("!==o.charAt(0)&&(a=r[o],"unction"===a&&(a="unused"),Array.isArray(e[a])&&(e[a].push(o),"unused"===a&&c.push({name:o,line:r["(line)"],"function":r["(name)"]})));for(n=0;n<Ut.length;n+=1)0===e[Ut[n]].length&&delete e[Ut[n]];e.name=r["(name)"],e.param=r["(params)"],e.line=r["(line)"],e.last=r["(last)"],l.functions.push(e)}c.length>0&&(l.unused=c),d=[];for(o in ht)if("number"==typeof ht[o]){l.member=ht;break}return l},ii.report=function(e){function t(e,t){var i,r,s;if(t){for(f.push("<div><i>"+e+"</i> "),t=t.sort(),r=0;r<t.length;r+=1)t[r]!==s&&(s=t[r],f.push((i?", ":"")+s),i=!0);f.push("</div>")}}var i,r,s,n,o,a,l,h,d,c=ii.data(),u=[],p="",f=[];if(c.errors||c.implieds||c.unused){if(s=!0,f.push("<div id=errors><i>Error:</i>"),c.errors)for(o=0;o<c.errors.length;o+=1)i=c.errors[o],i&&(r=i.evidence||"",f.push("<p>Problem"+(isFinite(i.line)?" at line "+i.line+" character "+i.character:"")+": "+i.reason.entityify()+"</p><p class=evidence>"+(r&&(r.length>80?r.slice(0,77)+"...":r).entityify())+"</p>"));if(c.implieds){for(d=[],o=0;o<c.implieds.length;o+=1)d[o]="<code>"+c.implieds[o].name+"</code>&nbsp;<i>"+c.implieds[o].line+"</i>";f.push("<p><i>Implied global:</i> "+d.join(", ")+"</p>")}if(c.unused){for(d=[],o=0;o<c.unused.length;o+=1)d[o]="<code><u>"+c.unused[o].name+"</u></code>&nbsp;<i>"+c.unused[o].line+"</i> <code>"+c.unused[o]["function"]+"</code>";f.push("<p><i>Unused variable:</i> "+d.join(", ")+"</p>")}c.json&&f.push("<p>JSON: bad.</p>"),f.push("</div>")}if(!e){for(f.push("<br><div id=functions>"),c.urls&&t("URLs<br>",c.urls,"<br>"),f.push(c.json&&!s?"<p>JSON: good.</p>":c.globals?"<div><i>Global</i> "+c.globals.sort().join(", ")+"</div>":"<div><i>No new global variables introduced.</i></div>"),o=0;o<c.functions.length;o+=1)n=c.functions[o],f.push("<br><div class=function><i>"+n.line+"-"+n.last+"</i> "+(n.name||"")+"("+(n.param?n.param.join(", "):"")+")</div>"),t("<big><b>Unused</b></big>",n.unused),t("Closure",n.closure),t("Variable",n["var"]),t("Exception",n.exception),t("Outer",n.outer),t("Global",n.global),t("Label",n.label);if(c.member){if(u=Object.keys(c.member),u.length){for(u=u.sort(),p="<br><pre id=members>/*members ",l=10,o=0;o<u.length;o+=1)a=u[o],h=a.name(),l+h.length>72&&(f.push(p+"<br>"),p="    ",l=1),l+=h.length+2,1===c.member[a]&&(h="<i>"+h+"</i>"),o<u.length-1&&(h+=", "),p+=h;f.push(p+"<br>*/</pre>")}f.push("</div>")}}return f.join("")},ii.jshint=ii,ii}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT),function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t,i,r){return this.jsonMode?/^[\[,{]$/.test(t)||/^}/.test(i):";"==t&&r.lexical&&")"==r.lexical.type?!1:/^[;{}]$/.test(t)&&!/^;/.test(i)}}),CodeMirror.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(e,t,i){return"tag"==e&&/>$/.test(t)||/^</.test(i)}}),CodeMirror.defineExtension("commentRange",function(e,t,i){var r=this,s=CodeMirror.innerMode(r.getMode(),r.getTokenAt(t).state).mode;r.operation(function(){if(e)r.replaceRange(s.commentEnd,i),r.replaceRange(s.commentStart,t),t.line==i.line&&t.ch==i.ch&&r.setCursor(t.line,t.ch+s.commentStart.length);else{var n=r.getRange(t,i),o=n.indexOf(s.commentStart),a=n.lastIndexOf(s.commentEnd);o>-1&&a>-1&&a>o&&(n=n.substr(0,o)+n.substring(o+s.commentStart.length,a)+n.substr(a+s.commentEnd.length)),r.replaceRange(n,t,i)}})}),CodeMirror.defineExtension("autoIndentRange",function(e,t){var i=this;this.operation(function(){for(var r=e.line;r<=t.line;r++)i.indentLine(r,"smart")})}),CodeMirror.defineExtension("autoFormatRange",function(e,t){function i(){l+="\n",d=!0,++h}for(var r=this,s=r.getMode(),n=r.getRange(e,t).split("\n"),o=CodeMirror.copyState(s,r.getTokenAt(e).state),a=r.getOption("tabSize"),l="",h=0,d=0==e.ch,c=0;c<n.length;++c){for(var u=new CodeMirror.StringStream(n[c],a);!u.eol();){var p=CodeMirror.innerMode(s,o),f=s.token(u,o),m=u.current();u.start=u.pos,(!d||/\S/.test(m))&&(l+=m,d=!1),!d&&p.mode.newlineAfterToken&&p.mode.newlineAfterToken(f,m,u.string.slice(u.pos)||n[c+1]||"",p.state)&&i()}!u.pos&&s.blankLine&&s.blankLine(o),d||i()}r.operation(function(){r.replaceRange(l,e,t);for(var i=e.line+1,s=e.line+h;s>=i;++i)r.indentLine(i,"smart");r.setSelection(e,r.getCursor(!1))})})}(),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,i){function r(e){for(var t,i=!1,r=!1;null!=(t=e.next());){if(!i){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}i=!i&&"\\"==t}}function s(e,t,i){return mt=e,gt=i,t}function n(e,t){var i=e.next();if('"'==i||"'"==i)return t.tokenize=o(i),t.tokenize(e,t);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return s("number","number");if("."==i&&e.match(".."))return s("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return s(i);if("="==i&&e.eat(">"))return s("=>","operator");if("0"==i&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),s("number","number");if(/\d/.test(i))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),s("number","number");if("/"==i)return e.eat("*")?(t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),s("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(r(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),s("regexp","string-2")):(e.eatWhile(Ct),s("operator","operator",e.current()));if("`"==i)return t.tokenize=l,l(e,t);if("#"==i)return e.skipToEnd(),s("error","error");if(Ct.test(i))return e.eatWhile(Ct),s("operator","operator",e.current());if(yt.test(i)){e.eatWhile(yt);var n=e.current(),h=jt.propertyIsEnumerable(n)&&jt[n];return h&&"."!=t.lastType?s(h.type,h.style,n):s("variable","variable",n)}}function o(e){return function(t,i){var r,o=!1;if(xt&&"@"==t.peek()&&t.match(qt))return i.tokenize=n,s("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||o);)o=!o&&"\\"==r;return o||(i.tokenize=n),s("string","string")}}function a(e,t){for(var i,r=!1;i=e.next();){if("/"==i&&r){t.tokenize=n;break}r="*"==i}return s("comment","comment")}function l(e,t){for(var i,r=!1;null!=(i=e.next());){if(!r&&("`"==i||"$"==i&&e.eat("{"))){t.tokenize=n;break}r=!r&&"\\"==i}return s("quasi","string-2",e.current())}function h(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var i=e.string.indexOf("=>",e.start);if(!(0>i)){for(var r=0,s=!1,n=i-1;n>=0;--n){var o=e.string.charAt(n),a=Tt.indexOf(o);if(a>=0&&3>a){if(!r){++n;break}if(0==--r)break}else if(a>=3&&6>a)++r;else if(yt.test(o))s=!0;else{if(/["'\/]/.test(o))return;if(s&&!r){++n;break}}}s&&!r&&(t.fatArrowAt=n)}}function d(e,t,i,r,s,n){this.indented=e,this.column=t,this.type=i,this.prev=s,this.info=n,null!=r&&(this.align=r)}function c(e,t){for(var i=e.localVars;i;i=i.next)if(i.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var i=r.vars;i;i=i.next)if(i.name==t)return!0}function u(e,t,i,r,s){var n=e.cc;for(It.state=e,It.stream=s,It.marked=null,It.cc=n,It.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=n.length?n.pop():bt?y:_;if(o(i,r)){for(;n.length&&n[n.length-1].lex;)n.pop()();return It.marked?It.marked:"variable"==i&&c(e,r)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)It.cc.push(arguments[e])}function f(){return p.apply(null,arguments),!0}function m(e){function t(t){for(var i=t;i;i=i.next)if(i.name==e)return!0;return!1}var r=It.state;if(r.context){if(It.marked="def",t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;i.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function g(){It.state.context={prev:It.state.context,vars:It.state.localVars},It.state.localVars=kt}function v(){It.state.localVars=It.state.context.vars,It.state.context=It.state.context.prev}function w(e,t){var i=function(){var i=It.state,r=i.indented;if("stat"==i.lexical.type)r=i.lexical.indented;else for(var s=i.lexical;s&&")"==s.type&&s.align;s=s.prev)r=s.indented;i.lexical=new d(r,It.stream.column(),e,null,i.lexical,t)};return i.lex=!0,i}function x(){var e=It.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function b(e){function t(i){return i==e?f():";"==e?p():f(t)}return t}function _(e,t){return"var"==e?f(w("vardef",t.length),F,b(";"),x):"keyword a"==e?f(w("form"),y,_,x):"keyword b"==e?f(w("form"),_,x):"{"==e?f(w("}"),N,x):";"==e?f():"if"==e?("else"==It.state.lexical.info&&It.state.cc[It.state.cc.length-1]==x&&It.state.cc.pop()(),f(w("form"),y,_,x,X)):"function"==e?f(et):"for"==e?f(w("form"),Y,_,x):"variable"==e?f(w("stat"),L):"switch"==e?f(w("form"),y,w("}","switch"),b("{"),N,x,x):"case"==e?f(y,b(":")):"default"==e?f(b(":")):"catch"==e?f(w("form"),g,b("("),tt,b(")"),_,x,v):"module"==e?f(w("form"),g,ot,v,x):"class"==e?f(w("form"),it,x):"export"==e?f(w("form"),at,x):"import"==e?f(w("form"),lt,x):p(w("stat"),y,b(";"),x)}function y(e){return C(e,!1)}function j(e){return C(e,!0)}function C(e,t){if(It.state.fatArrowAt==It.stream.start){var i=t?z:H;if("("==e)return f(g,w(")"),M(U,")"),x,b("=>"),i,v);if("variable"==e)return p(g,U,b("=>"),i,v)}var r=t?I:S;return St.hasOwnProperty(e)?f(r):"function"==e?f(et,r):"keyword c"==e?f(t?T:q):"("==e?f(w(")"),q,pt,b(")"),x,r):"operator"==e||"spread"==e?f(t?j:y):"["==e?f(w("]"),ct,x,r):"{"==e?O(D,"}",null,r):"quasi"==e?p(k,r):f()}function q(e){return e.match(/[;\}\)\],]/)?p():p(y)}function T(e){return e.match(/[;\}\)\],]/)?p():p(j)}function S(e,t){return","==e?f(y):I(e,t,!1)}function I(e,t,i){var r=0==i?S:I,s=0==i?y:j;return"=>"==e?f(g,i?z:H,v):"operator"==e?/\+\+|--/.test(t)?f(r):"?"==t?f(y,b(":"),s):f(s):"quasi"==e?p(k,r):";"!=e?"("==e?O(j,")","call",r):"."==e?f(P,r):"["==e?f(w("]"),q,b("]"),x,r):void 0:void 0}function k(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?f(k):f(y,B)}function B(e){return"}"==e?(It.marked="string-2",It.state.tokenize=l,f(k)):void 0}function H(e){return h(It.stream,It.state),p("{"==e?_:y)}function z(e){return h(It.stream,It.state),p("{"==e?_:j)}function L(e){return":"==e?f(x,_):p(S,b(";"),x)}function P(e){return"variable"==e?(It.marked="property",f()):void 0}function D(e,t){return"variable"==e||"keyword"==It.style?(It.marked="property",f("get"==t||"set"==t?A:E)):"number"==e||"string"==e?(It.marked=xt?"property":It.style+" property",f(E)):"jsonld-keyword"==e?f(E):"["==e?f(y,b("]"),E):void 0}function A(e){return"variable"!=e?p(E):(It.marked="property",f(et))}function E(e){return":"==e?f(j):"("==e?p(et):void 0}function M(e,t){function i(r){if(","==r){var s=It.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),f(e,i)}return r==t?f():f(b(t))}return function(r){return r==t?f():p(e,i)}}function O(e,t,i){for(var r=3;r<arguments.length;r++)It.cc.push(arguments[r]);return f(w(t,i),M(e,t),x)}function N(e){return"}"==e?f():p(_,N)}function W(e){return _t&&":"==e?f(R):void 0}function R(e){return"variable"==e?(It.marked="variable-3",f()):void 0}function F(){return p(U,W,V,G)}function U(e,t){return"variable"==e?(m(t),f()):"["==e?O(U,"]"):"{"==e?O($,"}"):void 0}function $(e,t){return"variable"!=e||It.stream.match(/^\s*:/,!1)?("variable"==e&&(It.marked="property"),f(b(":"),U,V)):(m(t),f(V))}function V(e,t){return"="==t?f(j):void 0}function G(e){return","==e?f(F):void 0}function X(e,t){return"keyword b"==e&&"else"==t?f(w("form","else"),_,x):void 0}function Y(e){return"("==e?f(w(")"),K,b(")"),x):void 0}function K(e){return"var"==e?f(F,b(";"),Z):";"==e?f(Z):"variable"==e?f(J):p(y,b(";"),Z)}function J(e,t){return"in"==t||"of"==t?(It.marked="keyword",f(y)):f(S,Z)}function Z(e,t){return";"==e?f(Q):"in"==t||"of"==t?(It.marked="keyword",f(y)):p(y,b(";"),Q)}function Q(e){")"!=e&&f(y)}function et(e,t){return"*"==t?(It.marked="keyword",f(et)):"variable"==e?(m(t),f(et)):"("==e?f(g,w(")"),M(tt,")"),x,_,v):void 0}function tt(e){return"spread"==e?f(tt):p(U,W)}function it(e,t){return"variable"==e?(m(t),f(rt)):void 0}function rt(e,t){return"extends"==t?f(y,rt):"{"==e?f(w("}"),st,x):void 0}function st(e,t){return"variable"==e||"keyword"==It.style?(It.marked="property","get"==t||"set"==t?f(nt,et,st):f(et,st)):"*"==t?(It.marked="keyword",f(st)):";"==e?f(st):"}"==e?f():void 0}function nt(e){return"variable"!=e?p():(It.marked="property",f())}function ot(e,t){return"string"==e?f(_):"variable"==e?(m(t),f(dt)):void 0}function at(e,t){return"*"==t?(It.marked="keyword",f(dt,b(";"))):"default"==t?(It.marked="keyword",f(y,b(";"))):p(_)}function lt(e){return"string"==e?f():p(ht,dt)}function ht(e,t){return"{"==e?O(ht,"}"):("variable"==e&&m(t),f())}function dt(e,t){return"from"==t?(It.marked="keyword",f(y)):void 0}function ct(e){return"]"==e?f():p(j,ut)}function ut(e){return"for"==e?p(pt,b("]")):","==e?f(M(T,"]")):p(M(j,"]"))}function pt(e){return"for"==e?f(Y,pt):"if"==e?f(y,pt):void 0}function ft(e,t){return"operator"==e.lastType||","==e.lastType||Ct.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var mt,gt,vt=t.indentUnit,wt=i.statementIndent,xt=i.jsonld,bt=i.json||xt,_t=i.typescript,yt=i.wordCharacters||/[\w$\xa1-\uffff]/,jt=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),i=e("keyword b"),r=e("keyword c"),s=e("operator"),n={type:"atom",style:"atom"},o={"if":e("if"),"while":t,"with":t,"else":i,"do":i,"try":i,"finally":i,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":s,"typeof":s,"instanceof":s,"true":n,"false":n,"null":n,undefined:n,NaN:n,Infinity:n,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":r,"export":e("export"),"import":e("import"),"extends":r};if(_t){var a={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:a,number:a,bool:a,any:a};for(var h in l)o[h]=l[h]}return o}(),Ct=/[+\-*&%=<>!?|~^]/,qt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Tt="([{}])",St={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},It={state:null,column:null,marked:null,cc:null},kt={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(e){var t={tokenize:n,lastType:"sof",cc:[],lexical:new d((e||0)-vt,0,"block",!1),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:0};return i.globalVars&&"object"==typeof i.globalVars&&(t.globalVars=i.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),h(e,t)),t.tokenize!=a&&e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==mt?i:(t.lastType="operator"!=mt||"++"!=gt&&"--"!=gt?mt:"incdec",u(t,i,mt,gt,e))},indent:function(t,r){if(t.tokenize==a)return e.Pass;if(t.tokenize!=n)return 0;var s=r&&r.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var h=t.cc[l];if(h==x)o=o.prev;else if(h!=X)break}"stat"==o.type&&"}"==s&&(o=o.prev),wt&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var d=o.type,c=s==d;return"vardef"==d?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==d&&"{"==s?o.indented:"form"==d?o.indented+vt:"stat"==d?o.indented+(ft(t,r)?wt||vt:0):"switch"!=o.info||c||0==i.doubleIndentSwitch?o.align?o.column+(c?0:1):o.indented+(c?0:vt):o.indented+(/^(?:case|default)\b/.test(r)?vt:2*vt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:bt?null:"/*",blockCommentEnd:bt?null:"*/",lineComment:bt?null:"//",fold:"brace",helperType:bt?"json":"javascript",jsonldMode:xt,jsonMode:bt}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("js/codemirror")):"function"==typeof define&&define.amd?define(["js/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){if(!window.JSHINT)return[];JSHINT(e,t);var i=JSHINT.data().errors,r=[];return i&&n(i,r),r}function i(e){return r(e,a,"warning",!0),r(e,l,"error"),s(e)?null:e}function r(e,t,i,r){var s,n,o,a,l;s=e.description;for(var h=0;h<t.length;h++)n=t[h],o="string"==typeof n?n:n[0],a="string"==typeof n?null:n[1],l=-1!==s.indexOf(o),(r||l)&&(e.severity=i),l&&a&&(e.description=a)}function s(e){for(var t=e.description,i=0;i<o.length;i++)if(-1!==t.indexOf(o[i]))return!0;return!1}function n(t,r){for(var s=0;s<t.length;s++){var n=t[s];if(n){var o,a;if(o=[],n.evidence){var l=o[n.line];if(!l){var h=n.evidence;l=[],Array.prototype.forEach.call(h,function(e,t){"	"===e&&l.push(t+1)}),o[n.line]=l}if(l.length>0){var d=n.character;l.forEach(function(e){d>e&&(d-=1)}),n.character=d}}var c=n.character-1,u=c+1;n.evidence&&(a=n.evidence.substring(c).search(/.\b/),a>-1&&(u+=a)),n.description=n.reason,n.start=n.character,n.end=u,n=i(n),n&&r.push({message:n.description,severity:n.severity,from:e.Pos(n.line-1,c),to:e.Pos(n.line-1,u)})}}}var o=["Dangerous comment"],a=[["Esperava '{'","Corpo de comando deve ser colocado entre chaves '{ }'."]],l=["Falta ponto-e-vírgula.","Vírgula a mais","Falta nome de propriedade","não casado"," mas encontrou"," não está definido","não terminad","Parando"];e.registerHelper("lint","javascript",t)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,i){function r(t){return s.parentNode?(s.style.top=Math.max(0,t.clientY-s.offsetHeight-5)+"px",void(s.style.left=t.clientX+5+"px")):e.off(document,"mousemove",r)}var s=document.createElement("div");return s.className="CodeMirror-lint-tooltip",s.appendChild(i.cloneNode(!0)),document.body.appendChild(s),e.on(document,"mousemove",r),r(t),null!=s.style.opacity&&(s.style.opacity=1),s}function i(e){e.parentNode&&e.parentNode.removeChild(e)}function r(e){e.parentNode&&(null==e.style.opacity&&i(e),e.style.opacity=0,setTimeout(function(){i(e)},600))}function s(i,s,n){function o(){e.off(n,"mouseout",o),a&&(r(a),a=null)}var a=t(i,s),l=setInterval(function(){if(a)for(var e=n;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){o();break}}return a?void 0:clearInterval(l)},400);e.on(n,"mouseout",o)}function n(e,t,i){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=i,this.onMouseOver=function(t){g(e,t)}}function o(t,i){if(i instanceof Function)return{getAnnotations:i};if(i&&i!==!0||(i={}),i.getAnnotations||(i.getAnnotations=t.getHelper(e.Pos(0,0),"lint")),!i.getAnnotations)throw new Error("Required option 'getAnnotations' missing (lint addon)");return i}function a(e){var t=e.state.lint;t.hasGutter&&e.clearGutter(v);for(var i=0;i<t.marked.length;++i)t.marked[i].clear();t.marked.length=0}function l(t,i,r,n){var o=document.createElement("div"),a=o;return o.className="CodeMirror-lint-marker-"+i,r&&(a=o.appendChild(document.createElement("div")),a.className="CodeMirror-lint-marker-multiple"),0!=n&&e.on(a,"mouseover",function(e){s(e,t,a)}),o}function h(e,t){return"error"==e?e:t}function d(e){for(var t=[],i=0;i<e.length;++i){var r=e[i],s=r.from.line;(t[s]||(t[s]=[])).push(r)}return t}function c(e){var t=e.severity;t||(t="error");var i=document.createElement("div");return i.className="CodeMirror-lint-message-"+t,i.appendChild(document.createTextNode(e.message)),i}function u(e){var t=e.state.lint,i=t.options,r=i.options||i;i.async||i.getAnnotations.async?i.getAnnotations(e.getValue(),p,r,e):p(e,i.getAnnotations(e.getValue(),r,e))}function p(e,t){a(e);for(var i=e.state.lint,r=i.options,s=d(t),n=0;n<s.length;++n){var o=s[n];if(o){for(var u=null,p=i.hasGutter&&document.createDocumentFragment(),f=0;f<o.length;++f){var m=o[f],g=m.severity;g||(g="error"),u=h(u,g),r.formatAnnotation&&(m=r.formatAnnotation(m)),i.hasGutter&&p.appendChild(c(m)),m.to&&i.marked.push(e.markText(m.from,m.to,{className:"CodeMirror-lint-mark-"+g,__annotation:m}))}i.hasGutter&&e.setGutterMarker(n,v,l(p,u,o.length>1,i.options.tooltips))}}r.onUpdateLinting&&r.onUpdateLinting(t,s,e)}function f(e){var t=e.state.lint;clearTimeout(t.timeout),t.timeout=setTimeout(function(){u(e)},t.options.delay||500)}function m(e,t){var i=t.target||t.srcElement;s(t,c(e),i)}function g(e,t){var i=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(i.className))for(var r=i.getBoundingClientRect(),s=(r.left+r.right)/2,n=(r.top+r.bottom)/2,o=e.findMarksAt(e.coordsChar({left:s,top:n},"client")),a=0;a<o.length;++a){var l=o[a].__annotation;if(l)return m(l,t)}}var v="CodeMirror-lint-markers";e.defineOption("lint",!1,function(t,i,r){if(r&&r!=e.Init&&(a(t),t.off("change",f),e.off(t.getWrapperElement(),"mouseover",t.state.lint.onMouseOver),delete t.state.lint),i){for(var s=t.getOption("gutters"),l=!1,h=0;h<s.length;++h)s[h]==v&&(l=!0);var d=t.state.lint=new n(t,o(t,i),l);t.on("change",f),0!=d.options.tooltips&&e.on(t.getWrapperElement(),"mouseover",d.onMouseOver),u(t)}})});var _hints=new Array,_samples=new Array,_tests=new Array,_results=new Array,_solutions=new Array,_installed_exercise,_num_exercises,_installed_rater,_jqxgrid_selected_index,_source,_dataAdapter,_response,_editor,_send_printf_to="browser",_printf_output="",_player,_disregard_resize=!1,_the_user_email="naoregistrado@saci",_log_addr="",_theRating=[],_page_language=1,_prog_language="js",_log_actions=!1,_local_save_and_retrieve=!0;$(document).ready(function(){"js"===_prog_language?(_the_theme="orange",$(".themeSaci").css({color:"#7c4400"}),$("h1").css({color:"#7c4204"}),$("h2").css({color:"#7c4204"}),$("h3").css({color:"#7c4204"}),$("h4").css({color:"#7c4204"}),$("h5").css({color:"#7c4204"}),$("a").css({color:"#7c4204"})):(_the_theme="darkblue",$(".themeSaci").css({color:"#004a73"}),$("h1").css({color:"#004a73"}),$("h2").css({color:"#004a73"}),$("h3").css({color:"#004a73"}),$("h4").css({color:"#004a73"}),$("h5").css({color:"#004a73"}),$("a").css({color:"#004a73"})),$("#splitContainer").jqxSplitter({theme:_the_theme,height:"95%",width:"97%",orientation:"horizontal",panels:[{size:192},{size:"60%"}]}),$("#splitter").jqxSplitter({theme:_the_theme,width:"100%",panels:[{size:340},{size:"100%"}]}),$("#splitter1").jqxSplitter({theme:_the_theme,width:"100%",height:"100%",panels:[{size:"20%"}]}),$("#splitter2").jqxSplitter({theme:_the_theme,width:"100%",height:"100%",panels:[{size:"75%",collapsible:!1}]}),$("#tabs").jqxTabs({theme:_the_theme,height:"100%",width:"100%"}),$("#inputsaveBTN").jqxButton({theme:_the_theme}),$("#inputretrieveBTN").jqxButton({theme:_the_theme}),$("#inputclearBTN").jqxButton({theme:_the_theme}),$("#outputclearBTN").jqxButton({theme:_the_theme}),$("#outputexpectedBTN").jqxButton({theme:_the_theme}),$("#codeexecuteBTN").jqxButton({theme:_the_theme}),$("#codesubmitBTN").jqxButton({theme:_the_theme}),$("#codesaveBTN").jqxButton({theme:_the_theme}),$("#coderetrieveBTN").jqxButton({theme:_the_theme}),$("#codeclearBTN").jqxButton({theme:_the_theme}),$("#codeformatBTN").jqxButton({theme:_the_theme}),$("#codehintBTN").jqxButton({theme:_the_theme,template:"success"}),$("#saveSubmitBTN").jqxButton({theme:_the_theme}),$("#saveCancelBTN").jqxButton({theme:_the_theme}),$("#retrieveSubmitBTN").jqxButton({theme:_the_theme}),$("#retrieveRemoveBTN").jqxButton({theme:_the_theme}),$("#retrieveCancelBTN").jqxButton({theme:_the_theme}),$("#alertOkBTN").jqxButton({theme:_the_theme}),$("#confirmOkBTN").jqxButton({theme:_the_theme}),$("#confirmCancelBTN").jqxButton({theme:_the_theme}),$("#reportOkBTN").jqxButton({theme:_the_theme}),$("#reportCancelBTN").jqxButton({theme:_the_theme}),_source={localdata:[["Aula 1 -- Introducao","1","Comentario","2/12/2014 14:30"]],datafields:[{name:"Date",type:"string",map:"0"},{name:"Course",type:"string",map:"1"},{name:"Class",type:"string",map:"2"},{name:"Exercise",type:"string",map:"3"},{name:"Comment",type:"string",map:"4"}],datatype:"array"},_dataAdapter=new $.jqx.dataAdapter(_source);var e=function(){var e={};return e.pagergotopagestring=_translate("show_page"),e.pagershowrowsstring=_translate("lines"),e.pagerrangestring=_translate("of"),e.pagernextbuttonstring=_translate("next"),e.pagerpreviousbuttonstring=_translate("previous"),e.emptydatastring=_translate("no_register_matches_filter"),e.todaystring=_translate("today"),e.clearstring=_translate("clear"),e};$("#jqxgrid").jqxGrid({theme:_the_theme,width:790,height:340,source:_dataAdapter,showfilterrow:!0,filterable:!0,columnsresize:!1,pageable:!0,autoheight:!1,localization:e(),selectionmode:"singlerow",columns:[{text:"Data",datafield:"Date",width:140},{text:"Curso",datafield:"Course",width:60},{text:"Aula",datafield:"Class",width:230},{text:"Exercício",datafield:"Exercise",width:80,cellsalign:"center"},{text:"Comentário",datafield:"Comment",width:280}]}),$("#jqxgrid").on("rowselect",function(e){_jqxgrid_selected_index=e.args.rowindex
}),_response=new $.jqx.response,$("#inputclearBTN").on("click",function(){_inputClear()}),$("#inputsaveBTN").on("click",function(){_inputSave()}),$("#inputretrieveBTN").on("click",function(){_inputRetrieve()}),$("#outputclearBTN").on("click",function(){_outputClear()}),$("#outputexpectedBTN").on("click",function(){_outputExpected()}),$("#codeclearBTN").on("click",function(){_codeClear()}),$("#codeformatBTN").on("click",function(){_codeFormat()}),$("#codehintBTN").on("click",function(){_codeHint()}),$("#codesubmitBTN").on("click",function(){_codeSubmit()}),$("#codeexecuteBTN").on("click",function(){_codeExecute()}),$("#codesaveBTN").on("click",function(){_codeSave()}),$("#coderetrieveBTN").on("click",function(){_codeRetrieve()}),$("#saveSubmitBTN").on("click",function(){_saveSubmit()}),$("#retrieveSubmitBTN").on("click",function(){_retrieveSubmit()}),$("#retrieveRemoveBTN").on("click",function(){_retrieveRemove()}),$("#saveCancelBTN").on("click",function(){$("#modalWindow").jqxWindow("close")}),$("#retrieveCancelBTN").on("click",function(){$("#jqxgrid").jqxGrid("clearfilters"),$("#modalWindow2").jqxWindow("close")}),$("#alertOkBTN").on("click",function(){$("#alertWindow").jqxWindow("close")}),$("#splitContainer").on("resize",function(e){$(window).resize(),_disregard_resize||0===e.args.panels[0].size&&""!=$("#hiddenvideo").val()&&_player.pauseVideo(),_disregard_resize=!1}),$("#splitter").on("resize",function(e){0===e.args.panels[0].size&&""!=$("#hiddenvideo").val()&&_player.pauseVideo()}),$("#splitter1").on("resize",function(){_disregard_resize=!0}),$("#confirmWindow").on("close",function(e){e.args.dialogResult.OK&&_confirmAction(),_confirmAction=""}),$("#reportWindow").on("close",function(e){e.args.dialogResult.OK&&_do_report_a_problem()}),$("#smallersizeBTN").jqxButton({theme:_the_theme}),$("#largersizeBTN").jqxButton({theme:_the_theme}),$("#smallersizeBTN").on("click",function(){_setTextSize(-2)}),$("#largersizeBTN").on("click",function(){_setTextSize(2)}),$("#modalWindow").jqxWindow({theme:_the_theme,height:"auto",width:"auto",isModal:!0,modalOpacity:.4,autoOpen:!1}),$("#modalWindow2").jqxWindow({theme:_the_theme,height:"auto",width:"auto",isModal:!0,modalOpacity:.4,autoOpen:!1}),$("#historyWindow").jqxWindow({theme:_the_theme,height:"500px",width:"700px",isModal:!0,modalOpacity:.4,autoOpen:!1,showCloseButton:!0}),$("#alertWindow").jqxWindow({theme:_the_theme,height:"auto",width:"auto",isModal:!0,modalOpacity:.4,autoOpen:!1,showCloseButton:!0}),$("#reportWindow").jqxWindow({theme:_the_theme,height:"auto",width:"auto",isModal:!0,modalOpacity:.4,autoOpen:!1,okButton:$("#reportOkBTN"),cancelButton:$("#reportCancelBTN")}),$("#confirmWindow").jqxWindow({theme:_the_theme,height:"auto",width:"auto",isModal:!0,modalOpacity:.4,autoOpen:!1,okButton:$("#confirmOkBTN"),cancelButton:$("#confirmCancelBTN")}),$("#notificationHint").jqxNotification({width:500,position:"bottom-right",opacity:.9,autoOpen:!1,animationOpenDelay:800,autoClose:!1,template:"time",browserBoundsOffset:10}),$("#notificationSuccess").jqxNotification({width:300,position:"top-right",opacity:.9,autoOpen:!1,animationOpenDelay:800,autoClose:!0,autoCloseDelay:3e3,template:"success",browserBoundsOffset:10}),$("#notificationError").jqxNotification({width:300,position:"top-right",opacity:.9,autoOpen:!1,animationOpenDelay:800,autoClose:!0,autoCloseDelay:8e3,template:"mail",browserBoundsOffset:10}),$("#tabs").on("selected",function(e){var t=parseInt(e.args.item);t>0&&_num_exercises>=t?_installExercise(t-1):_installRater(t)});try{for(var t=0;20>=t;t++){var i="#exerciseRatingStars"+t.toString();$(i).jqxRating({width:"100px",theme:"classic"}),$(i).on("change",function(e){_ratingSet(e.value)})}}catch(r){}$("#inputsaveBTN").jqxTooltip({content:_translate("save_input_for_later_use"),position:"mouse",name:"inputsaveTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#inputretrieveBTN").jqxTooltip({content:_translate("retrieve_saved_input"),position:"mouse",name:"inputretrieveTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#inputclearBTN").jqxTooltip({content:_translate("clear_input_area"),position:"mouse",name:"inputclearTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#outputclearBTN").jqxTooltip({content:_translate("clear_output_area"),position:"mouse",name:"outputclearTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#outputexpectedBTN").jqxTooltip({content:_translate("show_output_expected"),position:"mouse",name:"outputexpextedTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#codeexecuteBTN").jqxTooltip({content:_translate("execute_program"),position:"mouse",name:"codeexecuteTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#codesubmitBTN").jqxTooltip({content:_translate("submit_program"),position:"mouse",name:"codesubmitTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#codesaveBTN").jqxTooltip({content:_translate("save_program_for_later_use"),position:"mouse",name:"codesaveTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#coderetrieveBTN").jqxTooltip({content:_translate("retrieve_saved_program"),position:"mouse",name:"coderetrieveTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#codeclearBTN").jqxTooltip({content:_translate("clear_program_area"),position:"mouse",name:"codeclearTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#codeformatBTN").jqxTooltip({content:_translate("format_program"),position:"mouse",name:"codeformatTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#codehintBTN").jqxTooltip({content:_translate("hints_for_solving_problem"),position:"mouse",name:"codehintTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#reportProblemLNK").jqxTooltip({content:_translate("send_a_message"),position:"mouse",name:"reportProblemTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#doTourLNK").jqxTooltip({content:_translate("do_a_tour"),position:"mouse",name:"doTourTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#smallersizeBTN").jqxTooltip({content:_translate("diminish_letter_size"),position:"mouse",name:"smallersizeTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#largersizeBTN").jqxTooltip({content:_translate("diminish_letter_size"),position:"mouse",name:"largersizeTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),$("#mycourseLNK").jqxTooltip({content:_translate("show_which_exercises"),position:"mouse",name:"mycourseTip",showDelay:1e3,autoHide:!1,animationShowDelay:250}),_splitTests(),_defaultSize(),$("#textareaOutput").prop("readonly",!0),_showElement=13,_getRegisteredUser(),""==$("#hiddenvideo").val()&&$("#splitter").jqxSplitter("collapse"),_log_actions&&$.post(_log_addr,{thetype:1,theuseremail:_the_user_email,thecourse:$("#hiddencourse").val(),theclass:_utf8_to_b64($("title").html()),theexercise:-1,thecode:"",thetotaltests:0,thecorrecttests:0}),_editor.setValue("js"===_prog_language?_translate("enter_here_your_program_js"):_translate("enter_here_your_program_py")),$(window).resize(),"py"===_prog_language&&brython(),$("#codesubmitBTN").jqxButton({disabled:!0}),$("#outputexpectedBTN").jqxButton({disabled:!0});var s=$("#tabs").jqxTabs("length");$("#tabs").jqxTabs("disableAt",s-1)}),_translate_table={alert:["Alert","Alerta"],clear:["Clear","Limpa"],clear_input_area:["Clear input area","Limpa a área de entrada"],clear_output_area:["Clear output area","Limpa a área de saída"],clear_program_area:["Clear program area","Limpa a área de programa"],confirm:["Confirm","Confirmação"],confirm_clear_program_area:["Confirm clear program area?","Quer mesmo limpar o texto do programa?"],correct:["correct\n","correto\n"],diminish_letter_size:["Diminish the letter size in the Work Area","Diminui o tamanho das letras da Área de Trabalho"],do_a_tour:["Do a tour of the interface, showing the features of the SACI system","Faz um passeio pela interface, mostrando as funcionalidades do ambiente SACI"],enlarge_letter_size:["Enlarge the letter size in the Work Area","Aumenta o tamanho das letras da Área de Trabalho"],enter_here_your_program_js:["//enter your program here\n","// digite aqui seu programa\n"],enter_here_your_program_py:["# enter your program here\n","# digite aqui seu programa\n"],error:["Error","Erro"],error_differences_in_space:["Your solution is almost correct, but it contains extra or missing lines or blank spaces. Output must be exaclty as specified. Check your program carefully to find the error.","Sua solução está quase correta, mas tem linhas ou espaços em branco a mais ou a menos. A saída tem que ser exatamente como especificado. Verifique atentamente o seu programa para encontrar o erro."],error_differences_in_space_uppercase:["Your solution is almost correct, but it contains extra or missing lines or blank spaces, and differences in uppercase and lowercase letters. Output must be exaclty as specified. Check your program carefully to find the error.","Sua solução está quase correta, mas ainda há diferenças de espaços em branco ou linhas (a mais ou a menos), ou entre letras maiúsculas e minúsculas. A saída tem que ser exatamente como especificado. Verifique atentamente o seu programa para encontrar o erro."],error_differences_in_uppercase:["Your solution is almost correct, but there are differences in uppercase and lowercase letters. Output must be exaclty as specified. Check your program carefully to find the error.","Sua solução está quase correta, mas ainda há diferenças entre letras maiúsculas e minúsculas. A saída tem que ser exatamente como especificado. Verifique atentamente o seu programa para encontrar o erro."],error_each_line_in_output_must_end:["Each line in output must end with a end-of-line-character (\n). Check if, for each line in output, as specified in the statement, your program includes the character \\n in the printf command","Cada linha da saída deve terminar com um caractere final-de-linha (\n). Verifique se, para cada linha na saída, conforme especificado no enunciado, seu programa inclui o caractere \\n no comando printf correspondente."],error_incorrect_test_specification:["Error: incorrect test specification","Erro: especificação de testes incorreta."],error_in_line:["Error in line","Erro na linha"],error_message:["Error message","Mensagem de erro"],error_program_too_large:["Error: program too large.","Erro: programa muito grande."],error_operation:["Error: operation could not be completed","Erro: operação não pode ser completada."],execute_program:["Execute the program, reading data from input area","Executa o programa, lendo dados da área de Entrada"],exercise:["Exercise","Exercício"],expected_output:["Expected output","Saída Esperada"],feature_restricted_to_registered_users:["Feature restricted to registered users.","Função restrita a usuários registrados."],fgets_error_only_one_argument:["[fgets] accepts only one argument, the name of a variable","[fgets] aceita apenas um argumento, o nome de uma variável"],format_program:["Format section of program to a standard format<br />(a program section must be selected before using the button)","Formata um trecho de programa, colocando-o em um formato padrão<br />(é necessário selecionar um trecho de programa antes de usar o botão)"],hints_for_solving_problem:["Hints (dynamic) do solve the exercise<br />(analyses the program and tries to help you finding a solution)","Dicas (dinâmicas) para resolver o exercício<br />(analisa o programa e procura ajudar você a chegar na solução)"],hmmm:["Hmmm. ","Hmmm. "],incorrect:["incorrect\n","incorreto\n"],i_see_you_do_not_need_help:["I see you do not need help, as your solution is correct!","Vejo que não precisa de ajuda, pois a sua solução está correta!"],lines:["Lines:","Linhas:"],next:["next","próximo"],next_capital:["Next","Próximo"],no_hint_available:["No hint available. See the Solutions tab for a sample solution.","Não tenho nenhuma dica para este exercício no momento. Veja a aba Soluções para um exemplo de solução."],no_register_matches_filter:["No register matches the specified filter","Nenhum registro corresponde ao filtro desejado"],nothing_saved_yet:["Nothing saved yet, nothing to retrieve","Nada foi salvo ainda, não há o que recuperar."],nothing_to_save:["There is nothing to save","Não há o que salvar."],of:[" of "," de "],ok_you_can_stop:["OK, you can stop","OK, pode parar"],previous:["previous","anterior"],previous_capital:["Previous","Anterior"],report_received:["Report received, thank you for your cooperation.","Relato recebido, obrigado por sua cooperação."],re_rank_class:["Re-rank class","Reavalie esta aula"],re_rank_exercise:["Re-rank exercise","Reavalie este exercício"],retrieve_input:["Retrieve Input","Recupera Entrada"],retrieve_program:["Retrieve Program","Recupera Programa"],retrieve_saved_input:["Retrieve a saved input","Recupera uma entrada salva anteriormente"],retrieve_saved_program:["Retrieve a saved program","Recupera um programa salvo anteriormente"],save_input_for_later_use:["Save input for later use","Salva a entrada para uso posterior"],save_program:["Save Program","Salva Programa"],save_program_for_later_use:["Save program for later use","Salva o programa para uso posterior"],scanf_error_while_reading:["[scanf] error while reading input","[scanf] erro durante leitura da entrada"],scanf_error_no_match:["[scanf] no match in string","[scanf] formato não casa com argumentos"],scanf_error_not_enough_args:["[scanf] not enough arguments","[scanf] número insuficiente de argumentos"],scanf_error_all_groups_as_numeric:["[scanf] all groups in scanf() must be expressed as numeric if any have already been used","[scanf] todos os grupos devem ser expressos como numéricos"],scanf_error_unexpected_size:["[scanf] unexpected size specifier in scanf","[scanf] especificador de tamanho inesperado"],scanf_error_missing_charac_after_percent:["[scanf] missing character after percent mark in format argument","[scanf] falta caractere depois de porcentagem na cadeia formatadora"],scanf_error_unrecognized_charac_after_percent:["[scanf] unrecognized character after percent mark in format argument","[scanf] caractere desconhecido depois de porcentagem na cadeia formatadora"],select_exercise:["Select an exercise, clicking in one of the tabs.","Escolha um exercício, selecionando uma das abas."],select_lines_to_format:["Select lines to format.","Selecione as linhas a serem formatadas."],select_input_to_remove:["Select Input to remove","Selecione a Entrada a ser removida."],select_program_to_remove:["Select program to remove","Selecione o Programa a ser removido."],select_input_to_retrieve:["Select Input to retrieve","Selecione a Entrada a ser recuperada."],select_program_to_retrieve:["Select program to retrieve","Selecione o Programa a ser recuperado."],send_a_message:["Send a message to the SACI administrator","Envia uma mensagem para o administrador do sistema SACI"],show_output_expected:["Show expected output","Mostra a saída esperada para os dados da área de Entrada"],show_page:["Show page:","Mostra página:"],show_which_exercises:["Show which exercises have been completed in this course","Mostra quais exercícios já foram feitos neste curso"],solution_correct:["Correct solution.","Solução correta."],solution_incorrect:["Incorrect solution.","Solução incorreta."],solution_incorrect_long:["Your solution is incorrect...","Sua solução não está correta..."],solution_incorrect_try_hint:["Your solution is incorrect... Try using the Hint button.","Sua solução não está correta... Experimente usar o botão Ajuda."],solving_exercise:["Solving Exercise","Resolvendo Exercício"],submission_exercise:["Submission Exercise","Submissão Exercício"],submit_program:["Check if the program is correct<br />(execute the program with several test cases and compare its output with the expected output)","Verifica se o programa está correto<br />(executa o programa com várias entradas e compara com a saída esperada)"],test:["Test %2d: ","Teste %2d: "],there_is_no_video:["There is no video","Não há vídeo para esta aula"],thanks:["Thanks!","Obrigado!"],today:["Today","Hoje"],to_see_the_error:[". To see a description of the error, position the mouse pointer over the icon (x) to the left of line ",". Para ver a descrição do erro, passe o mouse sobre o ícone (x) à esquerda da linha "],type:["Type","Tipo"],use_the_split_bars:["Use the split bars, like this one, to change the space configuration. Click on the darker part of the bar to completely hid an area, click again to restore. Or drag the bar by its lighter part to the desired position.","Use as barras de separação, como esta, para alterar a configuração de espaço do ambiente. Clique na parte mais escura de uma barra para esconder totalmente uma área, clique novamente para restaurar. Ou arraste a barra para a posição desejada pela sua parte clara."],very_good:["Very good. ","Muito bom. "],your_program_has_a_syntax_error:["Your program has a syntax error on line ","Seu programa tem um erro de sintaxe (ou seja, de construção) na linha "]},_editor="js"===_prog_language?CodeMirror.fromTextArea(document.getElementById("textareaCode"),{lineNumbers:!0,mode:{name:"javascript",globalVars:!0},gutters:["CodeMirror-lint-markers"],indentUnit:3,matchBrackets:!0,lint:!0}):CodeMirror.fromTextArea(document.getElementById("textareaCode"),{mode:{name:"python",version:3,singleLineStringErrors:!1},lineNumbers:!0,indentUnit:4,matchBrackets:!0});var _tag=document.createElement("script");if(""!=$("#hiddenvideo").val()){_tag.src="https://www.youtube.com/iframe_api";var _firstScriptTag=document.getElementsByTagName("script")[0];_firstScriptTag.parentNode.insertBefore(_tag,_firstScriptTag)}var _backup_type=-1;_confirmAction="";var _hints_shown,_hints_ready=[],_rtime=new Date(1,1,2e3,12,0,0),_timeout=!1,_delta=200;$(window).resize(function(){_rtime=new Date,_timeout===!1&&(_timeout=!0,setTimeout(_resizeEnd,_delta))});var _task_names=["tarefa1.js","tarefa2.js","tarefa3.js","tarefa4.js","tarefa5.js"];!function(e){function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){for(var i=[];t>0;i[--t]=e);return i.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};r.format=function(e,s){var n,o,a,l,h,d,c,u=1,p=e.length,f="",m=[];for(o=0;p>o;o++)if(f=t(e[o]),"string"===f)m.push(e[o]);else if("array"===f){if(l=e[o],l[2])for(n=s[u],a=0;a<l[2].length;a++){if(!n.hasOwnProperty(l[2][a]))throw r('[sprintf] property "%s" does not exist',l[2][a]);n=n[l[2][a]]}else n=l[1]?s[l[1]]:s[u++];if(/[^s]/.test(l[8])&&"number"!=t(n))throw r("[sprintf] expecting number but found %s",t(n));switch(l[8]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":n=parseInt(n,10);break;case"e":n=l[7]?n.toExponential(l[7]):n.toExponential();break;case"f":n=l[7]?parseFloat(n).toFixed(l[7]):parseFloat(n);break;case"o":n=n.toString(8);break;case"s":n=(n=String(n))&&l[7]?n.substring(0,l[7]):n;break;case"u":n>>>=0;break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase()}n=/[def]/.test(l[8])&&l[3]&&n>=0?"+"+n:n,d=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",c=l[6]-String(n).length,h=l[6]?i(d,c):"",m.push(l[5]?n+h:h+n)}return m.join("")},r.cache={},r.parse=function(e){for(var t=e,i=[],r=[],s=0;t;){if(null!==(i=/^[^\x25]+/.exec(t)))r.push(i[0]);else if(null!==(i=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(i=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(i[2]){s|=1;var n=[],o=i[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(o)))throw"[sprintf] huh?";for(n.push(a[1]);""!==(o=o.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(o)))n.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(o)))throw"[sprintf] huh?";n.push(a[1])}i[2]=n}else s|=2;if(3===s)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(i)}t=t.substring(i[0].length)}return r};var s=function(e,t,i){return i=t.slice(0),i.splice(0,0,e),r.apply(null,i)};e.sprintf=r,e.vsprintf=s}("undefined"!=typeof exports?exports:window);var _index_help=0,_index_help_max=0;(function(){var e=[].slice;!function(t,i){var r;return r=function(){function e(e){var r=this;this.$el=t(e),t(i).resize(function(){return r.refresh()})}return e.prototype.begin=function(){var e;e=this.$el.find("*[data-intro]:visible"),_horizontal=this.$el.find(".jqx-splitter-splitbar-horizontal")[0],"undefined"==typeof t(_horizontal).attr("data-intro")&&(_horizontal.setAttribute("data-intro",_translate("use_the_split_bars")),_horizontal.setAttribute("data-index",e.length+1)),e=this.$el.find("*[data-intro]:visible"),_index_help_max=e.length,_index_help=1,this.start()},e.prototype.start=function(){var e;return this._overlay_visible()?!1:(-1==_installed_exercise?(t("#exercise_title").html("Resolvendo Exercício 1"),document.getElementById("codehintBTNdiv").style.display="inline"):""===_hints[_installed_exercise][0][0]&&(document.getElementById("codehintBTNdiv").style.display="inline"),this._add_overlay_layer(),e=this.$el.find("*[data-intro]:visible"),this.show(),this.$el.trigger("chardinJs:start"))},e.prototype.show=function(){var e,t,i,r;for(r=this.$el.find("*[data-intro]:visible"),t=0,i=r.length;i>t;t++)e=r[t],e.getAttribute("data-index")==_index_help&&this._show_element(e)},e.prototype.toggle=function(){return this._overlay_visible()?this.stop():this.start()},e.prototype.refresh=function(){var e,t,i,r,s;if(this._overlay_visible()){for(r=this.$el.find("*[data-intro]:visible"),s=[],t=0,i=r.length;i>t;t++)e=r[t],s.push(this._position_helper_layer(e));return s}return this},e.prototype.hide=function(){this.$el.find(".chardinjs-helper-layer").remove(),this.$el.find(".chardinjs-show-element").removeClass("chardinjs-show-element"),this.$el.find(".chardinjs-relative-position").removeClass("chardinjs-relative-position"),0>_index_help&&(_index_help=0),_index_help++,_index_help_max>=_index_help?this.show():this.stop()},e.prototype.stop=function(){-1==_installed_exercise?(t("#exercise_title").html(" "),document.getElementById("codehintBTNdiv").style.display="none"):""===_hints[_installed_exercise][0][0]&&(document.getElementById("codehintBTNdiv").style.display="none"),this.$el.find(".chardinjs-overlay").fadeOut(function(){return t(this).remove()}),this.$el.find(".chardinjs-helper-layer").remove(),this.$el.find(".chardinjs-show-element").removeClass("chardinjs-show-element"),this.$el.find(".chardinjs-relative-position").removeClass("chardinjs-relative-position"),i.removeEventListener?i.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown)},e.prototype._overlay_visible=function(){return 0!==this.$el.find(".chardinjs-overlay").length},e.prototype._add_overlay_layer=function(){var e,t,i,r=this;return this._overlay_visible()?!1:(t=document.createElement("div"),i="",t.className="chardinjs-overlay","BODY"===this.$el.prop("tagName")?(i+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",t.setAttribute("style",i)):(e=this._get_offset(this.$el.get()[0]),e&&(i+="width: "+e.width+"px; height:"+e.height+"px; top:"+e.top+"px;left: "+e.left+"px;",t.setAttribute("style",i))),this.$el.get()[0].appendChild(t),t.onclick=function(){return r.hide()},setTimeout(function(){return i+="opacity: .75;opacity: .75;-ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=75)';filter: alpha(opacity=75);",t.setAttribute("style",i)},10))},e.prototype._get_position=function(e){return e.getAttribute("data-position")||"bottom"},e.prototype._place_tooltip=function(e){var i,r,s,n,o,a,l;switch(a=t(e).data("tooltip_layer"),l=this._get_offset(a),a.style.top=null,a.style.right=null,a.style.bottom=null,a.style.left=null,this._get_position(e)){case"top":case"bottom":s=this._get_offset(e),o=s.width,r=t(a).width(),a.style.left=""+(o/2-l.width/2)+"px";break;case"left":case"right":s=this._get_offset(e),n=s.height,i=t(a).height(),a.style.top=""+(n/2-l.height/2)+"px"}switch(this._get_position(e)){case"left":return a.style.left="-"+(l.width-34)+"px";case"right":return a.style.right="-"+(l.width-34)+"px";case"bottom":return a.style.bottom="-"+l.height+"px";case"top":return a.style.top="-"+l.height+"px"}},e.prototype._position_helper_layer=function(e){var i,r,s,n,o,a;return r=t(e).data("helper_layer"),i=this._get_offset(e),s=i.width,n=i.height,o=i.top,a=i.left,170>s&&(s=170,a+=(s-i.width)/2),r.setAttribute("style","width: "+s+"px; height:"+n+"px; top:"+o+"px; left: "+a+"px;")},e.prototype._show_element=function(e){var i,r,s,n;r=this._get_offset(e),s=document.createElement("div"),n=document.createElement("div"),t(e).data("helper_layer",s).data("tooltip_layer",n),e.id&&s.setAttribute("data-id",e.id),s.className="chardinjs-helper-layer chardinjs-"+this._get_position(e),this._position_helper_layer(e),this.$el.get()[0].appendChild(s),n.className="chardinjs-tooltip chardinjs-"+this._get_position(e),n.innerHTML="<div class='chardinjs-tooltiptext'>"+e.getAttribute("data-intro")+"</div>",s.appendChild(n),this._place_tooltip(e),e.className+=" chardinjs-show-element",i="",e.currentStyle?i=e.currentStyle.position:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(e,null).getPropertyValue("position"));var o=document.createElement("div");t(o).addClass("chardinjs-tooltip relative"),styleText="padding:5px 0 0 0",o.setAttribute("style",styleText);var a=document.createElement("div");t(a).addClass("chardinjs-tooltip relative"),styleText="padding:0 5px 0 0; display:inline",a.setAttribute("style",styleText);var l=document.createElement("button");return t(l).addClass("chardin-tooltip relative").html(_translate("previous_capital")).click(function(){_index_help-=2,t("body").chardinJs("hide")}),t(l).jqxButton(),a.appendChild(l),o.appendChild(a),a=document.createElement("div"),t(a).addClass("chardinjs-tooltip relative"),styleText="padding:0 5px 5px 0; display:inline",a.setAttribute("style",styleText),l=document.createElement("button"),t(l).addClass("chardinjs-tooltip relative display:inline").html(_translate("next_capital")).click(function(){t("body").chardinJs("hide")}),t(l).jqxButton(),a.appendChild(l),o.appendChild(a),a=document.createElement("div"),t(a).addClass("chardinjs-tooltip relative"),styleText="padding: 5px 0 0 0;",a.setAttribute("style",styleText),l=document.createElement("button"),t(l).addClass("chardinjs-tooltip relative").html(_translate("ok_you_can_stop")).click(function(){t("body").chardinJs("stop")}),t(l).jqxButton(),a.appendChild(l),o.appendChild(a),n.appendChild(o),i=i.toLowerCase(),"absolute"!==i&&"relative"!==i?e.className+=" chardinjs-relative-position":void 0},e.prototype._get_offset=function(e){var t,i,r;for(t={width:e.offsetWidth,height:e.offsetHeight},i=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return t.top=r,t.left=i,t},e}(),t.fn.extend({chardinJs:function(){var i,s,n,o;return o=arguments[0],s=2<=arguments.length?e.call(arguments,1):[],i=t(this[0]),n=i.data("chardinJs"),n||i.data("chardinJs",n=new r(this,o)),"string"==typeof o&&n[o].apply(n,s),n}})}(window.jQuery,window)}).call(this);